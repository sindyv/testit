[
    {
        "id": "f6f2187d.f17ca8",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6218cf1268309b16",
        "type": "tab",
        "label": "Dashboard",
        "disabled": false,
        "info": "# Dashboard\r\n",
        "env": []
    },
    {
        "id": "48e31a1b3a2d4e3a",
        "type": "tab",
        "label": "Scheduler",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "35e47215b5f23198",
        "type": "tab",
        "label": "Lighting DALI",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b445f75bcfed026f",
        "type": "tab",
        "label": "DALI Configuration",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "78e8efcf909f71be",
        "type": "tab",
        "label": "Heating",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1f3696eb20e93949",
        "type": "tab",
        "label": "Irrigation",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "4f1a29feadfc6d78",
        "type": "tab",
        "label": "CO2",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "fe85fe50f78d803b",
        "type": "tab",
        "label": "Energy",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0ee30c608f8959c7",
        "type": "tab",
        "label": "Router",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d9f992f405ec7b52",
        "type": "tab",
        "label": "Sensors",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5c958e75c18c11fa",
        "type": "tab",
        "label": "Device to cloud",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ebc3b5acb2fcbb4e",
        "type": "tab",
        "label": "Cloud to device",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8da036ed5f86effc",
        "type": "group",
        "z": "48e31a1b3a2d4e3a",
        "name": "Add Row",
        "style": {
            "label": true
        },
        "nodes": [
            "69dfc87625a962e1",
            "9a06201a11b6b53a",
            "12e370a0a1b1a754",
            "bd05d50aec31f032"
        ],
        "x": 144,
        "y": 399,
        "w": 552,
        "h": 122
    },
    {
        "id": "1b81f3b9cabc11fd",
        "type": "group",
        "z": "48e31a1b3a2d4e3a",
        "name": "Update Row",
        "style": {
            "label": true
        },
        "nodes": [
            "d46dbd2722a84586",
            "3da8461cab24fd0d",
            "af26e361b6b7a25d",
            "9ce60117e1f8fb7c",
            "320d6dede30164e9"
        ],
        "x": 154,
        "y": 559,
        "w": 552,
        "h": 162
    },
    {
        "id": "49292a711e42c921",
        "type": "mqtt-broker",
        "name": "Azure IoT Hub",
        "broker": "ssl://SmartIoTHub.azure-devices.net",
        "port": "8883",
        "tls": "b772d01566214a4b",
        "clientid": "99999",
        "autoConnect": true,
        "usetls": true,
        "compatmode": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "b772d01566214a4b",
        "type": "tls-config",
        "name": "",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "servername": "",
        "verifyservercert": true,
        "alpnprotocol": ""
    },
    {
        "id": "10467160b4f119fa",
        "type": "global-config",
        "name": "global-config",
        "env": []
    },
    {
        "id": "f916ff91cd483ac8",
        "type": "modbus-client",
        "name": "Wago RS-485",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.178.68",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/serial",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "5a31ef0c85d43ce4",
        "type": "modbus-client",
        "name": "RUTX11",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": false,
        "tcpHost": "192.168.1.1",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": false,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": false
    },
    {
        "id": "0f2d61352133442e",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Turfpal Style",
                "default": "#4B7930",
                "baseColor": "#004e41",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#004e41",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#004e41",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#f3f3f3",
                    "edited": true
                },
                "page-sidebar-backgroundColor": {
                    "value": "#004b44",
                    "edited": true
                },
                "group-textColor": {
                    "value": "#454545",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#cccccc",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#5f5f5f",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#004e41",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "",
            "hideToolbar": "true",
            "allowSwipe": "menu",
            "lockMenu": "icon",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 43,
                "sy": 43,
                "gx": 20,
                "gy": 20,
                "cx": 8,
                "cy": 8,
                "px": 20,
                "py": 20
            }
        }
    },
    {
        "id": "c336794c759d5349",
        "type": "ui_group",
        "name": "Phase L1",
        "tab": "15a58c0ccb83e825",
        "order": 2,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "16387a8bbfb992f8",
        "type": "ui_group",
        "name": "Phase L2",
        "tab": "15a58c0ccb83e825",
        "order": 3,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "a5d4bd85b80e239c",
        "type": "ui_group",
        "name": "Phase L3",
        "tab": "15a58c0ccb83e825",
        "order": 4,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "7e42d08b3968f8f8",
        "type": "ui_group",
        "name": "Total",
        "tab": "15a58c0ccb83e825",
        "order": 1,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "7746e34d9fc0a72b",
        "type": "ui_group",
        "name": "PAR",
        "tab": "b5c00f9854473981",
        "order": 3,
        "disp": true,
        "width": "2",
        "collapse": false,
        "className": "sensor-card"
    },
    {
        "id": "56a7cd2a54399f84",
        "type": "ui_group",
        "name": "Temperature",
        "tab": "b5c00f9854473981",
        "order": 4,
        "disp": true,
        "width": "2",
        "collapse": false,
        "className": "sensor-card"
    },
    {
        "id": "f68758d56e72fc96",
        "type": "ui_group",
        "name": "Soil Moisture",
        "tab": "b5c00f9854473981",
        "order": 8,
        "disp": true,
        "width": "2",
        "collapse": false,
        "className": "sensor-card"
    },
    {
        "id": "3c1bbaf012eb5127",
        "type": "ui_group",
        "name": "Soil Temp",
        "tab": "b5c00f9854473981",
        "order": 7,
        "disp": true,
        "width": "2",
        "collapse": false,
        "className": "sensor-card"
    },
    {
        "id": "6906c99d758d2e40",
        "type": "ui_group",
        "name": "Quick Control",
        "tab": "b5c00f9854473981",
        "order": 2,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "591bf29180ec05c6",
        "type": "ui_group",
        "name": "Command",
        "tab": "861abbd4198f159d",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6ea85db8283d411b",
        "type": "ui_group",
        "name": "Data",
        "tab": "861abbd4198f159d",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "54b2305af4b37298",
        "type": "ui_group",
        "name": "Row",
        "tab": "861abbd4198f159d",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "457443a7ef00c356",
        "type": "ui_group",
        "name": "Scheduler",
        "tab": "861abbd4198f159d",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a3377bddc7564ef2",
        "type": "ui_group",
        "name": "Lighting",
        "tab": "c999b1bad4a53838",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "70c3b26a379d804a",
        "type": "ui_group",
        "name": "Configuration",
        "tab": "c999b1bad4a53838",
        "order": 2,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "126f1718a9e18512",
        "type": "ui_group",
        "name": "Devices",
        "tab": "c999b1bad4a53838",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "21cee9ed88b8bd70",
        "type": "ui_group",
        "name": "Heating",
        "tab": "fefa53fb891957d5",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "58e140ce066c7d77",
        "type": "ui_group",
        "name": "Not to display",
        "tab": "0f893d95c9ddf5d5",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b3420aab24f5d3e8",
        "type": "ui_group",
        "name": "Irrigation",
        "tab": "af1cbb5913c33219",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "118f6a96f7b4efb6",
        "type": "ui_group",
        "name": "CO2",
        "tab": "db8fc82052461b24",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7842d3bfb3a31624",
        "type": "ui_group",
        "name": "Sensors",
        "tab": "afd71ae02c784c10",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e38348e874cc7115",
        "type": "ui_group",
        "name": "Router",
        "tab": "2df87518f3384c46",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7a3851358630c042",
        "type": "ui_group",
        "name": "Cellular",
        "tab": "2df87518f3384c46",
        "order": 2,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "154f666860f1c699",
        "type": "ui_group",
        "name": "GPS",
        "tab": "2df87518f3384c46",
        "order": 3,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "117e5486d4a27dbc",
        "type": "ui_group",
        "name": "Energy Lighting",
        "tab": "15a58c0ccb83e825",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8323f912e3af1c61",
        "type": "ui_group",
        "name": "Settings",
        "tab": "fefa53fb891957d5",
        "order": 2,
        "disp": true,
        "width": "5",
        "collapse": true,
        "className": "collapsable"
    },
    {
        "id": "a790b238a82c68a2",
        "type": "ui_group",
        "name": "Settings",
        "tab": "c999b1bad4a53838",
        "order": 4,
        "disp": true,
        "width": "5",
        "collapse": true,
        "className": "collapsable"
    },
    {
        "id": "a1d8ed34.6a447",
        "type": "ui_group",
        "name": "Time",
        "tab": "4d8d2f83.26819",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "cebcd257.c7ba5",
        "type": "ui_group",
        "name": "TempDemo",
        "tab": "2936b813.6cde68",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5b551f60098b97c3",
        "type": "ui_group",
        "name": "Scheduler",
        "tab": "2936b813.6cde68",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8b5cde76.edd6",
        "type": "ui_group",
        "name": "Default",
        "tab": "8e6e4eef.3b6a3",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "15a58c0ccb83e825",
        "type": "ui_tab",
        "name": "Energy",
        "icon": "fa-bolt",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "605dcd58881bdc0a",
        "type": "ui_tab",
        "name": "Settings",
        "icon": "fa-cog",
        "order": 11,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b5c00f9854473981",
        "type": "ui_tab",
        "name": "Dashboard",
        "icon": "fa-tachometer",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "861abbd4198f159d",
        "type": "ui_tab",
        "name": "Scheduler",
        "icon": "fa-calendar",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c999b1bad4a53838",
        "type": "ui_tab",
        "name": "Lighting",
        "icon": "fa-lightbulb-o",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "fefa53fb891957d5",
        "type": "ui_tab",
        "name": "Heating",
        "icon": "fa-thermometer-full",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "0f893d95c9ddf5d5",
        "type": "ui_tab",
        "name": "Not to display",
        "icon": "dashboard",
        "order": 13,
        "disabled": true,
        "hidden": true
    },
    {
        "id": "af1cbb5913c33219",
        "type": "ui_tab",
        "name": "Irrigation",
        "icon": "fa-tint",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "db8fc82052461b24",
        "type": "ui_tab",
        "name": "CO2",
        "icon": "fa-cloud",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "afd71ae02c784c10",
        "type": "ui_tab",
        "name": "System Monitor",
        "icon": "fa-exclamation-triangle",
        "order": 12,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "2df87518f3384c46",
        "type": "ui_tab",
        "name": "Connectivity",
        "icon": "fa-feed",
        "order": 9,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4d8d2f83.26819",
        "type": "ui_tab",
        "name": "Settings",
        "icon": "fa-cog",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "2936b813.6cde68",
        "type": "ui_tab",
        "name": "Scheduler Demo",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8e6e4eef.3b6a3",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9567b2d4cc2d4844",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "51518e41c3bc011c",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "38af87c486eec56f",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "ad1a3e8dcdbafbba",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "e5b7c72f28709f4a",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "d42a2b552060b086",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "d8a5aed4c0f42120",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "2721448548715dbc",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "3a78720eb153c2df",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 1,
        "height": 1
    },
    {
        "id": "207c2da18870665b",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "7f0910b7b76348a7",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "84bfa8a11f0ed739",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "b8e0f12e3241b6e6",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "b5995c0bd39b5d83",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "95a86837bf08285f",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "b07d25a2cedf8932",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "d069e63acc9590b4",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "86b5fbd3577cd5bd",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "5c42e3bf0c0be9e0",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 1,
        "height": 1
    },
    {
        "id": "c1714ea42d18f563",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "d4c181313fee3edc",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "07bf912b19aa84b1",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "46b94c6c8e80c811",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "a8feadd3cd78577a",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "3129f96fcf74e449",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "5a97646c42d2cbf1",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "15f5c89269398797",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "6ee11921d7eec291",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "c90a6450ab87c739",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 1,
        "height": 1
    },
    {
        "id": "e905f8746cd9fdda",
        "type": "ui_spacer",
        "z": "fe85fe50f78d803b",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "878ce456a0f59add",
        "type": "ui_spacer",
        "z": "35e47215b5f23198",
        "name": "spacer",
        "group": "21cee9ed88b8bd70",
        "order": 3,
        "width": "1",
        "height": "1"
    },
    {
        "id": "021f72a7e002fdb9",
        "type": "ui_spacer",
        "z": "35e47215b5f23198",
        "name": "spacer",
        "group": "a3377bddc7564ef2",
        "order": 3,
        "width": "1",
        "height": "1"
    },
    {
        "id": "3cc11d24.ff01a2",
        "type": "comment",
        "z": "f6f2187d.f17ca8",
        "name": "WARNING: please check you have started this container with a volume that is mounted to /data\\n otherwise any flow changes are lost when you redeploy or upgrade the container\\n (e.g. upgrade to a more recent node-red docker image).\\n  If you are using named volumes you can ignore this warning.\\n Double click or see info side panel to learn how to start Node-RED in Docker to save your work",
        "info": "\nTo start docker with a bind mount volume (-v option), for example:\n\n```\ndocker run -it -p 1880:1880 -v /home/user/node_red_data:/data --name mynodered nodered/node-red\n```\n\nwhere `/home/user/node_red_data` is a directory on your host machine where you want to store your flows.\n\nIf you do not do this then you can experiment and redploy flows, but if you restart or upgrade the container the flows will be disconnected and lost. \n\nThey will still exist in a hidden data volume, which can be recovered using standard docker techniques, but that is much more complex than just starting with a named volume as described above.",
        "x": 350,
        "y": 80,
        "wires": []
    },
    {
        "id": "dbb3353480cd1cbf",
        "type": "link in",
        "z": "6218cf1268309b16",
        "name": "PAR Actual",
        "links": [
            "cc510d4b84158a30"
        ],
        "x": 225,
        "y": 360,
        "wires": [
            [
                "2f9bd4e8573edb99"
            ]
        ]
    },
    {
        "id": "75632236b9d33e46",
        "type": "link out",
        "z": "6218cf1268309b16",
        "name": "Quick Start On",
        "mode": "link",
        "links": [
            "7196610f9e501416",
            "4c7e6e0619b08c97",
            "fea8515d91c269ce",
            "81318b40c9c2995a",
            "310cfc42a68e675c",
            "61d302f44350d0a3",
            "aeeef7112b2a8a30",
            "383eb0c203754a3d",
            "226397b37072250d",
            "30725d44030e814a",
            "8cdcabc233d3e55b"
        ],
        "x": 725,
        "y": 200,
        "wires": []
    },
    {
        "id": "7d7079b3d9c55239",
        "type": "link out",
        "z": "6218cf1268309b16",
        "name": "Quick Start Off",
        "mode": "link",
        "links": [
            "026e561733e9e0db",
            "dabf95aece623a9f",
            "b5915160e7e06d78",
            "e410daea1aacb34e",
            "2e77047198ac50c1",
            "de87cf2ae1f5448a",
            "113cd092f52358c3",
            "1126cfcf9cecf975",
            "496b8fc1a4ac8fdb",
            "d2b528035ba1475e",
            "cf106d2ec5bca923"
        ],
        "x": 725,
        "y": 240,
        "wires": []
    },
    {
        "id": "7e2a1b8954d612c6",
        "type": "link out",
        "z": "6218cf1268309b16",
        "name": "Quick Start Auto",
        "mode": "link",
        "links": [
            "fbf3a77a42aba06e",
            "3086d5848ab7dd6a",
            "fefe8dcf4207bd84",
            "ed6e730ecc073768",
            "bc4efb1b405e0b7c",
            "0212813649f2058f",
            "3f98b18e42e1a45b",
            "f5b69c4af1250523",
            "e5cc23dcfd116e27",
            "82454c2da7396df9",
            "5a42cdc88bc06970"
        ],
        "x": 725,
        "y": 280,
        "wires": []
    },
    {
        "id": "5861ea1a3d986ac6",
        "type": "link in",
        "z": "6218cf1268309b16",
        "name": "Surface Temperature",
        "links": [
            "560a88ab57d6497b"
        ],
        "x": 225,
        "y": 400,
        "wires": [
            [
                "41f38cc2afb18018"
            ]
        ]
    },
    {
        "id": "c168133687e3eb2d",
        "type": "link in",
        "z": "6218cf1268309b16",
        "name": "Soil Temperature",
        "links": [
            "0e38062aa46e100a"
        ],
        "x": 225,
        "y": 440,
        "wires": [
            [
                "f9d897bd65da5214"
            ]
        ]
    },
    {
        "id": "7a26911e305b2dda",
        "type": "link in",
        "z": "6218cf1268309b16",
        "name": "Soil Moisture",
        "links": [
            "2c4f747d6af5330e"
        ],
        "x": 225,
        "y": 480,
        "wires": [
            [
                "3feee1a2f7fcd210"
            ]
        ]
    },
    {
        "id": "ff2252ec4c9bd8ad",
        "type": "ui_button",
        "z": "6218cf1268309b16",
        "name": "",
        "group": "6906c99d758d2e40",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "On",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 550,
        "y": 200,
        "wires": [
            [
                "75632236b9d33e46"
            ]
        ]
    },
    {
        "id": "086858f26f56a07c",
        "type": "ui_button",
        "z": "6218cf1268309b16",
        "name": "",
        "group": "6906c99d758d2e40",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 550,
        "y": 240,
        "wires": [
            [
                "7d7079b3d9c55239"
            ]
        ]
    },
    {
        "id": "bb1f1af6bfcac334",
        "type": "ui_button",
        "z": "6218cf1268309b16",
        "name": "",
        "group": "6906c99d758d2e40",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Auto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "auto",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 550,
        "y": 280,
        "wires": [
            [
                "7e2a1b8954d612c6"
            ]
        ]
    },
    {
        "id": "41f38cc2afb18018",
        "type": "ui_gauge",
        "z": "6218cf1268309b16",
        "name": "Surface Temperature",
        "group": "56a7cd2a54399f84",
        "order": 1,
        "width": 2,
        "height": 2,
        "gtype": "donut",
        "title": "",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "60",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "6",
        "seg2": "27",
        "diff": false,
        "className": "",
        "x": 600,
        "y": 400,
        "wires": []
    },
    {
        "id": "f9d897bd65da5214",
        "type": "ui_gauge",
        "z": "6218cf1268309b16",
        "name": "Soil Temperature",
        "group": "3c1bbaf012eb5127",
        "order": 1,
        "width": 2,
        "height": 2,
        "gtype": "donut",
        "title": "",
        "label": "°C",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "60",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "6",
        "seg2": "27",
        "diff": false,
        "className": "",
        "x": 590,
        "y": 440,
        "wires": []
    },
    {
        "id": "3feee1a2f7fcd210",
        "type": "ui_gauge",
        "z": "6218cf1268309b16",
        "name": "Soil Moisture",
        "group": "f68758d56e72fc96",
        "order": 1,
        "width": 2,
        "height": 2,
        "gtype": "donut",
        "title": "",
        "label": "%",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "60",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "6",
        "seg2": "27",
        "diff": false,
        "className": "",
        "x": 570,
        "y": 480,
        "wires": []
    },
    {
        "id": "2f9bd4e8573edb99",
        "type": "ui_gauge",
        "z": "6218cf1268309b16",
        "name": "PAR",
        "group": "7746e34d9fc0a72b",
        "order": 1,
        "width": 2,
        "height": 2,
        "gtype": "donut",
        "title": "",
        "label": "μmol",
        "format": "{{value}}",
        "min": 0,
        "max": "2500",
        "colors": [
            "#ca3838",
            "#e6e600",
            "#00b500"
        ],
        "seg1": "833",
        "seg2": "1668",
        "diff": false,
        "className": "",
        "x": 550,
        "y": 360,
        "wires": []
    },
    {
        "id": "103da4f71eb2847f",
        "type": "ui_template",
        "z": "6218cf1268309b16",
        "group": "",
        "name": "Dashboard Styling",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n\n    md-list {\n    //margin-top: 50px !Important;\n    }\n\n    /* Styling for side bar menu*/\n    md-list-item .fa {\n        color: #DBFC87;\n        font-size: 20px !Important;\n    }\n\n    /*Add spacing between menu icons*/\n    md-list-item {\n        margin-top: 30px !Important;    \n    }\n\n    /*Set border color on active menu items*/\n    .nr-menu-item-active div button {\n        border-color: #DBFC87;\n    }\n    \n    /* Styling for all groups*/\n    .nr-dashboard-cardtitle {\n        width: auto !Important; /*relative*/\n        padding-top: 10px !Important;\n        //margin-left: 20px !Important;\n        margin-bottom: -10px !Important;\n    }\n\n    /* Styling for all groups*/\n    p.nr-dashboard-cardtitle {\n        margin-left: 20px !Important;\n    }\n\n    ui-card-panel {\n        box-shadow: rgba(0,0,0,0.35) 0px 5px 15px;\n        border-radius: 20px;\n    }\n\n    /* Styling all the elements in the groups */\n    .nr-dashboard-cardcontainer * {\n        border-radius: 15px; \n    }\n\n    /*Styling oversized widget titles*/\n    .sensor-card {\n        font-size: 13px !Important;\n    }\n\n    /*Styling oversized widget in groups*/\n    .widget-group {\n        //width: 160px !Important;\n         margin-bottom: -20px !Important;\n    }\n\n    /*Styling Scheduler UI*/\n    .scheduler {\n        font-color: rgba(255,255,255,1) !Important;\n    }\n\n    /*Styling Scheduler UI*/\n    .collapsable {\n                min-height: 60px !Important;\n                width:273px !Important;\n        }\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 150,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "864ce2a88a2e0d2b",
        "type": "ui_template",
        "z": "6218cf1268309b16",
        "group": "",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<script id=\"clockScript1\" type=\"text/javascript\">\n  $(function () {\n        \n        // Check if the logo is already added\n        if ($('#custom-logo-container').length > 0) {\n            return; // Logo already exists, no need to add again\n        }\n\n        // Create the logo container element\n        var div1 = $('<div>').attr('id', 'custom-logo-container');\n        var logo = new Image();\n        logo.src = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjEuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNzUuMSAxOTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3NS4xIDE5NDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNEQkZDODc7fQo8L3N0eWxlPgo8Zz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0wLDEwNC44djYuM2MxLDE4LDcuNCwzNC42LDE3LjYsNDguMXYtNTQuNEgweiIvPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNC45LDEwNC44djcxLjZjNS40LDQuMSwxMS4zLDcuNSwxNy42LDEwLjN2LTgxLjlIMzQuOXoiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzAuMSwxMDQuOHY4Ny41YzUuNiwxLjEsMTEuNCwxLjcsMTcuNCwxLjdjMC4xLDAsMC4yLDAsMC4zLDB2LTg5LjJINzAuMXoiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTA1LjMsMTkyLjJjMTMuNS0yLjgsMjUuOC04LjcsMzYuMi0xNi45aC0zNi4yVjE5Mi4yeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUuMywxNTcuN2g1My4yYzMuOS01LjQsNy4zLTExLjMsOS45LTE3LjZoLTYzLjFWMTU3Ljd6Ii8+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwNS4zLDEyMi40aDY4LjNjMS01LjIsMS41LTEwLjYsMS41LTE2LjFjMC0wLjUsMC0xLDAtMS42aC02OS43VjEyMi40eiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNzUsODcuNWgtMTcuNmMwLTM4LjUtMzEuMy02OS45LTY5LjktNjkuOVMxNy42LDQ5LDE3LjYsODcuNUgwQzAsMzkuMywzOS4zLDAsODcuNSwwUzE3NSwzOS4zLDE3NSw4Ny41eiIKCQkJCS8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTQwLjEsODcuNWgtMTcuNmMwLTE5LjMtMTUuNy0zNS0zNS0zNWMtMTkuMywwLTM1LDE1LjctMzUsMzVIMzQuOWMwLTI5LDIzLjYtNTIuNiw1Mi42LTUyLjYKCQkJCVMxNDAuMSw1OC41LDE0MC4xLDg3LjV6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo='; // Your logo image source\n        logo.height = 35;\n        div1[0].style.margin = '20px auto 20px auto';\n        div1.append(logo);\n\n        function addToSidenav() {\n            var sidenav = $('md-sidenav');\n            \n            if(!sidenav.length) return;\n            \n            // Insert the logo container at the top of md-list\n            var mdList = sidenav.find('md-list');\n            if (mdList.length > 0) {\n            mdList.before(div1);\n            } else {\n            sidenav.append(div1);\n            }\n            }\n            addToSidenav();\n    });\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 120,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "09d3fb86003db331",
        "type": "debug",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 360,
        "wires": []
    },
    {
        "id": "1881051342be3c29",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "selectedRow",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1940,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "b366347fd82fa0fd",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Scheduler_Row\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1920,
        "y": 440,
        "wires": [
            [
                "0114ccb2e91c4cee"
            ]
        ]
    },
    {
        "id": "0114ccb2e91c4cee",
        "type": "link out",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "mode": "link",
        "links": [
            "5d820815d5bb7dc6"
        ],
        "x": 2085,
        "y": 440,
        "wires": []
    },
    {
        "id": "f7174ce847d30e01",
        "type": "function",
        "z": "48e31a1b3a2d4e3a",
        "name": "clearData",
        "func": "msg.payload = {\n    \"command\" : \"clearData\",\n    arguments: []\n}\n\nflow.set(\"index\", 0)\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 480,
        "wires": [
            [
                "ad58f386d8c033b1"
            ]
        ]
    },
    {
        "id": "6003625ad9fa2b43",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Scheduler_Data\",\"Scheduler_Row\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 360,
        "wires": [
            [
                "0bb403018bcc0ba4"
            ]
        ]
    },
    {
        "id": "30f1dbf3c899202b",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "command",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 400,
        "wires": [
            [
                "22f59aa5392eea0a"
            ]
        ]
    },
    {
        "id": "0bb403018bcc0ba4",
        "type": "link out",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "mode": "link",
        "links": [
            "5d820815d5bb7dc6"
        ],
        "x": 1245,
        "y": 360,
        "wires": []
    },
    {
        "id": "22f59aa5392eea0a",
        "type": "switch",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "property": "command",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "addRow",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "updateOrAddData",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1300,
        "y": 400,
        "wires": [
            [
                "ec92e8d71695ac20"
            ],
            [
                "6f16da4857fece21"
            ]
        ]
    },
    {
        "id": "ec92e8d71695ac20",
        "type": "function",
        "z": "48e31a1b3a2d4e3a",
        "name": "add",
        "func": "// set msg.payload to variable\nvar inp = msg.payload\n\n// get id from flow variable => default 0\nvar index = flow.get(\"index\") || 0\n\n// increase index by 1\nindex ++\n\n// set customer id to id\ninp.index = index\n\n// set flow variable to id\nflow.set(\"index\", index)\n\n// Table command\nmsg.payload = {\n    command : \"addRow\",\n    arguments : [\n        [inp],\n        true\n    ]\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 380,
        "wires": [
            [
                "ad58f386d8c033b1"
            ]
        ]
    },
    {
        "id": "6f16da4857fece21",
        "type": "function",
        "z": "48e31a1b3a2d4e3a",
        "name": "update",
        "func": "// set inp to msg.payload\nconst inp = msg.payload\n\n// read selectedRow\nvar row = flow.get(\"selectedRow\")\n\n// update data\nrow.index = inp.index\nrow.start_time = inp.start_time\nrow.stop_time = inp.stop_time\nrow.monday = inp.monday\nrow.tuesday = inp.tuesday\nrow.wednesday = inp.wednesday\nrow.thursday = inp.thursday\nrow.friday = inp.friday\nrow.saturday = inp.saturday\nrow.sunday = inp.sunday\n\n\n\n// set command\nmsg.payload = {\n    commmand : \"updateOrAddData\",\n    arguments : [\n        [row]\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 420,
        "wires": [
            [
                "ad58f386d8c033b1"
            ]
        ]
    },
    {
        "id": "fb2a674d90ebf895",
        "type": "function",
        "z": "48e31a1b3a2d4e3a",
        "name": "deleteRow",
        "func": "// get selectedRow\nconst row = flow.get(\"selectedRow\")\n\n// define command\nmsg.payload = {\n    command : \"deleteRow\",\n    arguments : [row.index]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 540,
        "wires": [
            [
                "ad58f386d8c033b1"
            ]
        ]
    },
    {
        "id": "f65434373cf33489",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Scheduler_Data\",\"Scheduler_Row\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 580,
        "wires": [
            [
                "389d233f67ef535a"
            ]
        ]
    },
    {
        "id": "389d233f67ef535a",
        "type": "link out",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "mode": "link",
        "links": [
            "5d820815d5bb7dc6"
        ],
        "x": 1685,
        "y": 580,
        "wires": []
    },
    {
        "id": "d1f0b476dbad3a04",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"index\":\"\",\"start_time\":\"\",\"stop_time\":\"\",\"monday\":\"\",\"tuesday\":\"\",\"wednesday\":\"\",\"thursday\":\"\",\"friday\":\"\",\"saturday\":\"\",\"sunday\":\"\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 460,
        "wires": [
            [
                "894d9020d445c8d4"
            ]
        ]
    },
    {
        "id": "ad58f386d8c033b1",
        "type": "ui_table",
        "z": "48e31a1b3a2d4e3a",
        "group": "457443a7ef00c356",
        "name": "",
        "order": 1,
        "width": "20",
        "height": "5",
        "columns": [
            {
                "field": "index",
                "title": "ID",
                "width": "7 px",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "start_time",
                "title": "Start",
                "width": "22 px",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stop_time",
                "title": "Stop",
                "width": "22 px",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "monday",
                "title": "Mon",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "tuesday",
                "title": "Tue",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "wednesday",
                "title": "Wed",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "thursday",
                "title": "Thu",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "friday",
                "title": "Fri",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "saturday",
                "title": "Sat",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "sunday",
                "title": "Sun",
                "width": "7 px",
                "align": "center",
                "formatter": "tickCross",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 1700,
        "y": 400,
        "wires": [
            [
                "09d3fb86003db331",
                "1881051342be3c29",
                "b366347fd82fa0fd"
            ]
        ]
    },
    {
        "id": "5d820815d5bb7dc6",
        "type": "link in",
        "z": "48e31a1b3a2d4e3a",
        "name": "Control In",
        "links": [
            "0114ccb2e91c4cee",
            "bd05d50aec31f032",
            "0bb403018bcc0ba4",
            "389d233f67ef535a",
            "320d6dede30164e9"
        ],
        "x": 785,
        "y": 620,
        "wires": [
            [
                "bab507645edb0c64"
            ]
        ]
    },
    {
        "id": "8eb0be455c771f7d",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Scheduler_Data\",\"Scheduler_Row\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 700,
        "wires": [
            [
                "bab507645edb0c64"
            ]
        ]
    },
    {
        "id": "d743b336a919d430",
        "type": "inject",
        "z": "48e31a1b3a2d4e3a",
        "name": "Simulate Azure IoT Hub Message",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"messageid\":\"a18f9315-8d8a-4415-a235-9515afe59515\",\"deviceid\":\"100001\",\"commands\":{\"schedule\":{\"cmd_schedule_function\":\"add\",\"cmd_schedule_index\":0,\"cmd_schedule_start_time\":\"1688534699\",\"cmd_schedule_end_time\":\"1688534899\",\"cmd_schedule_recurrence\":1,\"cmd_schedule_value\":3}}}",
        "payloadType": "json",
        "x": 310,
        "y": 240,
        "wires": [
            [
                "244d71ed770fb7d0"
            ]
        ]
    },
    {
        "id": "244d71ed770fb7d0",
        "type": "function",
        "z": "48e31a1b3a2d4e3a",
        "name": "Format Schedule Data",
        "func": "var scheduleData = {};\nscheduleData.id = msg.payload.messageid;\nscheduleData.start_time = msg.payload.commands.schedule.cmd_schedule_start_time;\nscheduleData.end_time = msg.payload.commands.schedule.cmd_schedule_end_time;\nscheduleData.recurrence = msg.payload.commands.schedule.cmd_schedule_recurrence;\nscheduleData.value = msg.payload.commands.schedule.cmd_schedule_value;\nscheduleData.function = msg.payload.commands.schedule.cmd_schedule_function;\nscheduleData.entry_id = msg.payload.commands.schedule.cmd_schedule_id;\n\nmsg.payload = scheduleData;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 240,
        "wires": [
            [
                "6ef090a3c54e0807"
            ]
        ]
    },
    {
        "id": "6ef090a3c54e0807",
        "type": "function",
        "z": "48e31a1b3a2d4e3a",
        "name": "Update Scheduler",
        "func": "var scheduler = context.get('scheduler') || [];\nvar entryId = msg.payload.id;\nvar existingEntry = scheduler.find(entry => entry.id === entryId);\n\nif (existingEntry) {\n  // Entry already exists, update its properties\n  existingEntry.start_time = msg.payload.start_time;\n  existingEntry.end_time = msg.payload.end_time;\n  existingEntry.recurrence = msg.payload.recurrence;\n  existingEntry.value = msg.payload.value;\n\n  // Create the change message for updating an entry\n  var changeMessage = {\n    action: \"update\",\n    entry: existingEntry\n  };\n\n  // Send the change message over MQTT\n  msg.payload = JSON.stringify(changeMessage);\n  return msg;\n} else if (msg.payload.function === \"add\") {\n  // Entry doesn't exist, add it to the scheduler\n  var newEntry = {\n    id: entryId,\n    start_time: msg.payload.start_time,\n    end_time: msg.payload.end_time,\n    recurrence: msg.payload.recurrence,\n    value: msg.payload.value\n  };\n\n  scheduler.push(newEntry);\n\n  // Create the change message for adding a new entry\n  var changeMessage = {\n    action: \"add\",\n    entry: newEntry\n  };\n\n  // Send the change message over MQTT\n  msg.payload = JSON.stringify(changeMessage);\n  return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 240,
        "wires": [
            [
                "507e7315b88e0b0d"
            ]
        ]
    },
    {
        "id": "9c8e97f15f3a9638",
        "type": "debug",
        "z": "48e31a1b3a2d4e3a",
        "name": "debug 36",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1240,
        "y": 200,
        "wires": []
    },
    {
        "id": "507e7315b88e0b0d",
        "type": "json",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1110,
        "y": 220,
        "wires": [
            [
                "9c8e97f15f3a9638"
            ]
        ]
    },
    {
        "id": "9a06201a11b6b53a",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "g": "8da036ed5f86effc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "flow",
                "to": "addRow",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "12e370a0a1b1a754",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "g": "8da036ed5f86effc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Scheduler_Data\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 480,
        "wires": [
            [
                "bd05d50aec31f032"
            ]
        ]
    },
    {
        "id": "bd05d50aec31f032",
        "type": "link out",
        "z": "48e31a1b3a2d4e3a",
        "g": "8da036ed5f86effc",
        "name": "",
        "mode": "link",
        "links": [
            "5d820815d5bb7dc6"
        ],
        "x": 655,
        "y": 480,
        "wires": []
    },
    {
        "id": "3da8461cab24fd0d",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "g": "1b81f3b9cabc11fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "selectedRow",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 600,
        "wires": [
            [
                "894d9020d445c8d4"
            ]
        ]
    },
    {
        "id": "af26e361b6b7a25d",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "g": "1b81f3b9cabc11fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "flow",
                "to": "updateOrAddData",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "9ce60117e1f8fb7c",
        "type": "change",
        "z": "48e31a1b3a2d4e3a",
        "g": "1b81f3b9cabc11fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Scheduler_Data\"],\"hide\":[\"Scheduler_Row\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 680,
        "wires": [
            [
                "320d6dede30164e9"
            ]
        ]
    },
    {
        "id": "320d6dede30164e9",
        "type": "link out",
        "z": "48e31a1b3a2d4e3a",
        "g": "1b81f3b9cabc11fd",
        "name": "",
        "mode": "link",
        "links": [
            "5d820815d5bb7dc6"
        ],
        "x": 665,
        "y": 680,
        "wires": []
    },
    {
        "id": "afa33df80b083259",
        "type": "ui_button",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "group": "591bf29180ec05c6",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Clear Table",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "fa-trash",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1280,
        "y": 480,
        "wires": [
            [
                "f7174ce847d30e01"
            ]
        ]
    },
    {
        "id": "cf71eb3622d2e487",
        "type": "ui_button",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "group": "54b2305af4b37298",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Delete Row",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "fa-trash",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1280,
        "y": 540,
        "wires": [
            [
                "fb2a674d90ebf895",
                "f65434373cf33489"
            ]
        ]
    },
    {
        "id": "d1fb494de6744e32",
        "type": "ui_button",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "group": "6ea85db8283d411b",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Dismiss",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "fa-trash",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 870,
        "y": 460,
        "wires": [
            [
                "6003625ad9fa2b43",
                "d1f0b476dbad3a04"
            ]
        ]
    },
    {
        "id": "69dfc87625a962e1",
        "type": "ui_button",
        "z": "48e31a1b3a2d4e3a",
        "g": "8da036ed5f86effc",
        "name": "",
        "group": "591bf29180ec05c6",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Add Entry",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-plus-square",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 260,
        "y": 440,
        "wires": [
            [
                "9a06201a11b6b53a",
                "12e370a0a1b1a754"
            ]
        ]
    },
    {
        "id": "d46dbd2722a84586",
        "type": "ui_button",
        "z": "48e31a1b3a2d4e3a",
        "g": "1b81f3b9cabc11fd",
        "name": "",
        "group": "54b2305af4b37298",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Update Entry",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-pencil",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 600,
        "wires": [
            [
                "3da8461cab24fd0d",
                "af26e361b6b7a25d",
                "9ce60117e1f8fb7c"
            ]
        ]
    },
    {
        "id": "894d9020d445c8d4",
        "type": "ui_form",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "label": "Form",
        "group": "6ea85db8283d411b",
        "order": 1,
        "width": 6,
        "height": "10",
        "options": [
            {
                "label": "ID",
                "value": "index",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Start",
                "value": "start_time",
                "type": "time",
                "required": true,
                "rows": null
            },
            {
                "label": "Stop",
                "value": "stop_time",
                "type": "time",
                "required": true,
                "rows": null
            },
            {
                "label": "Monday",
                "value": "monday",
                "type": "checkbox",
                "required": false,
                "rows": null
            },
            {
                "label": "Tuesday",
                "value": "tuesday",
                "type": "checkbox",
                "required": false,
                "rows": null
            },
            {
                "label": "Wednesday",
                "value": "wednesday",
                "type": "checkbox",
                "required": false,
                "rows": null
            },
            {
                "label": "Thursday",
                "value": "thursday",
                "type": "checkbox",
                "required": false,
                "rows": null
            },
            {
                "label": "Friday",
                "value": "friday",
                "type": "checkbox",
                "required": false,
                "rows": null
            },
            {
                "label": "Saturday",
                "value": "saturday",
                "type": "checkbox",
                "required": false,
                "rows": null
            },
            {
                "label": "Sunday",
                "value": "sunday",
                "type": "checkbox",
                "required": false,
                "rows": null
            }
        ],
        "formValue": {
            "index": "",
            "start_time": "",
            "stop_time": "",
            "monday": false,
            "tuesday": false,
            "wednesday": false,
            "thursday": false,
            "friday": false,
            "saturday": false,
            "sunday": false
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 860,
        "y": 400,
        "wires": [
            [
                "30f1dbf3c899202b",
                "6003625ad9fa2b43"
            ]
        ]
    },
    {
        "id": "bab507645edb0c64",
        "type": "ui_ui_control",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "events": "all",
        "x": 1300,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "c55a5a02e355cfc0",
        "type": "ui_ui_control",
        "z": "48e31a1b3a2d4e3a",
        "name": "",
        "events": "all",
        "x": 840,
        "y": 700,
        "wires": [
            [
                "8eb0be455c771f7d"
            ]
        ]
    },
    {
        "id": "383eb0c203754a3d",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "On 100%",
        "links": [
            "75632236b9d33e46"
        ],
        "x": 205,
        "y": 60,
        "wires": [
            [
                "172e0f5fd139524f"
            ]
        ]
    },
    {
        "id": "1126cfcf9cecf975",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "Off",
        "links": [
            "7d7079b3d9c55239"
        ],
        "x": 205,
        "y": 180,
        "wires": [
            [
                "1305e3e30a50c09e"
            ]
        ]
    },
    {
        "id": "f5b69c4af1250523",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "link in 17",
        "links": [
            "7e2a1b8954d612c6",
            "c61c60c5829cf548"
        ],
        "x": 205,
        "y": 220,
        "wires": [
            [
                "1f45e24f994bf555"
            ]
        ]
    },
    {
        "id": "d5b6755b83ceb712",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Stringify",
        "func": "// Extract the value from the array\nvar value = msg.payload[0];\n\n// Convert the value to a string\nvar stringValue = value.toString();\n\n// Update the payload with the string value\nmsg.payload = stringValue;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 840,
        "wires": [
            [
                "323bbfc905c275d5"
            ]
        ]
    },
    {
        "id": "cc510d4b84158a30",
        "type": "link out",
        "z": "35e47215b5f23198",
        "name": "PAR Actual",
        "mode": "link",
        "links": [
            "01b1ec1f495c5186",
            "dbb3353480cd1cbf"
        ],
        "x": 1155,
        "y": 880,
        "wires": []
    },
    {
        "id": "eb3ccfe50dbe4303",
        "type": "http request",
        "z": "35e47215b5f23198",
        "name": "Control White LED",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/group/1/control/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1290,
        "y": 60,
        "wires": [
            [
                "e0dfce65773f7e2b"
            ]
        ]
    },
    {
        "id": "88fccae1c790f3cd",
        "type": "http request",
        "z": "35e47215b5f23198",
        "name": "Control Blue LED",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/group/2/control/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1290,
        "y": 140,
        "wires": [
            [
                "e0dfce65773f7e2b"
            ]
        ]
    },
    {
        "id": "323bbfc905c275d5",
        "type": "json",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 830,
        "y": 840,
        "wires": [
            [
                "a9a834bc427806ed",
                "d17f042fb951c829",
                "3b05ca2803d23ead"
            ]
        ]
    },
    {
        "id": "b0147c61b4e2038b",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Set blue to 100%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":100}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 100,
        "wires": [
            [
                "88fccae1c790f3cd"
            ]
        ]
    },
    {
        "id": "11512260ecc4dd87",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "PAR range",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "0",
                "vt": "str",
                "v2": "833",
                "v2t": "str"
            },
            {
                "t": "btwn",
                "v": "834",
                "vt": "num",
                "v2": "1667",
                "v2t": "num"
            },
            {
                "t": "btwn",
                "v": "1668",
                "vt": "num",
                "v2": "2500",
                "v2t": "num"
            },
            {
                "t": "gt",
                "v": "2501",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 360,
        "wires": [
            [
                "4b6bc83a17b726f9"
            ],
            [
                "de23d5c7a2a4f9f1"
            ],
            [
                "a539981d9614bf1d"
            ],
            [
                "1d46739fabe6b301"
            ]
        ]
    },
    {
        "id": "1d46739fabe6b301",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "0%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":0}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 420,
        "wires": [
            [
                "88fccae1c790f3cd",
                "eb3ccfe50dbe4303"
            ]
        ]
    },
    {
        "id": "d17f042fb951c829",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Set PAR Actual",
        "rules": [
            {
                "t": "set",
                "p": "value_par",
                "pt": "global",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 880,
        "wires": [
            [
                "cc510d4b84158a30"
            ]
        ]
    },
    {
        "id": "a9a834bc427806ed",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "Gate",
        "property": "auto",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 840,
        "wires": [
            [
                "0b6e6cd0a18f4eeb"
            ],
            []
        ]
    },
    {
        "id": "c9e527c379d9b032",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Activate Auto",
        "rules": [
            {
                "t": "set",
                "p": "auto",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "7af4d55dab5bfbe9",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Block Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "c9e527c379d9b032"
            ]
        ]
    },
    {
        "id": "030a6b7a89368315",
        "type": "inject",
        "z": "35e47215b5f23198",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 840,
        "wires": [
            [
                "7ca503d85ec2e6e5"
            ]
        ]
    },
    {
        "id": "2b35ebdc095e05ab",
        "type": "comment",
        "z": "35e47215b5f23198",
        "name": "Replace with send-value variable",
        "info": "",
        "x": 290,
        "y": 760,
        "wires": []
    },
    {
        "id": "3028a42305c27dfa",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "Auto Trigger PAR value In",
        "links": [
            "6f5e581eab59c7e7"
        ],
        "x": 325,
        "y": 800,
        "wires": [
            [
                "7ca503d85ec2e6e5"
            ]
        ]
    },
    {
        "id": "6f5e581eab59c7e7",
        "type": "link out",
        "z": "35e47215b5f23198",
        "name": "Auto trigger PAR value Out",
        "mode": "link",
        "links": [
            "3028a42305c27dfa"
        ],
        "x": 715,
        "y": 260,
        "wires": []
    },
    {
        "id": "0b6e6cd0a18f4eeb",
        "type": "link out",
        "z": "35e47215b5f23198",
        "name": "PAR value",
        "mode": "link",
        "links": [
            "522942be8aee59c3"
        ],
        "x": 1155,
        "y": 820,
        "wires": []
    },
    {
        "id": "522942be8aee59c3",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "PAR value",
        "links": [
            "0b6e6cd0a18f4eeb"
        ],
        "x": 95,
        "y": 360,
        "wires": [
            [
                "0e03b49b9d43b7e9"
            ]
        ]
    },
    {
        "id": "f11028af82cc388b",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Set Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 220,
        "wires": [
            [
                "ce39cc096ba1228e"
            ]
        ]
    },
    {
        "id": "fb159ca595ae8641",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Set Manual",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 180,
        "wires": [
            [
                "ce39cc096ba1228e"
            ]
        ]
    },
    {
        "id": "4b6bc83a17b726f9",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "100%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":100}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 300,
        "wires": [
            [
                "eb3ccfe50dbe4303",
                "b0147c61b4e2038b"
            ]
        ]
    },
    {
        "id": "de23d5c7a2a4f9f1",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "50%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":80}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 340,
        "wires": [
            [
                "eb3ccfe50dbe4303",
                "b0147c61b4e2038b"
            ]
        ]
    },
    {
        "id": "a539981d9614bf1d",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "33%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":50}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 380,
        "wires": [
            [
                "eb3ccfe50dbe4303"
            ]
        ]
    },
    {
        "id": "ce39cc096ba1228e",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "status_mode_lighting",
        "rules": [
            {
                "t": "set",
                "p": "status_mode_lighting",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "cf3f497405a19b46",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "LED Zone 1 On",
        "links": [
            "2dbf4636bdd069ea"
        ],
        "x": 225,
        "y": 560,
        "wires": [
            [
                "1d9ca8d55dd88877"
            ]
        ]
    },
    {
        "id": "04b913eb812ecddc",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "LED Zone 1 Off",
        "links": [
            "0931de0de90c864c"
        ],
        "x": 225,
        "y": 600,
        "wires": [
            [
                "11cef99ba6cb0e26"
            ]
        ]
    },
    {
        "id": "c8b34e9b7c8d27a8",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "LED Zone 1 On",
        "links": [
            "f651ba305221e6fc"
        ],
        "x": 225,
        "y": 640,
        "wires": [
            [
                "e0b27c84a1620726"
            ]
        ]
    },
    {
        "id": "1a0783ef556d8afe",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "LED Zone 1 Off",
        "links": [
            "67cff214c4950d22"
        ],
        "x": 225,
        "y": 680,
        "wires": [
            [
                "c3500963ad0814f8"
            ]
        ]
    },
    {
        "id": "b62951224330f435",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Horti 100%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":100}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 560,
        "wires": [
            [
                "eb3ccfe50dbe4303"
            ]
        ]
    },
    {
        "id": "02dc3912710096ae",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Horti 0%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":0}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 600,
        "wires": [
            [
                "eb3ccfe50dbe4303"
            ]
        ]
    },
    {
        "id": "5bcc6aeb9c0ae787",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Blue 0%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":0}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 680,
        "wires": [
            [
                "88fccae1c790f3cd"
            ]
        ]
    },
    {
        "id": "8e90725f8323b440",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "Blue 100%",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":100}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 640,
        "wires": [
            [
                "88fccae1c790f3cd"
            ]
        ]
    },
    {
        "id": "a905dabdda9d3c73",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "allOn",
        "links": [
            "66b0fc358adbb71d"
        ],
        "x": 205,
        "y": 100,
        "wires": [
            [
                "3e91c2f92c5a423b"
            ]
        ]
    },
    {
        "id": "2edbbe13f792909d",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "allOff",
        "links": [
            "8b784cf7eb569a73"
        ],
        "x": 205,
        "y": 140,
        "wires": [
            [
                "23ec23c423948769"
            ]
        ]
    },
    {
        "id": "23ec23c423948769",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 140,
        "wires": [
            [
                "1305e3e30a50c09e"
            ]
        ]
    },
    {
        "id": "3e91c2f92c5a423b",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 100,
        "wires": [
            [
                "172e0f5fd139524f"
            ]
        ]
    },
    {
        "id": "1d9ca8d55dd88877",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 560,
        "wires": [
            [
                "b62951224330f435"
            ]
        ]
    },
    {
        "id": "11cef99ba6cb0e26",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 600,
        "wires": [
            [
                "02dc3912710096ae"
            ]
        ]
    },
    {
        "id": "e0b27c84a1620726",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 640,
        "wires": [
            [
                "8e90725f8323b440"
            ]
        ]
    },
    {
        "id": "c3500963ad0814f8",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 680,
        "wires": [
            [
                "5bcc6aeb9c0ae787"
            ]
        ]
    },
    {
        "id": "2709af1aebb61e6d",
        "type": "inject",
        "z": "35e47215b5f23198",
        "name": "Get Device Status",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 1060,
        "wires": [
            [
                "fe5890d0bbb08905"
            ]
        ]
    },
    {
        "id": "fe5890d0bbb08905",
        "type": "http request",
        "z": "35e47215b5f23198",
        "name": "GET /devices",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/devices",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 680,
        "y": 1060,
        "wires": [
            [
                "ec3cb2a9aeff046f"
            ]
        ]
    },
    {
        "id": "ec3cb2a9aeff046f",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "function 12",
        "func": "var data = JSON.parse(msg.payload);\nvar output = [];\n\nfor (var i = 0; i < data.devices.length; i++) {\n    var device = data.devices[i];\n\n    for (var j = 0; j < device.groups.length; j++) {\n        var group = device.groups[j];\n        var features = {};\n\n        for (var feature in device.features) {\n            if (device.features.hasOwnProperty(feature)) {\n                features[feature] = device.features[feature];\n            }\n        }\n\n        output.push({\n            group: group,\n            features: features\n        });\n    }\n}\n\nmsg.payload = output;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 1060,
        "wires": [
            [
                "94f3db4e5862230d"
            ]
        ]
    },
    {
        "id": "94f3db4e5862230d",
        "type": "split",
        "z": "35e47215b5f23198",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 1060,
        "wires": [
            [
                "84f0152ef82cd82e"
            ]
        ]
    },
    {
        "id": "84f0152ef82cd82e",
        "type": "switch",
        "z": "35e47215b5f23198",
        "name": "Group 1 / Group 2",
        "property": "payload.group",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1240,
        "y": 1060,
        "wires": [
            [
                "21773abf4e75fbad",
                "d64cf1d58652c28c",
                "74c4b03d0da36d2f"
            ],
            [
                "72fc0f12f09d25ae",
                "d85aa86a22559f3b",
                "f5bc44371e8135a3"
            ]
        ]
    },
    {
        "id": "21773abf4e75fbad",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Group 1",
        "func": "var group1SwitchableStatus = msg.payload.features.switchable.status;\nvar group1DimmableStatus = msg.payload.features.dimmable.status;\n\nmsg.payload = {\n    group: 1,\n    switchableStatus: group1SwitchableStatus,\n    dimmableStatus: group1DimmableStatus\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "72fc0f12f09d25ae",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Group 2",
        "func": "var group2SwitchableStatus = msg.payload.features.switchable.status;\nvar group2DimmableStatus = msg.payload.features.dimmable.status;\n\nmsg.payload = {\n    group: 2,\n    switchableStatus: group2SwitchableStatus,\n    dimmableStatus: group2DimmableStatus\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "d64cf1d58652c28c",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Group 1 - Switchable Status",
        "func": "var group1SwitchableStatus = msg.payload.features.switchable.status;\n\nmsg.payload = group1SwitchableStatus;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 980,
        "wires": [
            [
                "6d368a771e7a909b",
                "6618f66cd6a5e86b",
                "75fd080ef30824c2"
            ]
        ]
    },
    {
        "id": "74c4b03d0da36d2f",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Group 1 - Dimmable Status",
        "func": "var group1DimmableStatus = msg.payload.features.dimmable.status;\n\nmsg.payload = group1DimmableStatus;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 1020,
        "wires": [
            [
                "364ab52e23c0dd6a"
            ]
        ]
    },
    {
        "id": "d85aa86a22559f3b",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Group 2 - Switchable Status",
        "func": "var group2SwitchableStatus = msg.payload.features.switchable.status;\n\nmsg.payload = group2SwitchableStatus;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 1200,
        "wires": [
            [
                "125a38fd67cd4f1d",
                "4803d9967960c013"
            ]
        ]
    },
    {
        "id": "f5bc44371e8135a3",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Group 2 - Dimmable Status",
        "func": "var group2DimmableStatus = msg.payload.features.dimmable.status;\n\nmsg.payload = group2DimmableStatus;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 1240,
        "wires": [
            [
                "b46575858d8f8aaf"
            ]
        ]
    },
    {
        "id": "5f25357392507fad",
        "type": "comment",
        "z": "35e47215b5f23198",
        "name": "DALI Group Statuses",
        "info": "",
        "x": 260,
        "y": 980,
        "wires": []
    },
    {
        "id": "6d368a771e7a909b",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status_zone1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1810,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "364ab52e23c0dd6a",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "value_zone1_dim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1820,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "125a38fd67cd4f1d",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status_zone2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1810,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "b46575858d8f8aaf",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "value_zone2_dim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1820,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "e0dfce65773f7e2b",
        "type": "link out",
        "z": "35e47215b5f23198",
        "name": "Trigger light groups",
        "mode": "link",
        "links": [
            "c4451757921263bf"
        ],
        "x": 1565,
        "y": 100,
        "wires": []
    },
    {
        "id": "c4451757921263bf",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "link in 25",
        "links": [
            "12f238f41aea4d5b",
            "e0dfce65773f7e2b"
        ],
        "x": 345,
        "y": 1020,
        "wires": [
            [
                "fe5890d0bbb08905"
            ]
        ]
    },
    {
        "id": "6618f66cd6a5e86b",
        "type": "link out",
        "z": "35e47215b5f23198",
        "name": "LED status",
        "mode": "link",
        "links": [
            "6e15b7a355fcb9cc",
            "2780273ff473c9a0"
        ],
        "x": 1715,
        "y": 940,
        "wires": []
    },
    {
        "id": "75fd080ef30824c2",
        "type": "rbe",
        "z": "35e47215b5f23198",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1750,
        "y": 1060,
        "wires": [
            [
                "6ff97ff8f81420de"
            ]
        ]
    },
    {
        "id": "4803d9967960c013",
        "type": "rbe",
        "z": "35e47215b5f23198",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1750,
        "y": 1280,
        "wires": [
            [
                "4097199c170a3734"
            ]
        ]
    },
    {
        "id": "3f35148916fffce0",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "link in 36",
        "links": [
            "1e25dd56505f2bc3"
        ],
        "x": 1415,
        "y": 1100,
        "wires": [
            [
                "9b51ee0646d47f69"
            ]
        ]
    },
    {
        "id": "cd4133df2856f757",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "link in 37",
        "links": [
            "a48501b37e59a6e3"
        ],
        "x": 1415,
        "y": 1320,
        "wires": [
            [
                "3561f813e965ec88"
            ]
        ]
    },
    {
        "id": "9b51ee0646d47f69",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1720,
        "y": 1100,
        "wires": [
            [
                "6ff97ff8f81420de"
            ]
        ]
    },
    {
        "id": "3561f813e965ec88",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1720,
        "y": 1320,
        "wires": [
            [
                "4097199c170a3734"
            ]
        ]
    },
    {
        "id": "46457a1704276829",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "led_zone1_rh",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::led_zone1_rh",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2100,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "cf45b092372f7916",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "led_zone2_rh",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::led_zone2_rh",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2100,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "6ff97ff8f81420de",
        "type": "hourmeter",
        "z": "35e47215b5f23198",
        "name": "",
        "topic": "",
        "cycle": "0",
        "x": 1890,
        "y": 1060,
        "wires": [
            [],
            [
                "46457a1704276829",
                "e8a354bf7b15f972"
            ]
        ]
    },
    {
        "id": "4097199c170a3734",
        "type": "hourmeter",
        "z": "35e47215b5f23198",
        "name": "",
        "topic": "",
        "cycle": "0",
        "x": 1890,
        "y": 1280,
        "wires": [
            [],
            [
                "cf45b092372f7916",
                "2c3ec52b3d5687ac"
            ]
        ]
    },
    {
        "id": "da01eab8df7597ea",
        "type": "inject",
        "z": "35e47215b5f23198",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 1060,
        "y": 480,
        "wires": [
            [
                "1f45e24f994bf555"
            ]
        ]
    },
    {
        "id": "58cd6d3979f8a808",
        "type": "inject",
        "z": "35e47215b5f23198",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1090,
        "y": 540,
        "wires": [
            [
                "fb159ca595ae8641"
            ]
        ]
    },
    {
        "id": "45e0572812ad6655",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "KeepOn",
        "links": [
            "2ac7750ea4f5ac8f"
        ],
        "x": 205,
        "y": 20,
        "wires": [
            [
                "172e0f5fd139524f"
            ]
        ]
    },
    {
        "id": "203eefdd249d0f85",
        "type": "link in",
        "z": "35e47215b5f23198",
        "name": "KeepOn",
        "links": [
            "954acb919ed4ddfb"
        ],
        "x": 125,
        "y": 180,
        "wires": [
            [
                "1305e3e30a50c09e"
            ]
        ]
    },
    {
        "id": "0e03b49b9d43b7e9",
        "type": "delay",
        "z": "35e47215b5f23198",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 200,
        "y": 360,
        "wires": [
            [
                "11512260ecc4dd87"
            ]
        ]
    },
    {
        "id": "f69f8eea744fe91c",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::light_delay",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 480,
        "wires": [
            [
                "98d012069a288aae"
            ]
        ]
    },
    {
        "id": "98d012069a288aae",
        "type": "change",
        "z": "35e47215b5f23198",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "#:(file)::light_delay",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 480,
        "wires": [
            [
                "0e03b49b9d43b7e9",
                "3bb698f4c506894e"
            ]
        ]
    },
    {
        "id": "8c8a5db333668d65",
        "type": "inject",
        "z": "35e47215b5f23198",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 580,
        "wires": [
            [
                "54ad150188e9b914"
            ]
        ]
    },
    {
        "id": "54ad150188e9b914",
        "type": "function",
        "z": "35e47215b5f23198",
        "name": "Get light_delay",
        "func": "let light_delay = global.get(\"light_delay\", \"file\");\nmsg.payload = light_delay;\nreturn msg; ",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 140,
        "y": 520,
        "wires": [
            [
                "b4a10cec29783997"
            ]
        ]
    },
    {
        "id": "3bb698f4c506894e",
        "type": "debug",
        "z": "35e47215b5f23198",
        "name": "debug 131",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "delay",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 940,
        "y": 620,
        "wires": []
    },
    {
        "id": "7ca503d85ec2e6e5",
        "type": "modbus-getter",
        "z": "35e47215b5f23198",
        "name": "PAR Value",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "40",
        "quantity": "1",
        "server": "f916ff91cd483ac8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "7",
        "x": 470,
        "y": 840,
        "wires": [
            [
                "d5b6755b83ceb712"
            ],
            []
        ]
    },
    {
        "id": "172e0f5fd139524f",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a3377bddc7564ef2",
        "order": 4,
        "width": "0",
        "height": "0",
        "passthru": true,
        "label": "On",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "",
        "payload": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":100}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 610,
        "y": 60,
        "wires": [
            [
                "eb3ccfe50dbe4303",
                "88fccae1c790f3cd",
                "fb159ca595ae8641"
            ]
        ]
    },
    {
        "id": "9d2af6a51a778f92",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a3377bddc7564ef2",
        "order": 5,
        "width": "0",
        "height": "0",
        "passthru": true,
        "label": "50%",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":80}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 610,
        "y": 100,
        "wires": [
            [
                "eb3ccfe50dbe4303",
                "b0147c61b4e2038b",
                "fb159ca595ae8641"
            ]
        ]
    },
    {
        "id": "6d3fa76504ce3a2d",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a3377bddc7564ef2",
        "order": 6,
        "width": "0",
        "height": "0",
        "passthru": true,
        "label": "33%",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":50}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 610,
        "y": 140,
        "wires": [
            [
                "eb3ccfe50dbe4303",
                "b0147c61b4e2038b",
                "fb159ca595ae8641"
            ]
        ]
    },
    {
        "id": "1305e3e30a50c09e",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a3377bddc7564ef2",
        "order": 7,
        "width": "0",
        "height": "0",
        "passthru": true,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"dimmableWithFade\":{\"fadeTime\":2,\"dimValue\":0}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 610,
        "y": 180,
        "wires": [
            [
                "eb3ccfe50dbe4303",
                "88fccae1c790f3cd",
                "7af4d55dab5bfbe9",
                "fb159ca595ae8641"
            ]
        ]
    },
    {
        "id": "1f45e24f994bf555",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a3377bddc7564ef2",
        "order": 8,
        "width": "0",
        "height": "0",
        "passthru": true,
        "label": "Auto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 610,
        "y": 220,
        "wires": [
            [
                "c9e527c379d9b032",
                "6f5e581eab59c7e7",
                "f11028af82cc388b"
            ]
        ]
    },
    {
        "id": "f56f5c1a524311fb",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a790b238a82c68a2",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset Counter Zone 1",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 1500,
        "y": 1140,
        "wires": [
            [
                "9b51ee0646d47f69"
            ]
        ]
    },
    {
        "id": "4943d0bb3aef739e",
        "type": "ui_button",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a790b238a82c68a2",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset Counter Zone 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 1500,
        "y": 1360,
        "wires": [
            [
                "3561f813e965ec88"
            ]
        ]
    },
    {
        "id": "b4a10cec29783997",
        "type": "ui_slider",
        "z": "35e47215b5f23198",
        "name": "",
        "label": "Delay",
        "tooltip": "",
        "group": "a790b238a82c68a2",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "hysteresis",
        "topicType": "str",
        "min": "5",
        "max": "60",
        "step": "5",
        "className": "",
        "x": 190,
        "y": 460,
        "wires": [
            [
                "f69f8eea744fe91c"
            ]
        ]
    },
    {
        "id": "e8a354bf7b15f972",
        "type": "ui_text",
        "z": "35e47215b5f23198",
        "group": "a790b238a82c68a2",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Opeating Hours",
        "format": "{{msg.payload | number: 2}} h",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2100,
        "y": 1100,
        "wires": []
    },
    {
        "id": "2c3ec52b3d5687ac",
        "type": "ui_text",
        "z": "35e47215b5f23198",
        "group": "a790b238a82c68a2",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Opeating Hours",
        "format": "{{msg.payload | number: 2}} h",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2100,
        "y": 1320,
        "wires": []
    },
    {
        "id": "3b05ca2803d23ead",
        "type": "ui_gauge",
        "z": "35e47215b5f23198",
        "name": "",
        "group": "a3377bddc7564ef2",
        "order": 2,
        "width": 0,
        "height": 0,
        "gtype": "donut",
        "title": "PAR",
        "label": "μmol",
        "format": "{{value}}",
        "min": 0,
        "max": "2500",
        "colors": [
            "#ca3838",
            "#e6e600",
            "#00b500"
        ],
        "seg1": "833",
        "seg2": "1668",
        "diff": false,
        "className": "",
        "x": 990,
        "y": 780,
        "wires": []
    },
    {
        "id": "010b894a120877be",
        "type": "http request",
        "z": "b445f75bcfed026f",
        "name": "GET /dali/scan",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/dali/scan",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 940,
        "y": 260,
        "wires": [
            [
                "46910e0c50695a30",
                "3e3ef56d7556c061"
            ]
        ]
    },
    {
        "id": "8e79884babcd86f2",
        "type": "http request",
        "z": "b445f75bcfed026f",
        "name": "POST /dali/scan",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/dali/scan",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 940,
        "y": 180,
        "wires": [
            [
                "431f8a996bf2ab9f"
            ]
        ]
    },
    {
        "id": "50e03eedc1f81da0",
        "type": "http request",
        "z": "b445f75bcfed026f",
        "name": "POST /dali/scan/cancel",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/dali/scan/cancel",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 970,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "46910e0c50695a30",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Extract Status",
        "func": "var payload = JSON.parse(msg.payload); // Parse the payload string to convert it into an object\nvar status = payload.status; // Extract the value of the \"status\" property\n\n// Create a new message object with the extracted status value\nmsg.payload = status;\n\nreturn msg; // Return the modified message object\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 280,
        "wires": [
            [
                "024dc4e7fe56ef4f",
                "1a0dae79b384bae3"
            ]
        ]
    },
    {
        "id": "3e3ef56d7556c061",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Extract Found",
        "func": "var payload = JSON.parse(msg.payload); // Parse the payload string to convert it into an object\nvar found = payload.found; // Extract the value of the \"found\" property\n\n// Create a new message object with the extracted found value\nmsg.payload = found;\n\nreturn msg; // Return the modified message object\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 240,
        "wires": [
            [
                "9503d6cf161d9a90"
            ]
        ]
    },
    {
        "id": "4eae8eac0acf1578",
        "type": "trigger",
        "z": "b445f75bcfed026f",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 460,
        "y": 260,
        "wires": [
            [
                "010b894a120877be",
                "f4c10f9ffce0fc88"
            ]
        ]
    },
    {
        "id": "a063602e84673cb2",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 260,
        "wires": [
            [
                "4eae8eac0acf1578"
            ]
        ]
    },
    {
        "id": "431f8a996bf2ab9f",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Extract Progress",
        "func": "var payload = JSON.parse(msg.payload); // Parse the payload string to convert it into an object\nvar progress = payload.progress; // Extract the value of the \"progress\" property\n\n// Create a new message object with the extracted progress value\nmsg.payload = progress;\n\nreturn msg; // Return the modified message object\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 180,
        "wires": [
            [
                "24a7909eafd4a91b"
            ]
        ]
    },
    {
        "id": "f4c10f9ffce0fc88",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "Scan Command",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{   \"newInstallation\": false,   \"noAddressing\": false,   \"useLines\": [] }",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 180,
        "wires": [
            [
                "8e79884babcd86f2"
            ]
        ]
    },
    {
        "id": "1a0dae79b384bae3",
        "type": "switch",
        "z": "b445f75bcfed026f",
        "name": "Done",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "done",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 320,
        "wires": [
            [
                "e209387e2e548efd",
                "dcbec995c0607782",
                "955501f00670aab6"
            ]
        ]
    },
    {
        "id": "dcbec995c0607782",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Finished",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 320,
        "wires": [
            [
                "024dc4e7fe56ef4f"
            ]
        ]
    },
    {
        "id": "d44a0c0a396a608b",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Construct URL",
        "func": "var baseurl = \"192.168.1.3/device/\";\nvar deviceid = msg.payload;\n\nmsg.payload = baseurl + deviceid;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 620,
        "wires": [
            [
                "4ed767152a18e4dc"
            ]
        ]
    },
    {
        "id": "f4bd1834035f3fd1",
        "type": "http request",
        "z": "b445f75bcfed026f",
        "name": "PUT/device/{id}",
        "method": "use",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 980,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "955501f00670aab6",
        "type": "http request",
        "z": "b445f75bcfed026f",
        "name": "GET /devices",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.1.3/devices",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 940,
        "y": 460,
        "wires": [
            [
                "ec841f39c98916c3"
            ]
        ]
    },
    {
        "id": "ec841f39c98916c3",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Extract id, name, groups",
        "func": "// Parse the JSON response\nconst response = JSON.parse(msg.payload);\n\n// Extract the devices array from the response\nconst devices = response.devices;\n\n// Create an array to store the extracted data\nconst tableData = devices.map(device => {\n    const { id, name, groups } = device;\n    return { id, name, groups: groups[0] };\n});\n\n// Set the table data as the payload\nmsg.payload = tableData;\n\n// Return the modified message\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "a37dcc6c5e1722ec"
            ]
        ]
    },
    {
        "id": "a37dcc6c5e1722ec",
        "type": "ui_table",
        "z": "b445f75bcfed026f",
        "group": "126f1718a9e18512",
        "name": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "columns": [
            {
                "field": "id",
                "title": "ID",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "name",
                "title": "Name",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "groups",
                "title": "Group",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1710,
        "y": 460,
        "wires": []
    },
    {
        "id": "f8273058ceb94faa",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Store Name",
        "func": "msg.payload = { \"name\": msg.payload };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 680,
        "wires": [
            [
                "c0ca41066586bc71"
            ]
        ]
    },
    {
        "id": "cd0f8f29a63b87df",
        "type": "function",
        "z": "b445f75bcfed026f",
        "name": "Store Groups",
        "func": "msg.payload = { \"groups\": [msg.payload] };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 740,
        "wires": [
            [
                "c0ca41066586bc71"
            ]
        ]
    },
    {
        "id": "c0ca41066586bc71",
        "type": "join",
        "z": "b445f75bcfed026f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "1",
        "count": "1",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 630,
        "y": 720,
        "wires": [
            [
                "34d9a01ccaf07e95"
            ]
        ]
    },
    {
        "id": "34d9a01ccaf07e95",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "nameandgroup",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "5a9faf96f303d878",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "Set name and group",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "nameandgroup",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 560,
        "wires": [
            [
                "12f5d61fc661dc6b"
            ]
        ]
    },
    {
        "id": "12f5d61fc661dc6b",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "Set URL and method",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "daliaddress",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "method",
                "pt": "msg",
                "to": "PUT",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 560,
        "wires": [
            [
                "f4bd1834035f3fd1"
            ]
        ]
    },
    {
        "id": "4ed767152a18e4dc",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "Set deviceID URL",
        "rules": [
            {
                "t": "set",
                "p": "daliaddress",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "fb471915e9f87596",
        "type": "change",
        "z": "b445f75bcfed026f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 500,
        "wires": [
            [
                "84e9623fa26fb16c"
            ]
        ]
    },
    {
        "id": "84e9623fa26fb16c",
        "type": "delay",
        "z": "b445f75bcfed026f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 440,
        "y": 500,
        "wires": [
            [
                "955501f00670aab6"
            ]
        ]
    },
    {
        "id": "2221d40b25b7b5e6",
        "type": "inject",
        "z": "b445f75bcfed026f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 440,
        "wires": [
            [
                "955501f00670aab6"
            ]
        ]
    },
    {
        "id": "0f7c330faa98378a",
        "type": "comment",
        "z": "b445f75bcfed026f",
        "name": "DALI Configuration",
        "info": "",
        "x": 250,
        "y": 120,
        "wires": []
    },
    {
        "id": "260d16b2b4892ef1",
        "type": "ui_button",
        "z": "b445f75bcfed026f",
        "name": "",
        "group": "70c3b26a379d804a",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Find Devices",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{   \"newInstallation\": false,   \"noAddressing\": false,   \"useLines\": [] }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 230,
        "y": 180,
        "wires": [
            [
                "4eae8eac0acf1578"
            ]
        ]
    },
    {
        "id": "e209387e2e548efd",
        "type": "ui_button",
        "z": "b445f75bcfed026f",
        "name": "",
        "group": "70c3b26a379d804a",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Stop Scan",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 230,
        "y": 380,
        "wires": [
            [
                "a063602e84673cb2",
                "50e03eedc1f81da0"
            ]
        ]
    },
    {
        "id": "98c7eeb62553fdba",
        "type": "ui_button",
        "z": "b445f75bcfed026f",
        "name": "Assign to group",
        "group": "70c3b26a379d804a",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Assign to group",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "nameandgroup",
        "payloadType": "flow",
        "topic": "topic",
        "topicType": "msg",
        "x": 240,
        "y": 560,
        "wires": [
            [
                "5a9faf96f303d878",
                "fb471915e9f87596"
            ]
        ]
    },
    {
        "id": "41947ee59a044ce0",
        "type": "ui_text_input",
        "z": "b445f75bcfed026f",
        "name": "Device ID",
        "label": "Device ID",
        "tooltip": "",
        "group": "70c3b26a379d804a",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "300",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 220,
        "y": 620,
        "wires": [
            [
                "d44a0c0a396a608b"
            ]
        ]
    },
    {
        "id": "4323ab5acaa3985c",
        "type": "ui_text_input",
        "z": "b445f75bcfed026f",
        "name": "Name",
        "label": "Name",
        "tooltip": "",
        "group": "70c3b26a379d804a",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 210,
        "y": 680,
        "wires": [
            [
                "f8273058ceb94faa"
            ]
        ]
    },
    {
        "id": "c504fd80fe945b05",
        "type": "ui_text_input",
        "z": "b445f75bcfed026f",
        "name": "Groups",
        "label": "Group",
        "tooltip": "",
        "group": "70c3b26a379d804a",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 220,
        "y": 740,
        "wires": [
            [
                "cd0f8f29a63b87df"
            ]
        ]
    },
    {
        "id": "024dc4e7fe56ef4f",
        "type": "ui_text",
        "z": "b445f75bcfed026f",
        "group": "70c3b26a379d804a",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Status",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1710,
        "y": 280,
        "wires": []
    },
    {
        "id": "9503d6cf161d9a90",
        "type": "ui_text",
        "z": "b445f75bcfed026f",
        "group": "70c3b26a379d804a",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Found",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1710,
        "y": 240,
        "wires": []
    },
    {
        "id": "24a7909eafd4a91b",
        "type": "ui_text",
        "z": "b445f75bcfed026f",
        "group": "70c3b26a379d804a",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Progress",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1720,
        "y": 180,
        "wires": []
    },
    {
        "id": "7ca584d2c3562c67",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "Set heat_temp_hyst",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::heat_temp_hyst",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "8eb2ef7b43dd8f91",
        "type": "rbe",
        "z": "78e8efcf909f71be",
        "name": "Send only on change",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1500,
        "y": 500,
        "wires": [
            [
                "cc74f91d23c37c5b"
            ]
        ]
    },
    {
        "id": "8cdcabc233d3e55b",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "Heat On",
        "links": [
            "75632236b9d33e46"
        ],
        "x": 525,
        "y": 380,
        "wires": [
            [
                "bb75a14c723dc788"
            ]
        ]
    },
    {
        "id": "cf106d2ec5bca923",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "Heat Off",
        "links": [
            "7d7079b3d9c55239",
            "a7a1c5c318ee6aa6",
            "f36cdce8f4760571"
        ],
        "x": 525,
        "y": 480,
        "wires": [
            [
                "468149f9f0f8e898"
            ]
        ]
    },
    {
        "id": "5a42cdc88bc06970",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "Heat Auto",
        "links": [
            "7e2a1b8954d612c6",
            "c61c60c5829cf548"
        ],
        "x": 525,
        "y": 580,
        "wires": [
            [
                "580814a26920b833"
            ]
        ]
    },
    {
        "id": "aa4a9670c5f425d3",
        "type": "dynamic thermostat",
        "z": "78e8efcf909f71be",
        "name": "Controller",
        "icon": "node-red/function.svg",
        "x": 1280,
        "y": 500,
        "wires": [
            [
                "8eb2ef7b43dd8f91"
            ]
        ]
    },
    {
        "id": "7d84f539e6e213e6",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "Set heat_temp_actual",
        "rules": [
            {
                "t": "set",
                "p": "heat_temp_actual",
                "pt": "global",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "c947b92ebbe98a08",
        "type": "inject",
        "z": "78e8efcf909f71be",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "8",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 120,
        "wires": [
            [
                "626513ee9b4302b8"
            ]
        ]
    },
    {
        "id": "676e77d433b154f4",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "Set soil_temp_max",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::soil_temp_max",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "560a88ab57d6497b",
        "type": "link out",
        "z": "78e8efcf909f71be",
        "name": "Temperature Actual",
        "mode": "link",
        "links": [
            "5861ea1a3d986ac6",
            "202ad5ce0521d7e5"
        ],
        "x": 1315,
        "y": 260,
        "wires": []
    },
    {
        "id": "e83e6ce41db4a31c",
        "type": "inject",
        "z": "78e8efcf909f71be",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 800,
        "wires": [
            [
                "0d8d516057094ad6",
                "33515f1b997491b4",
                "722ba1717248bcd6"
            ]
        ]
    },
    {
        "id": "0d8d516057094ad6",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "Get heat_temp_sp",
        "func": "let heat_temp_sp = global.get(\"heat_temp_sp\", \"file\");\nmsg.payload = heat_temp_sp;\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 680,
        "wires": [
            [
                "b19764da77942b18"
            ]
        ]
    },
    {
        "id": "f1788e77ed13b7da",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "Set heat_temp_sp",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::heat_temp_sp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "cc74f91d23c37c5b",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.onoff",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1740,
        "y": 500,
        "wires": [
            [
                "3b86513a08dc7607"
            ]
        ]
    },
    {
        "id": "2f4214eab39d0a9d",
        "type": "delay",
        "z": "78e8efcf909f71be",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1960,
        "y": 500,
        "wires": [
            [
                "d1bc00f6dcb0130c"
            ]
        ]
    },
    {
        "id": "1f9982053913ee82",
        "type": "delay",
        "z": "78e8efcf909f71be",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1960,
        "y": 620,
        "wires": [
            [
                "e71104e0f21bfc9e"
            ]
        ]
    },
    {
        "id": "b0d09f598acc5ec3",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status_heat_zone1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d7389013b347f4e7",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status_heat_zone2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "febca664e29c4789",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status_heat_zone3",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 680,
        "wires": [
            [
                "f4facc0ae7d07b3c",
                "c29f729f93f8b0eb"
            ]
        ]
    },
    {
        "id": "faf50d78c8880974",
        "type": "delay",
        "z": "78e8efcf909f71be",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 190,
        "y": 180,
        "wires": [
            [
                "916f2a4f4b2ead28"
            ]
        ]
    },
    {
        "id": "ba5477394a399102",
        "type": "delay",
        "z": "78e8efcf909f71be",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 190,
        "y": 260,
        "wires": [
            [
                "6f199e520850e3e0"
            ]
        ]
    },
    {
        "id": "6d0604e44da426c4",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "Average",
        "func": "// Initialize the context variables if they do not exist\nvar count = context.get('count') || 0;\nvar sum = context.get('sum') || 0;\n\n// Increment the count of received messages\ncount++;\n\n// Extract the number from the payload array and add it to the sum\nif (Array.isArray(msg.payload) && msg.payload.length > 0) {\n    sum += parseFloat(msg.payload[0]);\n} else {\n    sum += parseFloat(msg.payload);\n}\n\n// Save the updated values back to the context\ncontext.set('count', count);\ncontext.set('sum', sum);\n\n// Check if we have received 3 messages\nif (count === 3) {\n    // Compute the average\n    var average = sum / count;\n\n    // Send the average as the payload of a new message\n    msg.payload = average;\n\n    // Reset the context variables for the next set of inputs\n    context.set('count', 0);\n    context.set('sum', 0);\n\n    // Return the new message object to send it on\n    return msg;\n} else {\n    // If we haven't received 3 messages yet, do not send anything\n    return null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 180,
        "wires": [
            [
                "bcd17a31f2183c18"
            ]
        ]
    },
    {
        "id": "bcd17a31f2183c18",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "/10",
        "func": "// Check if payload is an array and has at least one element\nif (Array.isArray(msg.payload) && msg.payload.length > 0) {\n    // If it's an array, assume we are working with the first element\n    msg.payload = parseFloat(msg.payload[0]) / 10;\n} else {\n    // If it's not an array, just divide the payload by 10\n    msg.payload = parseFloat(msg.payload) / 10;\n}\n\n// Return the updated message object to send it on\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 180,
        "wires": [
            [
                "f2dcff65b0d48abb"
            ]
        ]
    },
    {
        "id": "0f9da4f6a0117415",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "Heat Zones",
        "links": [
            "ebef4b88ea0e36dd"
        ],
        "x": 375,
        "y": 460,
        "wires": [
            [
                "5da80eef8c779167",
                "9bf420a5105de9e1"
            ]
        ]
    },
    {
        "id": "5da80eef8c779167",
        "type": "switch",
        "z": "78e8efcf909f71be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 420,
        "wires": [
            [
                "bb75a14c723dc788"
            ]
        ]
    },
    {
        "id": "9bf420a5105de9e1",
        "type": "switch",
        "z": "78e8efcf909f71be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 520,
        "wires": [
            [
                "468149f9f0f8e898"
            ]
        ]
    },
    {
        "id": "b56f03998e8eb661",
        "type": "inject",
        "z": "78e8efcf909f71be",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "9",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 1120,
        "wires": [
            [
                "53d735985f39b560"
            ]
        ]
    },
    {
        "id": "55cc7524ba2e0c99",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "/100",
        "func": "// Check if payload is an array and has at least one element\nif (Array.isArray(msg.payload) && msg.payload.length > 0) {\n    // If it's an array, assume we are working with the first element\n    msg.payload = parseFloat(msg.payload[0]) / 100;\n} else {\n    // If it's not an array, just divide the payload by 100\n    msg.payload = parseFloat(msg.payload) / 100;\n}\n\n// Return the updated message object to send it on\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 1100,
        "wires": [
            [
                "0e38062aa46e100a",
                "9f23805baac0facd"
            ]
        ]
    },
    {
        "id": "8a522e8b3b6d6447",
        "type": "switch",
        "z": "78e8efcf909f71be",
        "name": "",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "soil_temp",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "soil_moist",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1120,
        "wires": [
            [
                "55cc7524ba2e0c99"
            ],
            [
                "5f2d5d3e200e8f03"
            ]
        ]
    },
    {
        "id": "5f2d5d3e200e8f03",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "/100",
        "func": "// Check if payload is an array and has at least one element\nif (Array.isArray(msg.payload) && msg.payload.length > 0) {\n    // If it's an array, assume we are working with the first element\n    msg.payload = parseFloat(msg.payload[0]) / 100;\n} else {\n    // If it's not an array, just divide the payload by 100\n    msg.payload = parseFloat(msg.payload) / 100;\n}\n\n// Return the updated message object to send it on\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 1160,
        "wires": [
            [
                "2c4f747d6af5330e",
                "0bb068c23c6d88aa"
            ]
        ]
    },
    {
        "id": "0e38062aa46e100a",
        "type": "link out",
        "z": "78e8efcf909f71be",
        "name": "Soil Temperature",
        "mode": "link",
        "links": [
            "c168133687e3eb2d"
        ],
        "x": 945,
        "y": 1060,
        "wires": []
    },
    {
        "id": "2c4f747d6af5330e",
        "type": "link out",
        "z": "78e8efcf909f71be",
        "name": "Soil Moisture",
        "mode": "link",
        "links": [
            "7a26911e305b2dda"
        ],
        "x": 945,
        "y": 1200,
        "wires": []
    },
    {
        "id": "d869e13759dd49d9",
        "type": "switch",
        "z": "78e8efcf909f71be",
        "name": "",
        "property": "soil_temp",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "#:(file)::soil_temp_max",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 670,
        "y": 1280,
        "wires": [
            [
                "6a0bebdded1c11e0"
            ]
        ]
    },
    {
        "id": "6a0bebdded1c11e0",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "Greater than",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1280,
        "wires": [
            [
                "a7a1c5c318ee6aa6"
            ]
        ]
    },
    {
        "id": "9f23805baac0facd",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "soil_temp",
        "rules": [
            {
                "t": "set",
                "p": "soil_temp",
                "pt": "global",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "0bb068c23c6d88aa",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "soil_moist",
        "rules": [
            {
                "t": "set",
                "p": "soil_moist",
                "pt": "global",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "f4facc0ae7d07b3c",
        "type": "link out",
        "z": "78e8efcf909f71be",
        "name": "Heat Status",
        "mode": "link",
        "links": [
            "2780273ff473c9a0"
        ],
        "x": 2565,
        "y": 680,
        "wires": []
    },
    {
        "id": "f2fde296498ae66c",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "heat_temp_hyst",
        "links": [
            "a7ccdfc66071546c"
        ],
        "x": 525,
        "y": 740,
        "wires": [
            [
                "2e53faf90ea7d20f"
            ]
        ]
    },
    {
        "id": "87e91a34714bd2fd",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "heat_temp_max",
        "links": [
            "7ecb0b99bc8d8395",
            "a24279bfd6feeb48"
        ],
        "x": 525,
        "y": 840,
        "wires": [
            [
                "676e77d433b154f4"
            ]
        ]
    },
    {
        "id": "d1273705b095b51d",
        "type": "link in",
        "z": "78e8efcf909f71be",
        "name": "heat_temp_sp",
        "links": [
            "5853cd64e867062f"
        ],
        "x": 525,
        "y": 640,
        "wires": [
            [
                "b19764da77942b18"
            ]
        ]
    },
    {
        "id": "a7a1c5c318ee6aa6",
        "type": "link out",
        "z": "78e8efcf909f71be",
        "name": "Heat off safety",
        "mode": "link",
        "links": [
            "cf106d2ec5bca923"
        ],
        "x": 1005,
        "y": 1280,
        "wires": []
    },
    {
        "id": "33515f1b997491b4",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "Get soil_temp_max",
        "func": "let soil_temp_max = global.get(\"soil_temp_max\", \"file\");\nmsg.payload = soil_temp_max;\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 880,
        "wires": [
            [
                "df4aaac289842cdb"
            ]
        ]
    },
    {
        "id": "722ba1717248bcd6",
        "type": "function",
        "z": "78e8efcf909f71be",
        "name": "Get heat_temp_hyst",
        "func": "let heat_temp_hyst = global.get(\"heat_temp_hyst\", \"file\");\nmsg.payload = heat_temp_hyst;\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 780,
        "wires": [
            [
                "2e53faf90ea7d20f"
            ]
        ]
    },
    {
        "id": "d04aaad7be248fda",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2500,
        "y": 760,
        "wires": [
            [
                "df6f747aec47f115"
            ]
        ]
    },
    {
        "id": "c29f729f93f8b0eb",
        "type": "rbe",
        "z": "78e8efcf909f71be",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 2530,
        "y": 720,
        "wires": [
            [
                "df6f747aec47f115"
            ]
        ]
    },
    {
        "id": "82bda6a126a4f696",
        "type": "change",
        "z": "78e8efcf909f71be",
        "name": "heat_rh",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::heat_rh",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2860,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "df6f747aec47f115",
        "type": "hourmeter",
        "z": "78e8efcf909f71be",
        "name": "",
        "topic": "",
        "cycle": "0",
        "x": 2670,
        "y": 720,
        "wires": [
            [],
            [
                "82bda6a126a4f696",
                "7bcfd43690ff6435"
            ]
        ]
    },
    {
        "id": "d897a3d9782d4815",
        "type": "inject",
        "z": "78e8efcf909f71be",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 300,
        "wires": [
            [
                "53063b8e672db8cc"
            ]
        ]
    },
    {
        "id": "3b86513a08dc7607",
        "type": "Set-DO1",
        "z": "78e8efcf909f71be",
        "name": "",
        "x": 1960,
        "y": 440,
        "wires": [
            [
                "2f4214eab39d0a9d",
                "b0d09f598acc5ec3"
            ]
        ]
    },
    {
        "id": "d1bc00f6dcb0130c",
        "type": "Set-DO2",
        "z": "78e8efcf909f71be",
        "name": "",
        "x": 1960,
        "y": 560,
        "wires": [
            [
                "1f9982053913ee82",
                "d7389013b347f4e7"
            ]
        ]
    },
    {
        "id": "e71104e0f21bfc9e",
        "type": "Set-DO3",
        "z": "78e8efcf909f71be",
        "name": "",
        "x": 1960,
        "y": 680,
        "wires": [
            [
                "febca664e29c4789"
            ]
        ]
    },
    {
        "id": "53063b8e672db8cc",
        "type": "Read-PT1",
        "z": "78e8efcf909f71be",
        "name": "",
        "x": 430,
        "y": 300,
        "wires": [
            [
                "f2dcff65b0d48abb"
            ]
        ]
    },
    {
        "id": "626513ee9b4302b8",
        "type": "modbus-getter",
        "z": "78e8efcf909f71be",
        "d": true,
        "name": "Temp Sensor 1",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "unitid": "60",
        "dataType": "HoldingRegister",
        "adr": "12",
        "quantity": "1",
        "server": "f916ff91cd483ac8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "8",
        "x": 420,
        "y": 120,
        "wires": [
            [
                "faf50d78c8880974",
                "6d0604e44da426c4"
            ],
            []
        ]
    },
    {
        "id": "916f2a4f4b2ead28",
        "type": "modbus-getter",
        "z": "78e8efcf909f71be",
        "d": true,
        "name": "Temp Sensor 2",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "unitid": "61",
        "dataType": "HoldingRegister",
        "adr": "12",
        "quantity": "1",
        "server": "f916ff91cd483ac8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "8",
        "x": 420,
        "y": 180,
        "wires": [
            [
                "ba5477394a399102",
                "6d0604e44da426c4"
            ],
            []
        ]
    },
    {
        "id": "6f199e520850e3e0",
        "type": "modbus-getter",
        "z": "78e8efcf909f71be",
        "d": true,
        "name": "Temp Sensor 3",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "unitid": "62",
        "dataType": "HoldingRegister",
        "adr": "12",
        "quantity": "1",
        "server": "f916ff91cd483ac8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "8",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "6d0604e44da426c4"
            ],
            []
        ]
    },
    {
        "id": "53d735985f39b560",
        "type": "modbus-flex-sequencer",
        "z": "78e8efcf909f71be",
        "d": true,
        "name": "Soil Sensor",
        "sequences": [
            {
                "name": "soil_temp",
                "unitid": "4",
                "fc": "FC3",
                "address": "0x0000",
                "quantity": "1"
            },
            {
                "name": "soil_moist",
                "unitid": "4",
                "fc": "FC3",
                "address": "0x0001",
                "quantity": "1"
            }
        ],
        "server": "f916ff91cd483ac8",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "8",
        "x": 430,
        "y": 1120,
        "wires": [
            [
                "8a522e8b3b6d6447",
                "d869e13759dd49d9"
            ],
            []
        ],
        "info": "if (name === \"voltage_L1\"){\r\n    msg.topic = \"voltage_L1\";\r\n} else {\r\n    msg.topic = \"default\";\r\n}\r\n\r\n"
    },
    {
        "id": "bb75a14c723dc788",
        "type": "ui_button",
        "z": "78e8efcf909f71be",
        "name": "",
        "group": "21cee9ed88b8bd70",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "On",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 770,
        "y": 420,
        "wires": [
            [
                "aa4a9670c5f425d3"
            ]
        ]
    },
    {
        "id": "468149f9f0f8e898",
        "type": "ui_button",
        "z": "78e8efcf909f71be",
        "name": "",
        "group": "21cee9ed88b8bd70",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 770,
        "y": 480,
        "wires": [
            [
                "aa4a9670c5f425d3"
            ]
        ]
    },
    {
        "id": "580814a26920b833",
        "type": "ui_button",
        "z": "78e8efcf909f71be",
        "name": "",
        "group": "21cee9ed88b8bd70",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Auto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "auto",
        "payloadType": "str",
        "topic": "switch",
        "topicType": "str",
        "x": 770,
        "y": 580,
        "wires": [
            [
                "aa4a9670c5f425d3"
            ]
        ]
    },
    {
        "id": "0d522d985750ed5d",
        "type": "ui_button",
        "z": "78e8efcf909f71be",
        "name": "",
        "group": "8323f912e3af1c61",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset Counter Heater",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 2280,
        "y": 800,
        "wires": [
            [
                "d04aaad7be248fda"
            ]
        ]
    },
    {
        "id": "b19764da77942b18",
        "type": "ui_slider",
        "z": "78e8efcf909f71be",
        "name": "",
        "label": "Target",
        "tooltip": "",
        "group": "8323f912e3af1c61",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "target",
        "topicType": "str",
        "min": 0,
        "max": "30",
        "step": 1,
        "className": "",
        "x": 770,
        "y": 680,
        "wires": [
            [
                "aa4a9670c5f425d3",
                "f1788e77ed13b7da"
            ]
        ]
    },
    {
        "id": "f2dcff65b0d48abb",
        "type": "ui_slider",
        "z": "78e8efcf909f71be",
        "name": "",
        "label": "Actual",
        "tooltip": "",
        "group": "58e140ce066c7d77",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "all",
        "topic": "current",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": "0.5",
        "className": "",
        "x": 1110,
        "y": 180,
        "wires": [
            [
                "aa4a9670c5f425d3",
                "7d84f539e6e213e6",
                "560a88ab57d6497b",
                "0d24bce25d24dc9d"
            ]
        ]
    },
    {
        "id": "2e53faf90ea7d20f",
        "type": "ui_slider",
        "z": "78e8efcf909f71be",
        "name": "",
        "label": "Hysteresis",
        "tooltip": "",
        "group": "8323f912e3af1c61",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "hysteresis",
        "topicType": "str",
        "min": 0,
        "max": "5",
        "step": 1,
        "className": "",
        "x": 790,
        "y": 780,
        "wires": [
            [
                "aa4a9670c5f425d3",
                "7ca584d2c3562c67"
            ]
        ]
    },
    {
        "id": "df4aaac289842cdb",
        "type": "ui_slider",
        "z": "78e8efcf909f71be",
        "name": "",
        "label": "Maximum",
        "tooltip": "",
        "group": "8323f912e3af1c61",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "topicType": "str",
        "min": "12",
        "max": "40",
        "step": 1,
        "className": "",
        "x": 780,
        "y": 880,
        "wires": [
            [
                "676e77d433b154f4"
            ]
        ]
    },
    {
        "id": "7bcfd43690ff6435",
        "type": "ui_text",
        "z": "78e8efcf909f71be",
        "group": "8323f912e3af1c61",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Opeating Hours",
        "format": "{{msg.payload | number: 2}} h",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2880,
        "y": 760,
        "wires": []
    },
    {
        "id": "0d24bce25d24dc9d",
        "type": "ui_gauge",
        "z": "78e8efcf909f71be",
        "name": "",
        "group": "21cee9ed88b8bd70",
        "order": 2,
        "width": 0,
        "height": 0,
        "gtype": "donut",
        "title": "Temperature",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "60",
        "colors": [
            "#e6e600",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "6",
        "seg2": "27",
        "diff": false,
        "className": "",
        "x": 1370,
        "y": 180,
        "wires": []
    },
    {
        "id": "447bc1183e300d36",
        "type": "change",
        "z": "1f3696eb20e93949",
        "name": "Set Target Moisture",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::target_moisture",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "d43de3fbd1421844",
        "type": "change",
        "z": "1f3696eb20e93949",
        "name": "Set Temperature Hysteresis",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::hysteresis_moisture",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "99fcd11f88836839",
        "type": "debug",
        "z": "1f3696eb20e93949",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2150,
        "y": 460,
        "wires": []
    },
    {
        "id": "21b89837a11555a8",
        "type": "rbe",
        "z": "1f3696eb20e93949",
        "name": "Send only on change",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1900,
        "y": 460,
        "wires": [
            [
                "99fcd11f88836839"
            ]
        ]
    },
    {
        "id": "7c15f804c57a38aa",
        "type": "inject",
        "z": "1f3696eb20e93949",
        "name": "Inject default value 21 on start",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "21",
        "payloadType": "str",
        "x": 630,
        "y": 820,
        "wires": [
            [
                "447bc1183e300d36",
                "d60c54c4bf3ac42c"
            ]
        ]
    },
    {
        "id": "37eb79aae8629aeb",
        "type": "inject",
        "z": "1f3696eb20e93949",
        "name": "Inject default value 3 on start",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "str",
        "x": 640,
        "y": 1080,
        "wires": [
            [
                "d43de3fbd1421844",
                "6b640a47d3aac3d7"
            ]
        ]
    },
    {
        "id": "ab1967e337545ff0",
        "type": "debug",
        "z": "1f3696eb20e93949",
        "name": "Interval",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1540,
        "y": 280,
        "wires": []
    },
    {
        "id": "fea8515d91c269ce",
        "type": "link in",
        "z": "1f3696eb20e93949",
        "name": "link in 8",
        "links": [
            "75632236b9d33e46"
        ],
        "x": 565,
        "y": 140,
        "wires": [
            [
                "7d49d5a3e0b773db"
            ]
        ]
    },
    {
        "id": "b5915160e7e06d78",
        "type": "link in",
        "z": "1f3696eb20e93949",
        "name": "link in 9",
        "links": [
            "7d7079b3d9c55239"
        ],
        "x": 565,
        "y": 200,
        "wires": [
            [
                "6d0eaee17b7a72e2"
            ]
        ]
    },
    {
        "id": "fefe8dcf4207bd84",
        "type": "link in",
        "z": "1f3696eb20e93949",
        "name": "link in 10",
        "links": [
            "7e2a1b8954d612c6"
        ],
        "x": 565,
        "y": 260,
        "wires": [
            [
                "2c9b59ebf76873fb"
            ]
        ]
    },
    {
        "id": "4372c344aecf9a0c",
        "type": "function",
        "z": "1f3696eb20e93949",
        "name": "Interval Function",
        "func": "var durationMinutes = flow.get(\"durationMinutes\") || 1; // Default duration is 1 minute\nvar durationSeconds = flow.get(\"durationSeconds\") || 0; // Default duration is 0 seconds\nvar intervalMinutes = flow.get(\"intervalMinutes\") || 5; // Default interval is 5 minutes\nvar intervalSeconds = flow.get(\"intervalSeconds\") || 0; // Default interval is 0 seconds\n\nvar durationMilliseconds = (durationMinutes * 60000) + (durationSeconds * 1000); // Convert duration to milliseconds\nvar intervalMilliseconds = (intervalMinutes * 60000) + (intervalSeconds * 1000); // Convert interval to milliseconds\n\nvar isRunning = true; // Flag to indicate if the function is currently running\n\n// Handle incoming messages\nif (msg.payload === true && isRunning) {\n    // Set the output to true\n    msg.payload = true;\n    node.status({ fill: \"green\", shape: \"dot\", text: \"Output: true\" });\n\n    // Schedule resetting the output after the specified duration\n    setTimeout(function() {\n        msg.payload = false;\n        node.status({ fill: \"green\", shape: \"ring\", text: \"Output: false\" });\n        node.send(msg);\n    }, durationMilliseconds);\n} else if (msg.payload === \"off\") {\n    // Stop the function until any other input is received\n    isRunning = false;\n    node.status({ fill: \"red\", shape: \"dot\", text: \"Stopped\" });\n    clearTimeout(context.get(\"intervalId\")); // Clear the previous interval\n} else if (msg.payload !== true && !isRunning) {\n    // Start a new interval if the function was stopped and received a non-\"off\" input\n    isRunning = true;\n    node.status({ fill: \"green\", shape: \"dot\", text: \"Running\" });\n\n    // Schedule the next interval\n    var intervalId = setTimeout(function() {\n        node.status({ fill: \"yellow\", shape: \"dot\", text: \"Waiting...\" });\n        node.send({ payload: true }); // Trigger the node every interval\n    }, intervalMilliseconds);\n\n    context.set(\"intervalId\", intervalId); // Store the interval ID in the context\n}\n\nflow.set(\"durationMinutes\", durationMinutes); // Store the updated duration minutes in flow context\nflow.set(\"durationSeconds\", durationSeconds); // Store the updated duration seconds in flow context\nflow.set(\"intervalMinutes\", intervalMinutes); // Store the updated interval minutes in flow context\nflow.set(\"intervalSeconds\", intervalSeconds); // Store the updated interval seconds in flow context\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 860,
        "y": 360,
        "wires": [
            [
                "2e87de5f4cfe0b66",
                "aff688109d2aaa81"
            ]
        ]
    },
    {
        "id": "fd3ebe712d1b6a69",
        "type": "change",
        "z": "1f3696eb20e93949",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "durationMinutes",
                "pt": "flow",
                "to": "$parseFloat($$.payload)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "intervalMinutes",
                "pt": "flow",
                "to": "$parseFloat($$.payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 560,
        "wires": [
            [
                "4372c344aecf9a0c"
            ]
        ]
    },
    {
        "id": "2e87de5f4cfe0b66",
        "type": "change",
        "z": "1f3696eb20e93949",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true, auto, on",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 340,
        "wires": [
            [
                "d39fb87d2ec623c9"
            ]
        ]
    },
    {
        "id": "aff688109d2aaa81",
        "type": "change",
        "z": "1f3696eb20e93949",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 380,
        "wires": [
            [
                "d39fb87d2ec623c9"
            ]
        ]
    },
    {
        "id": "d39fb87d2ec623c9",
        "type": "dynamic thermostat",
        "z": "1f3696eb20e93949",
        "name": "Irrigation Controller",
        "icon": "node-red/function.svg",
        "x": 1550,
        "y": 460,
        "wires": [
            [
                "21b89837a11555a8"
            ]
        ]
    },
    {
        "id": "eec7fa48c6867353",
        "type": "switch",
        "z": "1f3696eb20e93949",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "moisture-actual",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1390,
        "y": 960,
        "wires": [
            [
                "6daa682a98c012d2"
            ]
        ]
    },
    {
        "id": "2c9b59ebf76873fb",
        "type": "ui_button",
        "z": "1f3696eb20e93949",
        "name": "",
        "group": "b3420aab24f5d3e8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Auto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "auto",
        "payloadType": "str",
        "topic": "switch",
        "topicType": "str",
        "x": 850,
        "y": 260,
        "wires": [
            [
                "ab1967e337545ff0",
                "4372c344aecf9a0c"
            ]
        ]
    },
    {
        "id": "6d0eaee17b7a72e2",
        "type": "ui_button",
        "z": "1f3696eb20e93949",
        "name": "",
        "group": "b3420aab24f5d3e8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 850,
        "y": 200,
        "wires": [
            [
                "d39fb87d2ec623c9",
                "4372c344aecf9a0c"
            ]
        ]
    },
    {
        "id": "7d49d5a3e0b773db",
        "type": "ui_button",
        "z": "1f3696eb20e93949",
        "name": "",
        "group": "b3420aab24f5d3e8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "On",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 850,
        "y": 140,
        "wires": [
            [
                "d39fb87d2ec623c9"
            ]
        ]
    },
    {
        "id": "7370e80431a30917",
        "type": "ui_text_input",
        "z": "1f3696eb20e93949",
        "name": "Duration Minutes",
        "label": "Duration (minutes)",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 490,
        "y": 540,
        "wires": [
            [
                "fd3ebe712d1b6a69"
            ]
        ]
    },
    {
        "id": "88c115ebdf04808d",
        "type": "ui_text_input",
        "z": "1f3696eb20e93949",
        "name": "Interval Minutes",
        "label": "Interval (minutes)",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 480,
        "y": 500,
        "wires": [
            [
                "fd3ebe712d1b6a69"
            ]
        ]
    },
    {
        "id": "559c414cd81833f5",
        "type": "ui_text_input",
        "z": "1f3696eb20e93949",
        "name": "Duration Seconds",
        "label": "Duration (seconds)",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 490,
        "y": 620,
        "wires": [
            [
                "fd3ebe712d1b6a69"
            ]
        ]
    },
    {
        "id": "09ffb860d1e76847",
        "type": "ui_text_input",
        "z": "1f3696eb20e93949",
        "name": "Interval Seconds",
        "label": "Interval (seconds)",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 490,
        "y": 580,
        "wires": [
            [
                "fd3ebe712d1b6a69"
            ]
        ]
    },
    {
        "id": "6b640a47d3aac3d7",
        "type": "ui_slider",
        "z": "1f3696eb20e93949",
        "name": "",
        "label": "Hysteresis",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "hysteresis",
        "topicType": "str",
        "min": 0,
        "max": "5",
        "step": 1,
        "className": "",
        "x": 1230,
        "y": 1080,
        "wires": [
            [
                "d39fb87d2ec623c9"
            ]
        ]
    },
    {
        "id": "36c1ebea77f494f7",
        "type": "ui_slider",
        "z": "1f3696eb20e93949",
        "name": "",
        "label": "Actual",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "current",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "",
        "x": 1030,
        "y": 940,
        "wires": [
            [
                "d39fb87d2ec623c9",
                "c63eb9b9a3703822",
                "eec7fa48c6867353"
            ]
        ]
    },
    {
        "id": "d60c54c4bf3ac42c",
        "type": "ui_slider",
        "z": "1f3696eb20e93949",
        "name": "",
        "label": "Target",
        "tooltip": "",
        "group": "b3420aab24f5d3e8",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "target",
        "topicType": "str",
        "min": 0,
        "max": "30",
        "step": 1,
        "className": "",
        "x": 1030,
        "y": 820,
        "wires": [
            [
                "d39fb87d2ec623c9"
            ]
        ]
    },
    {
        "id": "c63eb9b9a3703822",
        "type": "ui_gauge",
        "z": "1f3696eb20e93949",
        "name": "",
        "group": "b3420aab24f5d3e8",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "donut",
        "title": "Moisture",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "60",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 1540,
        "y": 920,
        "wires": []
    },
    {
        "id": "6daa682a98c012d2",
        "type": "ui_toast",
        "z": "1f3696eb20e93949",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "Acknowledge",
        "cancel": "Ignore",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 1550,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "1cd588efe2616bab",
        "type": "change",
        "z": "4f1a29feadfc6d78",
        "name": "Set PPM Target ",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::ppm_target",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 360,
        "wires": [
            [
                "64526254d78007d4"
            ]
        ]
    },
    {
        "id": "626591311b404a00",
        "type": "change",
        "z": "4f1a29feadfc6d78",
        "name": "Set PPM Hysteresis",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::ppm_hysteresis",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 480,
        "wires": [
            [
                "986034f3fa521903"
            ]
        ]
    },
    {
        "id": "a4732dee6e45619e",
        "type": "debug",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1850,
        "y": 360,
        "wires": []
    },
    {
        "id": "d8bf39124c66d7bd",
        "type": "rbe",
        "z": "4f1a29feadfc6d78",
        "name": "Send only on change",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1600,
        "y": 360,
        "wires": [
            [
                "a4732dee6e45619e"
            ]
        ]
    },
    {
        "id": "2453de0aa830ef73",
        "type": "inject",
        "z": "4f1a29feadfc6d78",
        "name": "Inject default value 21 on start",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "21",
        "payloadType": "str",
        "x": 330,
        "y": 360,
        "wires": [
            [
                "1cd588efe2616bab"
            ]
        ]
    },
    {
        "id": "1610f50d623dbbb9",
        "type": "inject",
        "z": "4f1a29feadfc6d78",
        "name": "Inject default value 3 on start",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "str",
        "x": 320,
        "y": 480,
        "wires": [
            [
                "626591311b404a00"
            ]
        ]
    },
    {
        "id": "81318b40c9c2995a",
        "type": "link in",
        "z": "4f1a29feadfc6d78",
        "name": "link in 11",
        "links": [
            "75632236b9d33e46"
        ],
        "x": 645,
        "y": 180,
        "wires": [
            [
                "7984f8aeb66a0926"
            ]
        ]
    },
    {
        "id": "e410daea1aacb34e",
        "type": "link in",
        "z": "4f1a29feadfc6d78",
        "name": "link in 12",
        "links": [
            "7d7079b3d9c55239"
        ],
        "x": 645,
        "y": 240,
        "wires": [
            [
                "93c8cdc37a1d4afa"
            ]
        ]
    },
    {
        "id": "ed6e730ecc073768",
        "type": "link in",
        "z": "4f1a29feadfc6d78",
        "name": "link in 13",
        "links": [
            "7e2a1b8954d612c6"
        ],
        "x": 645,
        "y": 300,
        "wires": [
            [
                "58dbe879796a8419"
            ]
        ]
    },
    {
        "id": "84aa7c8f4ddbf455",
        "type": "inject",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "400",
        "payloadType": "num",
        "x": 370,
        "y": 400,
        "wires": [
            [
                "e6dc424e8660248d"
            ]
        ]
    },
    {
        "id": "62fa0a28dfda5741",
        "type": "switch",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "600",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1210,
        "y": 460,
        "wires": [
            [
                "66ea2a67a28b6c94"
            ]
        ]
    },
    {
        "id": "af29851dec6d1bea",
        "type": "inject",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900",
        "payloadType": "num",
        "x": 370,
        "y": 440,
        "wires": [
            [
                "e6dc424e8660248d"
            ]
        ]
    },
    {
        "id": "92b4eb77f6ecbf28",
        "type": "dynamic thermostat",
        "z": "4f1a29feadfc6d78",
        "name": "Controller",
        "icon": "node-red/function.svg",
        "x": 1220,
        "y": 360,
        "wires": [
            [
                "d8bf39124c66d7bd"
            ]
        ]
    },
    {
        "id": "58dbe879796a8419",
        "type": "ui_button",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "group": "118f6a96f7b4efb6",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Auto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "auto",
        "payloadType": "str",
        "topic": "switch",
        "topicType": "str",
        "x": 870,
        "y": 300,
        "wires": [
            [
                "92b4eb77f6ecbf28"
            ]
        ]
    },
    {
        "id": "93c8cdc37a1d4afa",
        "type": "ui_button",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "group": "118f6a96f7b4efb6",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 870,
        "y": 240,
        "wires": [
            [
                "92b4eb77f6ecbf28"
            ]
        ]
    },
    {
        "id": "7984f8aeb66a0926",
        "type": "ui_button",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "group": "118f6a96f7b4efb6",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "On",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 870,
        "y": 180,
        "wires": [
            [
                "92b4eb77f6ecbf28"
            ]
        ]
    },
    {
        "id": "986034f3fa521903",
        "type": "ui_slider",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "label": "Hysteresis",
        "tooltip": "",
        "group": "118f6a96f7b4efb6",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "hysteresis",
        "topicType": "str",
        "min": 0,
        "max": "5",
        "step": 1,
        "className": "",
        "x": 890,
        "y": 480,
        "wires": [
            [
                "92b4eb77f6ecbf28"
            ]
        ]
    },
    {
        "id": "e6dc424e8660248d",
        "type": "ui_slider",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "label": "Actual",
        "tooltip": "",
        "group": "118f6a96f7b4efb6",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "current",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "",
        "x": 870,
        "y": 420,
        "wires": [
            [
                "92b4eb77f6ecbf28",
                "ea37eb0428bfd920",
                "62fa0a28dfda5741"
            ]
        ]
    },
    {
        "id": "64526254d78007d4",
        "type": "ui_slider",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "label": "Target",
        "tooltip": "",
        "group": "118f6a96f7b4efb6",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "target",
        "topicType": "str",
        "min": 0,
        "max": "30",
        "step": 1,
        "className": "",
        "x": 870,
        "y": 360,
        "wires": [
            [
                "92b4eb77f6ecbf28"
            ]
        ]
    },
    {
        "id": "ea37eb0428bfd920",
        "type": "ui_gauge",
        "z": "4f1a29feadfc6d78",
        "name": "",
        "group": "118f6a96f7b4efb6",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "donut",
        "title": "CO2",
        "label": "ppm",
        "format": "{{value}}",
        "min": 0,
        "max": "4000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 1210,
        "y": 420,
        "wires": []
    },
    {
        "id": "66ea2a67a28b6c94",
        "type": "ui_toast",
        "z": "4f1a29feadfc6d78",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "Acknowledge",
        "cancel": "Ignore",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 1450,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "04e7d8d435fc6738",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Power1",
        "func": "var power1 = parseFloat(msg.payload[\"Total Effective Power\"]);\nvar powerInWatts = (power1 * 1000).toFixed(1);\nmsg.power1 = parseFloat(powerInWatts);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 540,
        "wires": [
            [
                "f084133b7ee39e79",
                "df053909ea009e5f"
            ]
        ]
    },
    {
        "id": "d137f1fa79896884",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Energy1",
        "func": "var energy1 = parseFloat(msg.payload[\"Total Effective Energy\"]).toFixed(1);\nmsg.energy1 = parseFloat(energy1);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 620,
        "wires": [
            [
                "efbe4b433d2e2736",
                "651d66e1a0e37caf"
            ]
        ]
    },
    {
        "id": "a03de0649d04d480",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage1_L1L2",
        "func": "var voltage1_L1L2 = parseFloat(msg.payload[\"L1_L2\"]).toFixed(1);\nmsg.voltage1_L1L2 = parseFloat(voltage1_L1L2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 700,
        "wires": [
            [
                "9df23516d0e7f3db",
                "e43247766fa26db0"
            ]
        ]
    },
    {
        "id": "f084133b7ee39e79",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Power1",
        "rules": [
            {
                "t": "set",
                "p": "value_power1",
                "pt": "global",
                "to": "power1",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "efbe4b433d2e2736",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Energy1",
        "rules": [
            {
                "t": "set",
                "p": "value_energy1",
                "pt": "global",
                "to": "energy1",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "9df23516d0e7f3db",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage1_L1L2",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage1_L1L2",
                "pt": "global",
                "to": "voltage1_L1L2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "d9ed0a909da51526",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage1_L1L3",
        "func": "var voltage1_L1L3 = parseFloat(msg.payload[\"L1_L3\"]).toFixed(1);\nmsg.voltage1_L1L3 = parseFloat(voltage1_L1L3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 780,
        "wires": [
            [
                "4f046acc9c8f1829",
                "588c86dd0c489f2b"
            ]
        ]
    },
    {
        "id": "4f046acc9c8f1829",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage1_L1L3",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage1_L1L3",
                "pt": "global",
                "to": "voltage1_L1L3",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "9c91d149a56b9740",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage1_L2L3",
        "func": "var voltage1_L2L3 = parseFloat(msg.payload[\"L2_L3\"]).toFixed(1);\nmsg.voltage1_L2L3 = parseFloat(voltage1_L2L3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 860,
        "wires": [
            [
                "31764dcaa37347d7",
                "98463d8af73de873"
            ]
        ]
    },
    {
        "id": "31764dcaa37347d7",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage1_L2L3",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage1_L2L3",
                "pt": "global",
                "to": "voltage1_L2L3",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "26cecbed5c3bf20e",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage1_L1N",
        "func": "var voltage1_L1N = parseFloat(msg.payload[\"Voltage L1\"]).toFixed(1);\nmsg.voltage1_L1N = parseFloat(voltage1_L1N);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 60,
        "wires": [
            [
                "19afe48e2c8ea1de",
                "efddd26877177457"
            ]
        ]
    },
    {
        "id": "19afe48e2c8ea1de",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage1_L1N",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage1_L1N",
                "pt": "global",
                "to": "voltage1_L1N",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "5b41328d9c8e366f",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage1_L2N",
        "func": "var voltage1_L2N = parseFloat(msg.payload[\"Voltage L2\"]).toFixed(1);\nmsg.voltage1_L2N = parseFloat(voltage1_L2N);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 140,
        "wires": [
            [
                "0ce46f705725fc6f",
                "317123d393bc6765"
            ]
        ]
    },
    {
        "id": "0ce46f705725fc6f",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage1_L2N",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage1_L2N",
                "pt": "global",
                "to": "voltage1_L2N",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "efa9b1080f8545c8",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage1_L3N",
        "func": "var voltage1_L3N = parseFloat(msg.payload[\"Voltage L3\"]).toFixed(1);\nmsg.voltage1_L3N = parseFloat(voltage1_L3N);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 220,
        "wires": [
            [
                "2f448bbb66ae35e3",
                "d5f76c925fa6c1fa"
            ]
        ]
    },
    {
        "id": "2f448bbb66ae35e3",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage1_L3N",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage1_L3N",
                "pt": "global",
                "to": "voltage1_L3N",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "ab27594fe3b9035c",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Current1_L1",
        "rules": [
            {
                "t": "set",
                "p": "value_current1_L1",
                "pt": "global",
                "to": "current1_L1",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "3ac57372b1eea653",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Current1_L2",
        "rules": [
            {
                "t": "set",
                "p": "value_current1_L2",
                "pt": "global",
                "to": "current1_L2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "93c149a554dd985e",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Current1_L3",
        "rules": [
            {
                "t": "set",
                "p": "value_current1_L3",
                "pt": "global",
                "to": "current1_L3",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "9341699fe339cde9",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Current1 L1",
        "func": "var current1_L1 = parseFloat(msg.payload[\"current_L1\"]).toFixed(1);\nmsg.current1_L1 = parseFloat(current1_L1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 300,
        "wires": [
            [
                "ab27594fe3b9035c",
                "81be9bf4af3b3fcf"
            ]
        ]
    },
    {
        "id": "cbde6ab425ef92c2",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Current1 L2",
        "func": "var current1_L2 = parseFloat(msg.payload[\"current_L2\"]).toFixed(1);\nmsg.current1_L2 = parseFloat(current1_L2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 380,
        "wires": [
            [
                "3ac57372b1eea653",
                "8d3adc339077da97"
            ]
        ]
    },
    {
        "id": "6b931f4c7bd2d455",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Current1 L3",
        "func": "var current1_L3 = parseFloat(msg.payload[\"current_L3\"]).toFixed(1);\nmsg.current1_L3 = parseFloat(current1_L3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 460,
        "wires": [
            [
                "93c149a554dd985e",
                "c24ce6d1452f319b"
            ]
        ]
    },
    {
        "id": "1dfbdab65b8e3671",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Power2",
        "func": "var power2 = parseFloat(msg.payload[\"Total Effective Power\"]);\nvar powerInWatts = (power2 * 1000).toFixed(1);\nmsg.power2 = parseFloat(powerInWatts);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 1500,
        "wires": [
            [
                "ece8820e34a9c79c",
                "aed9c83207011952"
            ]
        ]
    },
    {
        "id": "226cdbe3f8f48c59",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Energy 2",
        "func": "var energy2 = parseFloat(msg.payload[\"Total Effective Energy\"]).toFixed(1);\nmsg.energy2 = parseFloat(energy2);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 1580,
        "wires": [
            [
                "1a7906e0f87a5817",
                "ae4d7a6d1c45bbc3"
            ]
        ]
    },
    {
        "id": "86a00b08a0862e6e",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage2_L1L2",
        "func": "var voltage2_L1L2 = parseFloat(msg.payload[\"L1_L2\"]).toFixed(1);\nmsg.voltage2_L1L2 = parseFloat(voltage2_L1L2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 1660,
        "wires": [
            [
                "95e237d68cbe4b4b",
                "e8cfb2cfd9f8af66"
            ]
        ]
    },
    {
        "id": "ece8820e34a9c79c",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Power2",
        "rules": [
            {
                "t": "set",
                "p": "value_power2",
                "pt": "global",
                "to": "power2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "1a7906e0f87a5817",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Energy2",
        "rules": [
            {
                "t": "set",
                "p": "value_energy2",
                "pt": "global",
                "to": "energy2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "95e237d68cbe4b4b",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage2_L1L2",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage2_L1L2",
                "pt": "global",
                "to": "voltage2_L1L2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "1060f5ba544f738c",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage2_L1L3",
        "func": "var voltage2_L1L3 = parseFloat(msg.payload[\"L1_L3\"]).toFixed(1);\nmsg.voltage2_L1L3 = parseFloat(voltage2_L1L3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 1740,
        "wires": [
            [
                "73fa52366d8f2d42",
                "5787aed4365526f0"
            ]
        ]
    },
    {
        "id": "73fa52366d8f2d42",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage2_L1L3",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage2_L1L3",
                "pt": "global",
                "to": "voltage2_L1L3",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "734a788d2c345034",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage2_L2L3",
        "func": "var voltage2_L2L3 = parseFloat(msg.payload[\"L2_L3\"]).toFixed(1);\nmsg.voltage2_L2L3 = parseFloat(voltage2_L2L3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 1820,
        "wires": [
            [
                "1fa90195a3888324",
                "fe78c4e6583704fc"
            ]
        ]
    },
    {
        "id": "1fa90195a3888324",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage2_L2L3",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage2_L2L3",
                "pt": "global",
                "to": "voltage2_L2L3",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "a27bdffd4b68ce11",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage2_L1N",
        "func": "var voltage2_L1N = parseFloat(msg.payload[\"Voltage L1\"]).toFixed(1);\nmsg.voltage2_L1N = parseFloat(voltage2_L1N);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 1020,
        "wires": [
            [
                "5837dfedfddbd54a",
                "21ef2f3a79faef34"
            ]
        ]
    },
    {
        "id": "5837dfedfddbd54a",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage2_L1N",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage2_L1N",
                "pt": "global",
                "to": "voltage2_L1N",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "e684d9f53adcceef",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage2_L2N",
        "func": "var voltage2_L2N = parseFloat(msg.payload[\"Voltage L2\"]).toFixed(1);\nmsg.voltage2_L2N = parseFloat(voltage2_L2N);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 1100,
        "wires": [
            [
                "be69c9d85ca893ad",
                "7704b74401f67641"
            ]
        ]
    },
    {
        "id": "be69c9d85ca893ad",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage2_L2N",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage2_L2N",
                "pt": "global",
                "to": "voltage2_L2N",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "e5c18bf950866964",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Voltage2_L3N",
        "func": "var voltage2_L3N = parseFloat(msg.payload[\"Voltage L3\"]).toFixed(1);\nmsg.voltage2_L3N = parseFloat(voltage2_L3N);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 1180,
        "wires": [
            [
                "47f4a0c2d9c0f3a7",
                "2ba09db39245a4e8"
            ]
        ]
    },
    {
        "id": "47f4a0c2d9c0f3a7",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Set Voltage2_L3N",
        "rules": [
            {
                "t": "set",
                "p": "value_voltage2_L3N",
                "pt": "global",
                "to": "voltage2_L3N",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "df7a2765268974c4",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Current2_L1",
        "rules": [
            {
                "t": "set",
                "p": "value_current2_L1",
                "pt": "global",
                "to": "payload.current_L1",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "468f8132f42275f6",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Current2_L2",
        "rules": [
            {
                "t": "set",
                "p": "value_current2_L2",
                "pt": "global",
                "to": "payload.current_L2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "1596efbab96d09a2",
        "type": "change",
        "z": "fe85fe50f78d803b",
        "name": "Current2_L3",
        "rules": [
            {
                "t": "set",
                "p": "value_current2_L3",
                "pt": "global",
                "to": "payload.current_L3",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "543acd383a18bc51",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Current2 L1",
        "func": "var current2_L1 = parseFloat(msg.payload[\"current_L1\"]).toFixed(1);\nmsg.current2_L1 = parseFloat(current2_L1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 1260,
        "wires": [
            [
                "df7a2765268974c4",
                "74cd6611c8f8dae4"
            ]
        ]
    },
    {
        "id": "ab6ad6a9b1bb183e",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Current2 L2",
        "func": "var current2_L2 = parseFloat(msg.payload[\"current_L2\"]).toFixed(1);\nmsg.current2_L2 = parseFloat(current2_L2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 1340,
        "wires": [
            [
                "468f8132f42275f6",
                "81c4b21855b124b9"
            ]
        ]
    },
    {
        "id": "40b2d913f4c90751",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format Current2 L3",
        "func": "var current2_L3 = parseFloat(msg.payload[\"current_L3\"]).toFixed(1);\nmsg.current2_L3 = parseFloat(current2_L3);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 1420,
        "wires": [
            [
                "1596efbab96d09a2",
                "68eb5b587ba4efba"
            ]
        ]
    },
    {
        "id": "7baaa569af5f5c8c",
        "type": "switch",
        "z": "fe85fe50f78d803b",
        "name": "",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "voltage",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "frequency",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "current",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "eff_power",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "eff_energy",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "L1-L2-L3",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 570,
        "y": 300,
        "wires": [
            [
                "16af66bc674cad87"
            ],
            [
                "9fc9cd7088853aed"
            ],
            [
                "5d41376bdc224630"
            ],
            [
                "9281788a9ef4d21e"
            ],
            [
                "0f5f59d89cb246b0"
            ],
            [
                "f39d167c13c8b553"
            ]
        ]
    },
    {
        "id": "ddb48cccba077003",
        "type": "inject",
        "z": "fe85fe50f78d803b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 300,
        "wires": [
            [
                "facba3567f580392"
            ]
        ]
    },
    {
        "id": "8bd76c246ffed003",
        "type": "switch",
        "z": "fe85fe50f78d803b",
        "name": "",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "voltage",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "frequency",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "current",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "eff_power",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "eff_energy",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "L1-L2-L3",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 570,
        "y": 1280,
        "wires": [
            [
                "3a25a50b79801b0f"
            ],
            [
                "006be43c4bef63df"
            ],
            [
                "1315ebe59efb2da3"
            ],
            [
                "04e2b310951f048c"
            ],
            [
                "1531b9b4d9704c63"
            ],
            [
                "91a5b6d90b5d43e9"
            ]
        ]
    },
    {
        "id": "0d217f547c2b31c1",
        "type": "inject",
        "z": "fe85fe50f78d803b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "6",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 1280,
        "wires": [
            [
                "fcbddeff4aadcfa8"
            ]
        ]
    },
    {
        "id": "16b54c738da57b32",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format frequency",
        "func": "var frequency = parseFloat(msg.payload[\"Frequency\"]).toFixed(1);\nmsg.frequency = parseFloat(frequency);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 120,
        "wires": [
            [
                "ca17d132705f7fb3"
            ]
        ]
    },
    {
        "id": "40af209314b94be2",
        "type": "function",
        "z": "fe85fe50f78d803b",
        "name": "Format frequency",
        "func": "var frequency = parseFloat(msg.payload[\"Frequency\"]).toFixed(1);\nmsg.frequency = parseFloat(frequency);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1060,
        "wires": [
            [
                "81a8a4033d99cff3"
            ]
        ]
    },
    {
        "id": "facba3567f580392",
        "type": "modbus-flex-sequencer",
        "z": "fe85fe50f78d803b",
        "name": "Energy Meter 1",
        "sequences": [
            {
                "name": "voltage",
                "unitid": "2",
                "fc": "FC3",
                "address": "20482",
                "quantity": "6"
            },
            {
                "name": "frequency",
                "unitid": "2",
                "fc": "FC3",
                "address": "20488",
                "quantity": "2"
            },
            {
                "name": "current",
                "unitid": "2",
                "fc": "FC3",
                "address": "20492",
                "quantity": "6"
            },
            {
                "name": "eff_power",
                "unitid": "2",
                "fc": "FC3",
                "address": "20498",
                "quantity": "8"
            },
            {
                "name": "eff_energy",
                "unitid": "2",
                "fc": "FC3",
                "address": "24576",
                "quantity": "12"
            },
            {
                "name": "L1-L2-L3",
                "unitid": "2",
                "fc": "FC3",
                "address": "20530",
                "quantity": "6"
            }
        ],
        "server": "f916ff91cd483ac8",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": true,
        "startDelayTime": "5",
        "x": 380,
        "y": 300,
        "wires": [
            [
                "7baaa569af5f5c8c"
            ],
            []
        ],
        "info": "if (name === \"voltage_L1\"){\r\n    msg.topic = \"voltage_L1\";\r\n} else {\r\n    msg.topic = \"default\";\r\n}\r\n\r\n"
    },
    {
        "id": "fcbddeff4aadcfa8",
        "type": "modbus-flex-sequencer",
        "z": "fe85fe50f78d803b",
        "d": true,
        "name": "Energy Meter 2",
        "sequences": [
            {
                "name": "voltage",
                "unitid": "3",
                "fc": "FC3",
                "address": "20482",
                "quantity": "6"
            },
            {
                "name": "frequency",
                "unitid": "3",
                "fc": "FC3",
                "address": "20488",
                "quantity": "2"
            },
            {
                "name": "current",
                "unitid": "3",
                "fc": "FC3",
                "address": "20492",
                "quantity": "6"
            },
            {
                "name": "eff_power",
                "unitid": "3",
                "fc": "FC3",
                "address": "20498",
                "quantity": "8"
            },
            {
                "name": "eff_energy",
                "unitid": "3",
                "fc": "FC3",
                "address": "24576",
                "quantity": "12"
            },
            {
                "name": "L1-L2-L3",
                "unitid": "3",
                "fc": "FC3",
                "address": "20530",
                "quantity": "6"
            }
        ],
        "server": "f916ff91cd483ac8",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": true,
        "startDelayTime": "6",
        "x": 380,
        "y": 1280,
        "wires": [
            [
                "8bd76c246ffed003"
            ],
            []
        ],
        "info": "if (name === \"voltage_L1\"){\r\n    msg.topic = \"voltage_L1\";\r\n} else {\r\n    msg.topic = \"default\";\r\n}\r\n\r\n"
    },
    {
        "id": "efddd26877177457",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1-N",
        "format": "{{msg.voltage1_L1N}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 100,
        "wires": []
    },
    {
        "id": "317123d393bc6765",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L2-N",
        "format": "{{msg.voltage1_L2N}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 180,
        "wires": []
    },
    {
        "id": "d5f76c925fa6c1fa",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L3-N",
        "format": "{{msg.voltage1_L3N}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 260,
        "wires": []
    },
    {
        "id": "e43247766fa26db0",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1-L2",
        "format": "{{msg.voltage1_L1L2}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 740,
        "wires": []
    },
    {
        "id": "98463d8af73de873",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L2-L3",
        "format": "{{msg.voltage1_L2L3}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 900,
        "wires": []
    },
    {
        "id": "588c86dd0c489f2b",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1-L3",
        "format": "{{msg.voltage1_L1L3}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 820,
        "wires": []
    },
    {
        "id": "81be9bf4af3b3fcf",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1",
        "format": "{{msg.current1_L1}} A",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 340,
        "wires": []
    },
    {
        "id": "ca17d132705f7fb3",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Frequency",
        "format": "{{msg.frequency}} Hz",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1170,
        "y": 120,
        "wires": []
    },
    {
        "id": "21ef2f3a79faef34",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1-N",
        "format": "{{msg.voltage2_L1N}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1060,
        "wires": []
    },
    {
        "id": "8d3adc339077da97",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L2",
        "format": "{{msg.current1_L2}} A",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 420,
        "wires": []
    },
    {
        "id": "c24ce6d1452f319b",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L3",
        "format": "{{msg.current1_L3}} A",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 500,
        "wires": []
    },
    {
        "id": "df053909ea009e5f",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Power",
        "format": "{{msg.power1}} W",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 580,
        "wires": []
    },
    {
        "id": "651d66e1a0e37caf",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "117e5486d4a27dbc",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Energy",
        "format": "{{msg.energy1}} kWh",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1660,
        "y": 660,
        "wires": []
    },
    {
        "id": "7704b74401f67641",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L2-N",
        "format": "{{msg.voltage2_L2N}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1140,
        "wires": []
    },
    {
        "id": "2ba09db39245a4e8",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L3-N",
        "format": "{{msg.voltage2_L3N}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1220,
        "wires": []
    },
    {
        "id": "e8cfb2cfd9f8af66",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1-L2",
        "format": "{{msg.voltage2_L1L2}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1700,
        "wires": []
    },
    {
        "id": "5787aed4365526f0",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1-L3",
        "format": "{{msg.voltage2_L1L3}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1780,
        "wires": []
    },
    {
        "id": "fe78c4e6583704fc",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L2-L3",
        "format": "{{msg.voltage2_L2L3}} V",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1860,
        "wires": []
    },
    {
        "id": "74cd6611c8f8dae4",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L1",
        "format": "{{msg.current2_L1}} A",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1300,
        "wires": []
    },
    {
        "id": "81c4b21855b124b9",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L2",
        "format": "{{msg.current2_L2}} A",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1380,
        "wires": []
    },
    {
        "id": "68eb5b587ba4efba",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "L3",
        "format": "{{msg.current2_L3}} A",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1460,
        "wires": []
    },
    {
        "id": "aed9c83207011952",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Power",
        "format": "{{msg.power2}} W",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1650,
        "y": 1540,
        "wires": []
    },
    {
        "id": "ae4d7a6d1c45bbc3",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Energy",
        "format": "{{msg.energy2}} kWh",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1660,
        "y": 1620,
        "wires": []
    },
    {
        "id": "81a8a4033d99cff3",
        "type": "ui_text",
        "z": "fe85fe50f78d803b",
        "group": "7e42d08b3968f8f8",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Frequency",
        "format": "{{msg.frequency}} Hz",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1210,
        "y": 1060,
        "wires": []
    },
    {
        "id": "9281788a9ef4d21e",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "effective power",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Effective Power",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Power L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Power L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Power L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 200,
        "wires": [
            [
                "04e7d8d435fc6738"
            ]
        ]
    },
    {
        "id": "16af66bc674cad87",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "voltage",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Voltage L1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Voltage L2",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Voltage L3",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 80,
        "wires": [
            [
                "26cecbed5c3bf20e",
                "5b41328d9c8e366f",
                "efa9b1080f8545c8"
            ]
        ]
    },
    {
        "id": "5d41376bdc224630",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "current",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "current_L1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "current_L2",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "current_L3",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 160,
        "wires": [
            [
                "9341699fe339cde9",
                "cbde6ab425ef92c2",
                "6b931f4c7bd2d455"
            ]
        ]
    },
    {
        "id": "9fc9cd7088853aed",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "frequency",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Frequency",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 120,
        "wires": [
            [
                "16b54c738da57b32"
            ]
        ]
    },
    {
        "id": "9bcdda0bca99a108",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reactive power",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reactive Power",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Power L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Power L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Power L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8197d7b4045053b3",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "apparent power",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Apparent Power",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Apparent Power L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Apparent Power L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Apparent Power L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "7e71cea06998d4c1",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "power factor",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Power Factor",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Power Factor L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Power Factor L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Power Factor L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 810,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "0f5f59d89cb246b0",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "effective energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Effective Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 360,
        "wires": [
            [
                "d137f1fa79896884"
            ]
        ]
    },
    {
        "id": "cf92798ac450e990",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reactive energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reactive Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "b690975360cfad2e",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "forward effective energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Forward Effective Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "b5bebd6a9c769c3f",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reverse effective energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reverse Effective Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "57556187037c262d",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "forward reactive energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Forward Reactive Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "dbe155da693a8d8e",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reverse reactive energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reverse Reactive Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "3d62c34a3950fea6",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "energy day counter",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Energy Day Counter",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 830,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "f6a7ac0b88c8bd44",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "quadrant",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "uint16be",
                "name": "Quadrant L1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "uint16be",
                "name": "Quadrant L2",
                "offset": 2,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "uint16be",
                "name": "Quadrant L3",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "f39d167c13c8b553",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "voltage L1_L2_L3",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "L1_L2",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "L1_L3",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "L2_L3",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 830,
        "y": 680,
        "wires": [
            [
                "a03de0649d04d480",
                "d9ed0a909da51526",
                "9c91d149a56b9740"
            ]
        ]
    },
    {
        "id": "04e2b310951f048c",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "effective power",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Effective Power",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Power L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Power L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Power L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 1140,
        "wires": [
            [
                "1dfbdab65b8e3671"
            ]
        ]
    },
    {
        "id": "3a25a50b79801b0f",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "voltage",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Voltage L1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Voltage L2",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Voltage L3",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 1020,
        "wires": [
            [
                "a27bdffd4b68ce11",
                "e684d9f53adcceef",
                "e5c18bf950866964"
            ]
        ]
    },
    {
        "id": "1315ebe59efb2da3",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "current",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "current_L1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "current_L2",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "current_L3",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 1100,
        "wires": [
            [
                "543acd383a18bc51",
                "ab6ad6a9b1bb183e",
                "40b2d913f4c90751"
            ]
        ]
    },
    {
        "id": "006be43c4bef63df",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "frequency",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Frequency",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 1060,
        "wires": [
            [
                "40af209314b94be2"
            ]
        ]
    },
    {
        "id": "f369b1433de89026",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reactive power",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reactive Power",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Power L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Power L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Power L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "ef417f17d571a834",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "apparent power",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Apparent Power",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Apparent Power L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Apparent Power L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Apparent Power L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "6367be7df61546b1",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "power factor",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Power Factor",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Power Factor L1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Power Factor L2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Power Factor L3",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 810,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "1531b9b4d9704c63",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "effective energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Effective Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Effective Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 1300,
        "wires": [
            [
                "226cdbe3f8f48c59"
            ]
        ]
    },
    {
        "id": "b94a7f2e74c78d74",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reactive energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reactive Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reactive Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 820,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "bac397e7daefeacb",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "forward effective energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Forward Effective Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Effective Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "5354ed1ffb53c40a",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reverse effective energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reverse Effective Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Effective Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "f010d58174eb0dbd",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "forward reactive energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Forward Reactive Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Forward Reactive Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "888ed2f5215acfc8",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "reverse reactive energy",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Total Reverse Reactive Energy",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy T1",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy T2",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy L1",
                "offset": 12,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy L2",
                "offset": 16,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "Reverse Reactive Energy L3",
                "offset": 20,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 850,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "c5221349b987283c",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "energy day counter",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "Energy Day Counter",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 830,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "2acee179203b3a58",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "quadrant",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "uint16be",
                "name": "Quadrant L1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "uint16be",
                "name": "Quadrant L2",
                "offset": 2,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "uint16be",
                "name": "Quadrant L3",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 800,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "91a5b6d90b5d43e9",
        "type": "buffer-parser",
        "z": "fe85fe50f78d803b",
        "name": "voltage L1_L2_L3",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "L1_L2",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "L1_L3",
                "offset": 4,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            },
            {
                "type": "floatbe",
                "name": "L2_L3",
                "offset": 8,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 830,
        "y": 1620,
        "wires": [
            [
                "86a00b08a0862e6e",
                "1060f5ba544f738c",
                "734a788d2c345034"
            ]
        ]
    },
    {
        "id": "074845e1504b55ea",
        "type": "switch",
        "z": "0ee30c608f8959c7",
        "name": "",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "router_name",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "router_serial",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "wan_ip",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "local_iso_time",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "gsm_operator",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "network_registration_info",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "network_type",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "rssi",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "imsi",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "latitude",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "longitude",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "satelites",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "gps_accuracy",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "unix",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 14,
        "x": 670,
        "y": 620,
        "wires": [
            [
                "d4fc6c0a9834d30b"
            ],
            [
                "e26c02ee53dc0fd9"
            ],
            [
                "4026291d0d7f2a53"
            ],
            [
                "5e6e9be85748e5af"
            ],
            [
                "e143bd70fe6010fa"
            ],
            [
                "a380d90cb76bf21a"
            ],
            [
                "5bbb7aa1a725bb08"
            ],
            [
                "2294fdc2c4a4122e"
            ],
            [
                "370cdad53842e597"
            ],
            [
                "c42066f9e50a04b9"
            ],
            [
                "a967ef0165427b80"
            ],
            [
                "2de04c8a8c2c9dcd"
            ],
            [
                "e794bb67a3531fa6"
            ],
            []
        ]
    },
    {
        "id": "1990e4100fa8108e",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "router_type",
                "pt": "global",
                "to": "payload.router_name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "4568781cc60a5198",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "router_serial",
                "pt": "global",
                "to": "payload.router_serial",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "a8b1c6fbc5d43929",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "wan_ip",
                "pt": "global",
                "to": "payload.wan_ip",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "8c2b276a6963bfb6",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "system_time",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2580,
        "y": 740,
        "wires": [
            [
                "ecfad64b7833ce51"
            ]
        ]
    },
    {
        "id": "2294fdc2c4a4122e",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "Convert 32bit Integer",
        "func": "var value = (msg.payload[0] << 16) + msg.payload[1];\nmsg.payload = value;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 820,
        "wires": [
            [
                "85d562b9248d31d2",
                "9c3e925767acee68"
            ]
        ]
    },
    {
        "id": "2de04c8a8c2c9dcd",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "Convert 32-bit Unsigned Integer",
        "func": "var msb = msg.payload[0];\nvar lsb = msg.payload[1];\nvar value = (msb << 16) + lsb;\n\nmsg.payload = value >>> 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1030,
        "y": 1160,
        "wires": [
            [
                "d16a9342cc60204b",
                "e8db4634e1c5b152"
            ]
        ]
    },
    {
        "id": "46f3cfd2b7269427",
        "type": "inject",
        "z": "0ee30c608f8959c7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 600,
        "wires": [
            [
                "843e6af3eebf63e4"
            ]
        ]
    },
    {
        "id": "c24ad35f51a43971",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "function 13",
        "func": "if (Array.isArray(msg.payload.wan_ip)) {\n    msg.payload.wan_ip = msg.payload.wan_ip.join('.');\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 440,
        "wires": [
            [
                "c1b4ffe90485b89c",
                "a8b1c6fbc5d43929"
            ]
        ]
    },
    {
        "id": "c42066f9e50a04b9",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "function 14",
        "func": "// Combine the two 16-bit values into a single 32-bit value\nvar combined = (msg.payload[0] << 16) | msg.payload[1];\n\n// Create a new buffer of 4 bytes (32 bits)\nlet buf = Buffer.alloc(4);\n\n// Write the combined 32-bit value into the buffer as a 32-bit BE integer\nbuf.writeUInt32BE(combined, 0);\n\n// Read the value from the buffer as a 32-bit BE float\nlet floatValue = buf.readFloatBE(0);\n\nmsg.payload = floatValue;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 980,
        "wires": [
            [
                "0708d09d8ece3b3a",
                "3ef3973ba9ce46a6"
            ]
        ]
    },
    {
        "id": "a967ef0165427b80",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "function 15",
        "func": "// Combine the two 16-bit values into a single 32-bit value\nvar combined = (msg.payload[0] << 16) | msg.payload[1];\n\n// Create a new buffer of 4 bytes (32 bits)\nlet buf = Buffer.alloc(4);\n\n// Write the combined 32-bit value into the buffer as a 32-bit BE integer\nbuf.writeUInt32BE(combined, 0);\n\n// Read the value from the buffer as a 32-bit BE float\nlet floatValue = buf.readFloatBE(0);\n\nmsg.payload = floatValue;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1060,
        "wires": [
            [
                "cf8468ec9d128cbc",
                "e3df9ee11a9d0fc2"
            ]
        ]
    },
    {
        "id": "e794bb67a3531fa6",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "function 16",
        "func": "// Combine the two 16-bit values into a single 32-bit value\nvar combined = (msg.payload[0] << 16) | msg.payload[1];\n\n// Create a new buffer of 4 bytes (32 bits)\nlet buf = Buffer.alloc(4);\n\n// Write the combined 32-bit value into the buffer as a 32-bit BE integer\nbuf.writeUInt32BE(combined, 0);\n\n// Read the value from the buffer as a 32-bit BE float\nlet floatValue = buf.readFloatBE(0);\n\nmsg.payload = floatValue;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1240,
        "wires": [
            [
                "a556a219cc8ef064",
                "428b6925e07eb07b"
            ]
        ]
    },
    {
        "id": "8139de41c7f63bc7",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "network_registration_info",
                "pt": "global",
                "to": "payload.network_registration_info",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "dfbafc8315a9fcbd",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "network_type",
                "pt": "global",
                "to": "payload.network_type",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "9c3e925767acee68",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rssi",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "059d026d57f92bc7",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "imsi",
                "pt": "global",
                "to": "payload.imsi",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "3ef3973ba9ce46a6",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "latitude",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "e3df9ee11a9d0fc2",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "longitude",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "e8db4634e1c5b152",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "gps_satelites",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "428b6925e07eb07b",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "gps_accuracy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "2b465db11e5006ce",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "function 18",
        "func": "msg.payload = msg.payload.local_iso_time;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 480,
        "wires": [
            [
                "77cdf86a8ebf4983"
            ]
        ]
    },
    {
        "id": "77cdf86a8ebf4983",
        "type": "function",
        "z": "0ee30c608f8959c7",
        "name": "Parse payload",
        "func": "// Convert the extracted string to a timestamp (milliseconds since the Unix epoch)\nmsg.payload = Date.parse(msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 480,
        "wires": [
            [
                "f72d19a0.4615e8",
                "e7332173.f40ac8",
                "ad0926de.26a49",
                "729d46e9.f2e86",
                "5ee3991e.5952b",
                "11105327.b13ee5",
                "9ecad2948ae62f39",
                "843cc2e32ca030cf"
            ]
        ]
    },
    {
        "id": "3ec0dcf4d524a897",
        "type": "change",
        "z": "0ee30c608f8959c7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "gsm_operator",
                "pt": "global",
                "to": "payload.gsm_operator",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "ee7a9310.023e58",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2280,
        "y": 680,
        "wires": []
    },
    {
        "id": "f72d19a0.4615e8",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "UTC Standard",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2010,
        "y": 560,
        "wires": []
    },
    {
        "id": "b95b0b21.615e2",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2280,
        "y": 620,
        "wires": []
    },
    {
        "id": "fccc4c17.8cc668",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "converted",
        "statusType": "auto",
        "x": 2290,
        "y": 980,
        "wires": []
    },
    {
        "id": "5a45bddc.198614",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2290,
        "y": 860,
        "wires": []
    },
    {
        "id": "453f43aa.10f854",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2290,
        "y": 920,
        "wires": []
    },
    {
        "id": "01e493199c11b19a",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2280,
        "y": 740,
        "wires": []
    },
    {
        "id": "a8131cfdf684fae3",
        "type": "debug",
        "z": "0ee30c608f8959c7",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2280,
        "y": 800,
        "wires": []
    },
    {
        "id": "843e6af3eebf63e4",
        "type": "modbus-flex-sequencer",
        "z": "0ee30c608f8959c7",
        "name": "",
        "sequences": [
            {
                "name": "router_name",
                "unitid": "1",
                "fc": "FC3",
                "address": "71",
                "quantity": "16"
            },
            {
                "name": "router_serial",
                "unitid": "1",
                "fc": "FC3",
                "address": "39",
                "quantity": "16"
            },
            {
                "name": "wan_ip",
                "unitid": "1",
                "fc": "FC3",
                "address": "139",
                "quantity": "2"
            },
            {
                "name": "local_iso_time",
                "unitid": "1",
                "fc": "FC3",
                "address": "366",
                "quantity": "12"
            },
            {
                "name": "gsm_operator",
                "unitid": "1",
                "fc": "FC3",
                "address": "23",
                "quantity": "16"
            },
            {
                "name": "network_registration_info",
                "unitid": "1",
                "fc": "FC3",
                "address": "103",
                "quantity": "16"
            },
            {
                "name": "network_type",
                "unitid": "1",
                "fc": "FC3",
                "address": "119",
                "quantity": "16"
            },
            {
                "name": "rssi",
                "unitid": "1",
                "fc": "FC3",
                "address": "3",
                "quantity": "2"
            },
            {
                "name": "imsi",
                "unitid": "1",
                "fc": "FC3",
                "address": "348",
                "quantity": "16"
            },
            {
                "name": "modem_id",
                "unitid": "1",
                "fc": "FC3",
                "address": "328",
                "quantity": "8"
            },
            {
                "name": "latitude",
                "unitid": "1",
                "fc": "FC3",
                "address": "143",
                "quantity": "2"
            },
            {
                "name": "longitude",
                "unitid": "1",
                "fc": "FC3",
                "address": "145",
                "quantity": "2"
            },
            {
                "name": "satelites",
                "unitid": "1",
                "fc": "FC3",
                "address": "181",
                "quantity": "2"
            },
            {
                "name": "gps_accuracy",
                "unitid": "1",
                "fc": "FC3",
                "address": "183",
                "quantity": "2"
            },
            {
                "name": "unix",
                "unitid": "1",
                "fc": "FC3",
                "address": "364",
                "quantity": "2"
            }
        ],
        "server": "5a31ef0c85d43ce4",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 420,
        "y": 600,
        "wires": [
            [
                "074845e1504b55ea"
            ],
            []
        ]
    },
    {
        "id": "a2e3e53478eb8d97",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "e38348e874cc7115",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Name",
        "format": "{{payload[\"router_name\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1310,
        "y": 280,
        "wires": []
    },
    {
        "id": "85d562b9248d31d2",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "7a3851358630c042",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Signal Strength",
        "format": "{{msg.payload}} dBm",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1340,
        "y": 840,
        "wires": []
    },
    {
        "id": "4f34e65f69767b6a",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "7a3851358630c042",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "IMSI",
        "format": "{{payload[\"imsi\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1310,
        "y": 920,
        "wires": []
    },
    {
        "id": "0708d09d8ece3b3a",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "154f666860f1c699",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Latitude",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1320,
        "y": 1000,
        "wires": []
    },
    {
        "id": "cf8468ec9d128cbc",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "154f666860f1c699",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Longitude",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1320,
        "y": 1080,
        "wires": []
    },
    {
        "id": "d16a9342cc60204b",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "154f666860f1c699",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Satelites",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1320,
        "y": 1160,
        "wires": []
    },
    {
        "id": "a556a219cc8ef064",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "154f666860f1c699",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Accuracy",
        "format": "{{msg.payload | number:4}} HDOP",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1320,
        "y": 1240,
        "wires": []
    },
    {
        "id": "698e4ec0bcebd637",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "e38348e874cc7115",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Serial",
        "format": "{{payload[\"router_serial\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1310,
        "y": 360,
        "wires": []
    },
    {
        "id": "c1b4ffe90485b89c",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "e38348e874cc7115",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "WAN IP",
        "format": "{{payload[\"wan_ip\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1320,
        "y": 440,
        "wires": []
    },
    {
        "id": "efb3df71d75f2146",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "7a3851358630c042",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Operator",
        "format": "{{payload[\"gsm_operator\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1320,
        "y": 600,
        "wires": []
    },
    {
        "id": "81ac3bbf2f8ffc29",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "7a3851358630c042",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Network Type",
        "format": "{{payload[\"network_type\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1340,
        "y": 760,
        "wires": []
    },
    {
        "id": "ae47864a766c21a9",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "e38348e874cc7115",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date and Time",
        "format": "{{payload[\"local_iso_time\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1340,
        "y": 520,
        "wires": []
    },
    {
        "id": "50058f73c018e499",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "7a3851358630c042",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Network Registration Info",
        "format": "{{payload[\"network_registration_info\"]}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1370,
        "y": 680,
        "wires": []
    },
    {
        "id": "ecfad64b7833ce51",
        "type": "ui_text",
        "z": "0ee30c608f8959c7",
        "group": "a1d8ed34.6a447",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Current time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2810,
        "y": 740,
        "wires": []
    },
    {
        "id": "d4fc6c0a9834d30b",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "router_name",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "router_name",
                "offset": 0,
                "length": 16,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 970,
        "y": 280,
        "wires": [
            [
                "a2e3e53478eb8d97",
                "1990e4100fa8108e"
            ]
        ]
    },
    {
        "id": "e26c02ee53dc0fd9",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "router_serial",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "router_serial",
                "offset": 0,
                "length": 16,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 970,
        "y": 360,
        "wires": [
            [
                "698e4ec0bcebd637",
                "4568781cc60a5198"
            ]
        ]
    },
    {
        "id": "5e6e9be85748e5af",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "local_iso_time",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "local_iso_time",
                "offset": 0,
                "length": 24,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 980,
        "y": 500,
        "wires": [
            [
                "ae47864a766c21a9",
                "2b465db11e5006ce"
            ]
        ]
    },
    {
        "id": "e143bd70fe6010fa",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "Operator",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "gsm_operator",
                "offset": 0,
                "length": 16,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 960,
        "y": 560,
        "wires": [
            [
                "efb3df71d75f2146",
                "3ec0dcf4d524a897"
            ]
        ]
    },
    {
        "id": "5bbb7aa1a725bb08",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "Network Type",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "network_type",
                "offset": 0,
                "length": 16,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 980,
        "y": 740,
        "wires": [
            [
                "81ac3bbf2f8ffc29",
                "dfbafc8315a9fcbd"
            ]
        ]
    },
    {
        "id": "4026291d0d7f2a53",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "wan_ip",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "uint8",
                "name": "wan_ip",
                "offset": 0,
                "length": 4,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 960,
        "y": 440,
        "wires": [
            [
                "c24ad35f51a43971"
            ]
        ]
    },
    {
        "id": "370cdad53842e597",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "imsi",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "imsi",
                "offset": 0,
                "length": 16,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 950,
        "y": 900,
        "wires": [
            [
                "4f34e65f69767b6a",
                "059d026d57f92bc7"
            ]
        ]
    },
    {
        "id": "a380d90cb76bf21a",
        "type": "buffer-parser",
        "z": "0ee30c608f8959c7",
        "name": "Network Registration Info",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "network_registration_info",
                "offset": 0,
                "length": 16,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 1010,
        "y": 660,
        "wires": [
            [
                "50058f73c018e499",
                "8139de41c7f63bc7"
            ]
        ]
    },
    {
        "id": "ad0926de.26a49",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "-> London",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Oslo",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD HH:mm:ss.SSS",
        "locale": "en-US",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/Oslo",
        "x": 1980,
        "y": 680,
        "wires": [
            [
                "ee7a9310.023e58"
            ]
        ]
    },
    {
        "id": "e7332173.f40ac8",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "-> UTC (Zulu time)",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "ETC/UTC",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "",
        "locale": "C",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/London",
        "x": 2020,
        "y": 620,
        "wires": [
            [
                "b95b0b21.615e2"
            ]
        ]
    },
    {
        "id": "11105327.b13ee5",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "-> New York",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Berlin",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD HH:mm",
        "locale": "en-US",
        "output": "",
        "outputType": "msg",
        "outTz": "America/New_York",
        "x": 2010,
        "y": 980,
        "wires": [
            [
                "fccc4c17.8cc668"
            ]
        ]
    },
    {
        "id": "729d46e9.f2e86",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "-> Berlin",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Berlin",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "DD.MM.YYYY HH:mm",
        "locale": "en-US",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/Berlin",
        "x": 1990,
        "y": 860,
        "wires": [
            [
                "5a45bddc.198614"
            ]
        ]
    },
    {
        "id": "5ee3991e.5952b",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "-> Berlin",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Berlin",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "LLLL",
        "locale": "en-US",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/Berlin",
        "x": 1990,
        "y": 920,
        "wires": [
            [
                "453f43aa.10f854"
            ]
        ]
    },
    {
        "id": "9ecad2948ae62f39",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "Oslo Zulu",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Oslo",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DDTHH:mm:ss.SSSZ",
        "locale": "C",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/Oslo",
        "x": 1980,
        "y": 740,
        "wires": [
            [
                "01e493199c11b19a",
                "8c2b276a6963bfb6"
            ]
        ]
    },
    {
        "id": "843cc2e32ca030cf",
        "type": "moment",
        "z": "0ee30c608f8959c7",
        "name": "Oslo Zulu",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Oslo",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "HH:mm:ss",
        "locale": "C",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/Oslo",
        "x": 1980,
        "y": 800,
        "wires": [
            [
                "a8131cfdf684fae3"
            ]
        ]
    },
    {
        "id": "8365d59c55f71f16",
        "type": "inject",
        "z": "d9f992f405ec7b52",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 460,
        "wires": [
            [
                "6d3a64970839e70f"
            ]
        ]
    },
    {
        "id": "01b1ec1f495c5186",
        "type": "link in",
        "z": "d9f992f405ec7b52",
        "name": "PAR Actual",
        "links": [
            "cc510d4b84158a30"
        ],
        "x": 185,
        "y": 1080,
        "wires": [
            [
                "e37d0f461b45216f"
            ]
        ]
    },
    {
        "id": "d7996208b46a8127",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "Temperature Alarm",
        "property": "heat_temp_actual",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "#:(file)::heat_temp_min",
                "vt": "global"
            },
            {
                "t": "gt",
                "v": "#:(file)::heat_temp_max",
                "vt": "global"
            },
            {
                "t": "btwn",
                "v": "#:(file)::heat_temp_min",
                "vt": "global",
                "v2": "#:(file)::heat_temp_max",
                "v2t": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 358.00000762939453,
        "y": 922.9999933242798,
        "wires": [
            [
                "649fc20581802bba"
            ],
            [
                "0b2da36937df612c"
            ],
            [
                "59b69ce5ce13358e"
            ]
        ]
    },
    {
        "id": "649fc20581802bba",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "Temperature Below Min",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 638.0000076293945,
        "y": 882.9999933242798,
        "wires": [
            [
                "55ff0ec19a8a60d7"
            ]
        ]
    },
    {
        "id": "0b2da36937df612c",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "Temperature Above Max",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 638.0000076293945,
        "y": 922.9999933242798,
        "wires": [
            [
                "55ff0ec19a8a60d7"
            ]
        ]
    },
    {
        "id": "59b69ce5ce13358e",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "Temperature OK",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 608.0000076293945,
        "y": 962.9999933242798,
        "wires": [
            [
                "55ff0ec19a8a60d7"
            ]
        ]
    },
    {
        "id": "f5c5b0d0c26d1e91",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "",
        "property": "heat_temp_actual",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "#:(file)::heat_temp_max",
                "vt": "global"
            },
            {
                "t": "lt",
                "v": "#:(file)::heat_temp_min",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 780,
        "wires": [
            [
                "1fe13f85d3cc97f0"
            ],
            [
                "ec64ca3aa7e197da"
            ]
        ]
    },
    {
        "id": "f77e0c688865c3a0",
        "type": "template",
        "z": "d9f992f405ec7b52",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Temperature is above the maximum threshold!",
        "output": "str",
        "x": 640,
        "y": 760,
        "wires": [
            [
                "cb491c18e31e1ad9"
            ]
        ]
    },
    {
        "id": "ec64ca3aa7e197da",
        "type": "template",
        "z": "d9f992f405ec7b52",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Temperature is below the minimum threshold!",
        "output": "str",
        "x": 640,
        "y": 800,
        "wires": [
            [
                "6aade96114c2550b"
            ]
        ]
    },
    {
        "id": "2a78819ee20f4dd9",
        "type": "debug",
        "z": "d9f992f405ec7b52",
        "name": "Warning temperature low",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 800,
        "wires": []
    },
    {
        "id": "fdc6743dbd3a9478",
        "type": "debug",
        "z": "d9f992f405ec7b52",
        "name": "Warning temperature high",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 760,
        "wires": []
    },
    {
        "id": "5830b28ad90c1f1d",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "State Surge Protection 1",
        "rules": [
            {
                "t": "set",
                "p": "sensor_surge_protection1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "e2edb37aca3811a2",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "State Surge Protection 2",
        "rules": [
            {
                "t": "set",
                "p": "sensor_surge_protection2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "b4c03c51d5b048e3",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "State Fuse 1",
        "rules": [
            {
                "t": "set",
                "p": "sensor_fuse1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "d228dbbf24e9b65f",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "State Fuse 2",
        "rules": [
            {
                "t": "set",
                "p": "sensor_fuse2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "e37d0f461b45216f",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "PAR Alarm",
        "property": "value_par",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "gt",
                "v": "2500",
                "vt": "str"
            },
            {
                "t": "btwn",
                "v": "0",
                "vt": "str",
                "v2": "2500",
                "v2t": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 340,
        "y": 1080,
        "wires": [
            [
                "8a6cafb19f8bf01e"
            ],
            [
                "dc8fb111180b0ff9"
            ],
            [
                "1a79d6ce90789a43"
            ]
        ]
    },
    {
        "id": "8a6cafb19f8bf01e",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "PAR Below Min",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 1040,
        "wires": [
            [
                "7db5bb3742818d18"
            ]
        ]
    },
    {
        "id": "dc8fb111180b0ff9",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "PAR Above Max",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 1080,
        "wires": [
            [
                "7db5bb3742818d18"
            ]
        ]
    },
    {
        "id": "1a79d6ce90789a43",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "PAR OK",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 1120,
        "wires": [
            [
                "7db5bb3742818d18"
            ]
        ]
    },
    {
        "id": "202ad5ce0521d7e5",
        "type": "link in",
        "z": "d9f992f405ec7b52",
        "name": "Temperature Actual",
        "links": [
            "560a88ab57d6497b"
        ],
        "x": 185,
        "y": 840,
        "wires": [
            [
                "f5c5b0d0c26d1e91",
                "d7996208b46a8127"
            ]
        ]
    },
    {
        "id": "1d9bf46158a2b3cc",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "Sensor Temp",
        "rules": [
            {
                "t": "set",
                "p": "sensor_temp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "adef69c244e709d4",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "Sensor PAR",
        "rules": [
            {
                "t": "set",
                "p": "sensor_par",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "7db5bb3742818d18",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 1080,
        "wires": [
            [
                "adef69c244e709d4",
                "699ef3b308a215d1"
            ],
            [
                "adef69c244e709d4",
                "699ef3b308a215d1"
            ]
        ]
    },
    {
        "id": "55ff0ec19a8a60d7",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 920,
        "wires": [
            [
                "1d9bf46158a2b3cc",
                "fb7ef2c9a9833039"
            ],
            [
                "1d9bf46158a2b3cc",
                "fb7ef2c9a9833039"
            ]
        ]
    },
    {
        "id": "21836032e323d2c5",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Turn heating off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1100,
        "y": 720,
        "wires": [
            [
                "2879ae13b3c4b6d5"
            ]
        ]
    },
    {
        "id": "2879ae13b3c4b6d5",
        "type": "change",
        "z": "d9f992f405ec7b52",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 720,
        "wires": [
            [
                "f36cdce8f4760571"
            ]
        ]
    },
    {
        "id": "f36cdce8f4760571",
        "type": "link out",
        "z": "d9f992f405ec7b52",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "cf106d2ec5bca923"
        ],
        "x": 1415,
        "y": 720,
        "wires": []
    },
    {
        "id": "1fe13f85d3cc97f0",
        "type": "switch",
        "z": "d9f992f405ec7b52",
        "name": "Gate",
        "property": "heat_zone3",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 760,
        "wires": [
            [
                "f77e0c688865c3a0"
            ]
        ]
    },
    {
        "id": "6d3a64970839e70f",
        "type": "Read-DI",
        "z": "d9f992f405ec7b52",
        "name": "",
        "x": 380,
        "y": 460,
        "wires": [
            [
                "5830b28ad90c1f1d",
                "64e7a1a3ba2ff1e7"
            ],
            [
                "e2edb37aca3811a2",
                "8092072044d3d16e"
            ],
            [
                "b4c03c51d5b048e3",
                "94a5bb960b6c9597"
            ],
            [
                "d228dbbf24e9b65f",
                "2c9b02a963cb08c8"
            ],
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "cb491c18e31e1ad9",
        "type": "ui_toast",
        "z": "d9f992f405ec7b52",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "Turn heating off",
        "cancel": "Ignore",
        "raw": true,
        "className": "",
        "topic": "Warning high temperatrure",
        "name": "Warning high temperatrure",
        "x": 880,
        "y": 760,
        "wires": [
            [
                "fdc6743dbd3a9478",
                "21836032e323d2c5"
            ]
        ]
    },
    {
        "id": "6aade96114c2550b",
        "type": "ui_toast",
        "z": "d9f992f405ec7b52",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "Acknowledge",
        "cancel": "Ignore",
        "raw": true,
        "className": "",
        "topic": "Warning low temperatrure",
        "name": "Warning low temperatrure",
        "x": 870,
        "y": 800,
        "wires": [
            [
                "2a78819ee20f4dd9"
            ]
        ]
    },
    {
        "id": "64e7a1a3ba2ff1e7",
        "type": "ui_template",
        "z": "d9f992f405ec7b52",
        "group": "7842d3bfb3a31624",
        "name": "Surge Protection 1",
        "order": 1,
        "width": "5",
        "height": 1,
        "format": "<style>\n    .status-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 5px;\n    }\n\n    .status-line-text {\n        margin-right: 5px;\n        text-align: left;\n    }\n\n    .status-icon {\n        font-size: 30px !Important;\n        margin-left: 5px;\n    }\n\n    .status-icon.green {\n        color: green;\n    }\n\n    .status-icon.red {\n        color: red;\n    }\n\n    .status-icon.gray {\n    color: gray;\n    }\n</style>\n\n<div class=\"status-line\">\n    <span class=\"status-line-text\">Surge Protection Device 1</span>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === false\">&#xf058;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === true\">&#xf05e;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload !== false && msg.payload !== true\">&#xf057;</i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 850,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "699ef3b308a215d1",
        "type": "ui_template",
        "z": "d9f992f405ec7b52",
        "group": "7842d3bfb3a31624",
        "name": "PAR Sensor",
        "order": 5,
        "width": "5",
        "height": 1,
        "format": "<style>\n    .status-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 5px;\n    }\n\n    .status-line-text {\n        margin-right: 5px;\n        text-align: left;\n    }\n\n    .status-icon {\n        font-size: 30px !Important;\n        margin-left: 5px;\n    }\n\n    .status-icon.green {\n        color: green;\n    }\n\n    .status-icon.red {\n        color: red;\n    }\n\n    .status-icon.gray {\n    color: gray;\n    }\n</style>\n\n<div class=\"status-line\">\n    <span class=\"status-line-text\">PAR Sensor</span>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === false\">&#xf058;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === true\">&#xf05e;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload !== false && msg.payload !== true\">&#xf057;</i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1170,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "fb7ef2c9a9833039",
        "type": "ui_template",
        "z": "d9f992f405ec7b52",
        "group": "7842d3bfb3a31624",
        "name": "Temperature Sensor",
        "order": 6,
        "width": "5",
        "height": 1,
        "format": "<style>\n    .status-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 5px;\n    }\n\n    .status-line-text {\n        margin-right: 5px;\n        text-align: left;\n    }\n\n    .status-icon {\n        font-size: 30px !Important;\n        margin-left: 5px;\n    }\n\n    .status-icon.green {\n        color: green;\n    }\n\n    .status-icon.red {\n        color: red;\n    }\n\n    .status-icon.gray {\n    color: gray;\n    }\n</style>\n\n<div class=\"status-line\">\n    <span class=\"status-line-text\">Temperature Sensor</span>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === false\">&#xf058;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === true\">&#xf05e;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload !== false && msg.payload !== true\">&#xf057;</i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1200,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "8092072044d3d16e",
        "type": "ui_template",
        "z": "d9f992f405ec7b52",
        "group": "7842d3bfb3a31624",
        "name": "Surge Protection 2",
        "order": 2,
        "width": "5",
        "height": 1,
        "format": "<style>\n    .status-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 5px;\n    }\n\n    .status-line-text {\n        margin-right: 5px;\n        text-align: left;\n    }\n\n    .status-icon {\n        font-size: 30px !Important;\n        margin-left: 5px;\n    }\n\n    .status-icon.green {\n        color: green;\n    }\n\n    .status-icon.red {\n        color: red;\n    }\n\n    .status-icon.gray {\n    color: gray;\n    }\n</style>\n\n<div class=\"status-line\">\n    <span class=\"status-line-text\">Surge Protection Device 2</span>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === false\">&#xf058;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === true\">&#xf05e;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload !== false && msg.payload !== true\">&#xf057;</i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 850,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "94a5bb960b6c9597",
        "type": "ui_template",
        "z": "d9f992f405ec7b52",
        "group": "7842d3bfb3a31624",
        "name": "Circuit Breaker Lighting",
        "order": 3,
        "width": "5",
        "height": 1,
        "format": "<style>\n    .status-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 5px;\n    }\n\n    .status-line-text {\n        margin-right: 5px;\n        text-align: left;\n    }\n\n    .status-icon {\n        font-size: 30px !Important;\n        margin-left: 5px;\n    }\n\n    .status-icon.green {\n        color: green;\n    }\n\n    .status-icon.red {\n        color: red;\n    }\n\n    .status-icon.gray {\n    color: gray;\n    }\n</style>\n\n<div class=\"status-line\">\n    <span class=\"status-line-text\">Circuit Breaker Lighting</span>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === false\">&#xf058;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === true\">&#xf05e;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload !== false && msg.payload !== true\">&#xf057;</i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 870,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "2c9b02a963cb08c8",
        "type": "ui_template",
        "z": "d9f992f405ec7b52",
        "group": "7842d3bfb3a31624",
        "name": "Circuit Breaker Heating",
        "order": 4,
        "width": "5",
        "height": 1,
        "format": "<style>\n    .status-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 5px;\n    }\n\n    .status-line-text {\n        margin-right: 5px;\n        text-align: left;\n    }\n\n    .status-icon {\n        font-size: 30px !Important;\n        margin-left: 5px;\n    }\n\n    .status-icon.green {\n        color: green;\n    }\n\n    .status-icon.red {\n        color: red;\n    }\n\n    .status-icon.gray {\n    color: gray;\n    }\n</style>\n\n<div class=\"status-line\">\n    <span class=\"status-line-text\">Circuit Breaker Heating</span>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === false\">&#xf058;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload === true\">&#xf05e;</i>\n    <i class=\"status-icon fa\" ng-class=\"{\n        'status-icon green': msg.payload === false,\n        'status-icon red': msg.payload === true,\n        'status-icon gray': msg.payload !== false && msg.payload !== true\n      }\" ng-if=\"msg.payload !== false && msg.payload !== true\">&#xf057;</i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 870,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "8811e8ca78d691ea",
        "type": "comment",
        "z": "5c958e75c18c11fa",
        "name": "Request Updated Objects",
        "info": "",
        "x": 370,
        "y": 640,
        "wires": []
    },
    {
        "id": "0644a83ac15eefc3",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get alarms variables",
        "func": "let sensor_surge_protection1 = global.get(\"sensor_surge_protection1\");\nlet sensor_surge_protection2 = global.get(\"sensor_surge_protection2\");\nlet sensor_fuse1 = global.get(\"sensor_fuse1\");\nlet sensor_fuse2 = global.get(\"sensor_fuse2\");\nlet sensor_temp = global.get(\"sensor_temp\");\nlet sensor_par = global.get(\"sensor_par\");\n\nmsg.alarms = {\n    \"surge_protection\": sensor_surge_protection1,\n    \"surge_protection2\": sensor_surge_protection2,\n    \"fuse\": sensor_fuse1,\n    \"fuse2\": sensor_fuse2,\n    \"sensor_temp\": sensor_temp,\n    \"sensor_par\": sensor_par\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 360,
        "wires": [
            [
                "2e34f9e7ecfa37b8"
            ]
        ]
    },
    {
        "id": "7f59b925ba393cf2",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create alarms JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    alarms: msg.alarms\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 360,
        "wires": [
            [
                "b81cfacfd12a128f",
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "7c47430c4742e0b3",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create statuses JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    statuses: msg.statuses\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1570,
        "y": 400,
        "wires": [
            [
                "883d9cad557f2a1c",
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "b3f07ae1802fd0cc",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get status variables",
        "func": "let status_mode_lighting = global.get(\"status_mode_lighting\");\nlet status_setpoint_set = global.get(\"status_setpoint_set\");\nlet status_zone1 = global.get(\"status_zone1\");\nlet status_zone2 = global.get(\"status_zone2\");\nlet status_calendar = global.get(\"status_calendar\");\nlet status_zone1_par = global.get(\"status_zone1_par\");\nlet status_zone1_temp = global.get(\"status_zone1_temp\");\nlet status_zone2_par = global.get(\"status_zone2_par\");\nlet status_zone2_temp = global.get(\"status_zone2_temp\");\nlet status_zone3_par = global.get(\"status_zone3_par\");\nlet status_zone3_temp = global.get(\"status_zone3_temp\");\nlet status_heat_zone1 = global.get(\"status_heat_zone1\");\nlet status_heat_zone2 = global.get(\"status_heat_zone2\");\nlet status_heat_zone3 = global.get(\"status_heat_zone3\");\n\nmsg.statuses = {\n    \"mode\": status_mode_lighting,\n    \"setpoint_set\": status_setpoint_set,\n    \"led_zone1\": status_zone1,\n    \"led_zone2\": status_zone2,\n    \"calendar\": status_calendar,\n    \"zone1_par\": status_zone1_par,\n    \"zone1_temp\": status_zone1_temp,\n    \"zone2_par\": status_zone2_par,\n    \"zone2_temp\": status_zone2_temp,\n    \"zone3_par\": status_zone3_par,\n    \"zone3_temp\": status_zone3_temp,\n    \"heat_zone1\": status_heat_zone1,\n    \"heat_zone2\": status_heat_zone2,\n    \"heat_zone3\": status_heat_zone3\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "8fe312644a698d31"
            ]
        ]
    },
    {
        "id": "61054ed9cdc25191",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create values JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    values: msg.values\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 440,
        "wires": [
            [
                "ed162bd876fb2d84",
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "18f578bce05db740",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get values variables",
        "func": "//Lighting\nlet value_zone1_dim = global.get(\"value_zone1_dim\");\nlet value_zone2_dim = global.get(\"value_zone2_dim\");\n\n//Supply 1\n//Voltage phase-phase\nlet value_voltage1_L1L2 = global.get(\"value_voltage1_L1L2\");\nlet value_voltage1_L1L3 = global.get(\"value_voltage1_L1L3\");\nlet value_voltage1_L2L3 = global.get(\"value_voltage1_L1L2\");\n\n//Voltage phase-neutral\nlet value_voltage1_L1N = global.get(\"value_voltage1_L1N\");\nlet value_voltage1_L2N = global.get(\"value_voltage1_L2N\");\nlet value_voltage1_L3N = global.get(\"value_voltage1_L3N\");\n\n//Current\nlet value_current1_L1 = global.get(\"value_current1_L1\");\nlet value_current1_L2 = global.get(\"value_current1_L2\");\nlet value_current1_L3 = global.get(\"value_current1_L3\");\n\n//Power\nlet value_power1 = global.get(\"value_power1\");\n\n//Energy\nlet value_energy1 = global.get(\"value_energy1\");\n\n//Supply 2\n//Voltage phase-phase\nlet value_voltage2_L1L2 = global.get(\"value_voltage2_L1L2\");\nlet value_voltage2_L1L3 = global.get(\"value_voltage2_L1L3\");\nlet value_voltage2_L2L3 = global.get(\"value_voltage2_L1L2\");\n\n//Voltage phase-neutral\nlet value_voltage2_L1N = global.get(\"value_voltage2_L1N\");\nlet value_voltage2_L2N = global.get(\"value_voltage2_L2N\");\nlet value_voltage2_L3N = global.get(\"value_voltage2_L3N\");\n\n//Current\nlet value_current2_L1 = global.get(\"value_current2_L1\");\nlet value_current2_L2 = global.get(\"value_current2_L2\");\nlet value_current2_L3 = global.get(\"value_current2_L3\");\n\n//Power\nlet value_power2 = global.get(\"value_power2\");\n\n//Energy\nlet value_energy2 = global.get(\"value_energy2\");\n\n//Temperature\nlet heat_temp_actual = global.get(\"heat_temp_actual\");\n\n//PAR\nlet value_par = global.get(\"value_par\");\n\n//Soil\nlet soil_temperature = global.get(\"soil_temperature\");\nlet soil_moisture = global.get(\"soil_moisture\");\n\n//zone1 Operational Hours\nlet value_zone1_operational_hours = global.get(\"value_zone1_operational_hours\");\n\n//zone2 Operational Hours\nlet value_zone2_operational_hours = global.get(\"value_zone2_operational_hours\");\n\n//Timer End\nlet timer_end = global.get(\"timer_end\");\n\n//System Time\nlet system_time = global.get(\"system_time\");\n\n\nmsg.values = {\n    \"led_zone1_dim\": value_zone1_dim,\n    \"led_zone2_dim\": value_zone2_dim,\n    \"voltage1_L1L2\": value_voltage1_L1L2,\n    \"voltage1_L1L3\": value_voltage1_L1L3,\n    \"voltage1_L2L3\": value_voltage1_L2L3,\n    \"voltage1_L1N\": value_voltage1_L1N,\n    \"voltage1_L2N\": value_voltage1_L2N,\n    \"voltage1_L3N\": value_voltage1_L3N,\n    \"current1_L1\": value_current1_L1,\n    \"current1_L2\": value_current1_L2,\n    \"current1_L3\": value_current1_L3,\n    \"power1\": value_power1,\n    \"energy1\": value_energy1,\n    \"voltage2_L1L2\": value_voltage2_L1L2,\n    \"voltage2_L1L3\": value_voltage2_L1L3,\n    \"voltage2_L2L3\": value_voltage2_L2L3,\n    \"voltage2_L1N\": value_voltage2_L1N,\n    \"voltage2_L2N\": value_voltage2_L2N,\n    \"voltage2_L3N\": value_voltage2_L3N,\n    \"current2_L1\": value_current2_L1,\n    \"current2_L2\": value_current2_L2,\n    \"current2_L3\": value_current2_L3,\n    \"power2\": value_power2,\n    \"energy2\": value_energy2,\n    \"temperature\": heat_temp_actual,\n    \"light\": value_par,\n    \"soil_temperature\": soil_temperature,\n    \"soil_moisture\": soil_moisture,\n    \"led_zone1_rh\": value_zone1_operational_hours,\n    \"led_zone2_rh\": value_zone2_operational_hours,\n    \"hps_zone1_rh\": value_zone1_operational_hours,\n    \"hps_zone2_rh\": value_zone2_operational_hours,\n    \"togtime_end\": timer_end,\n    //\"system_time\": system_time,\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 440,
        "wires": [
            [
                "3d923bec544da4c3"
            ]
        ]
    },
    {
        "id": "9018c60c68cb21f7",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "link in 22",
        "links": [
            "8c4d2eba08e22179",
            "380a109b5b0f4ed7"
        ],
        "x": 295,
        "y": 800,
        "wires": [
            [
                "bba9f7a744609afd"
            ]
        ]
    },
    {
        "id": "4f3de5a7cc084b47",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create statuses JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    command_feedback: {\"command_ok\": true, \"command_fault\": \"\"},\n    statuses: msg.statuses\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 840,
        "wires": [
            [
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "bba9f7a744609afd",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command_feedback\":{\"command_ok\":true,\"command_fault\":\"\"}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 840,
        "wires": [
            [
                "b5c06c4418d28fb1"
            ]
        ]
    },
    {
        "id": "cd72ebd4546ddfb3",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 840,
        "wires": [
            [
                "bba9f7a744609afd"
            ]
        ]
    },
    {
        "id": "08c06fa9208f394d",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get status variables",
        "func": "let status_mode_lighting = global.get(\"status_mode_lighting\");\nlet status_setpoint_set = global.get(\"status_setpoint_set\");\nlet status_zone1 = global.get(\"status_zone1\");\nlet status_zone2 = global.get(\"status_zone2\");\nlet status_calendar = global.get(\"status_calendar\");\nlet status_zone1_par = global.get(\"status_zone1_par\");\nlet status_zone1_temp = global.get(\"status_zone1_temp\");\nlet status_zone2_par = global.get(\"status_zone2_par\");\nlet status_zone2_temp = global.get(\"status_zone2_temp\");\nlet status_zone3_par = global.get(\"status_zone3_par\");\nlet status_zone3_temp = global.get(\"status_zone3_temp\");\nlet status_heat_zone1 = global.get(\"status_heat_zone1\");\nlet status_heat_zone2 = global.get(\"status_heat_zone2\");\nlet status_heat_zone3 = global.get(\"status_heat_zone3\");\n\nmsg.statuses = {\n    \"mode\": status_mode_lighting,\n    \"setpoint_set\": status_setpoint_set,\n    \"led_zone1\": status_zone1,\n    \"led_zone2\": status_zone2,\n    \"calendar\": status_calendar,\n    \"zone1_par\": status_zone1_par,\n    \"zone1_temp\": status_zone1_temp,\n    \"zone2_par\": status_zone2_par,\n    \"zone2_temp\": status_zone2_temp,\n    \"zone3_par\": status_zone3_par,\n    \"zone3_temp\": status_zone3_temp,\n    \"heat_zone1\": status_heat_zone1,\n    \"heat_zone2\": status_heat_zone2,\n    \"heat_zone3\": status_heat_zone3\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 840,
        "wires": [
            [
                "4f3de5a7cc084b47"
            ]
        ]
    },
    {
        "id": "4409b52ab08955c6",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "link in 23",
        "links": [
            "8c4d2eba08e22179",
            "6e157d869aaa1bdd"
        ],
        "x": 295,
        "y": 700,
        "wires": [
            [
                "b7b4d220cc4b5967"
            ]
        ]
    },
    {
        "id": "98fd21d10d783239",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create statuses JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    command_feedback: {\"command_ok\": true, \"command_fault\": \"\"},\n    alarms: msg.alarms\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 740,
        "wires": [
            [
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "b7b4d220cc4b5967",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command_feedback\":{\"command_ok\":true,\"command_fault\":\"\"}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 740,
        "wires": [
            [
                "2d9fc96dafef8f2e"
            ]
        ]
    },
    {
        "id": "745e67713e6a904f",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 740,
        "wires": [
            [
                "b7b4d220cc4b5967"
            ]
        ]
    },
    {
        "id": "6c1640c489db68a9",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get alarms variables",
        "func": "let sensor_surge_protection1 = global.get(\"sensor_surge_protection1\");\nlet sensor_surge_protection2 = global.get(\"sensor_surge_protection2\");\nlet sensor_fuse1 = global.get(\"sensor_fuse1\");\nlet sensor_fuse2 = global.get(\"sensor_fuse2\");\nlet sensor_temp = global.get(\"sensor_temp\");\nlet sensor_par = global.get(\"sensor_par\");\n\nmsg.alarms = {\n    \"surge_protection\": sensor_surge_protection1,\n    \"surge_protection2\": sensor_surge_protection2,\n    \"fuse\": sensor_fuse1,\n    \"fuse2\": sensor_fuse2,\n    \"sensor_temp\": sensor_temp,\n    \"sensor_par\": sensor_par\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 740,
        "wires": [
            [
                "98fd21d10d783239"
            ]
        ]
    },
    {
        "id": "243d7c42c5b28334",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "link in 24",
        "links": [
            "b9716e0db68d3549",
            "8c4d2eba08e22179"
        ],
        "x": 295,
        "y": 900,
        "wires": [
            [
                "5f0790796921964a"
            ]
        ]
    },
    {
        "id": "6dc7733fd1f6f6b8",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create values JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    command_feedback: {\"command_ok\": true, \"command_fault\": \"\"},\n    values: msg.values\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 940,
        "wires": [
            [
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "5f0790796921964a",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command_feedback\":{\"command_ok\":true,\"command_fault\":\"\"}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 940,
        "wires": [
            [
                "1e77602d38e8a1fa"
            ]
        ]
    },
    {
        "id": "86b60e1228ca59b1",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 940,
        "wires": [
            [
                "5f0790796921964a"
            ]
        ]
    },
    {
        "id": "38c82fa554d85a9d",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get values variables",
        "func": "//Lighting\nlet value_zone1_dim = global.get(\"value_zone1_dim\");\nlet value_zone2_dim = global.get(\"value_zone2_dim\");\n\n//Supply 1\n//Voltage phase-phase\nlet value_voltage1_L1L2 = global.get(\"value_voltage1_L1L2\");\nlet value_voltage1_L1L3 = global.get(\"value_voltage1_L1L3\");\nlet value_voltage1_L2L3 = global.get(\"value_voltage1_L1L2\");\n\n//Voltage phase-neutral\nlet value_voltage1_L1N = global.get(\"value_voltage1_L1N\");\nlet value_voltage1_L2N = global.get(\"value_voltage1_L2N\");\nlet value_voltage1_L3N = global.get(\"value_voltage1_L3N\");\n\n//Current\nlet value_current1_L1 = global.get(\"value_current1_L1\");\nlet value_current1_L2 = global.get(\"value_current1_L2\");\nlet value_current1_L3 = global.get(\"value_current1_L3\");\n\n//Power\nlet value_power1 = global.get(\"value_power1\");\n\n//Energy\nlet value_energy1 = global.get(\"value_energy1\");\n\n//Supply 2\n//Voltage phase-phase\nlet value_voltage2_L1L2 = global.get(\"value_voltage2_L1L2\");\nlet value_voltage2_L1L3 = global.get(\"value_voltage2_L1L3\");\nlet value_voltage2_L2L3 = global.get(\"value_voltage2_L1L2\");\n\n//Voltage phase-neutral\nlet value_voltage2_L1N = global.get(\"value_voltage2_L1N\");\nlet value_voltage2_L2N = global.get(\"value_voltage2_L2N\");\nlet value_voltage2_L3N = global.get(\"value_voltage2_L3N\");\n\n//Current\nlet value_current2_L1 = global.get(\"value_current2_L1\");\nlet value_current2_L2 = global.get(\"value_current2_L2\");\nlet value_current2_L3 = global.get(\"value_current2_L3\");\n\n//Power\nlet value_power2 = global.get(\"value_power2\");\n\n//Energy\nlet value_energy2 = global.get(\"value_energy2\");\n\n//Temperature\nlet heat_temp_actual = global.get(\"heat_temp_actual\");\n\n//PAR\nlet value_par = global.get(\"value_par\");\n\n//Soil\nlet soil_temperature = global.get(\"soil_temperature\");\nlet soil_moisture = global.get(\"soil_moisture\");\n\n//zone1 Operational Hours\nlet value_zone1_operational_hours = global.get(\"value_zone1_operational_hours\");\n\n//zone2 Operational Hours\nlet value_zone2_operational_hours = global.get(\"value_zone2_operational_hours\");\n\n//Timer End\nlet timer_end = global.get(\"timer_end\");\n\n//System Time\nlet system_time = global.get(\"system_time\");\n\n\nmsg.values = {\n    \"led_zone1_dim\": value_zone1_dim,\n    \"led_zone2_dim\": value_zone2_dim,\n    \"voltage1_L1L2\": value_voltage1_L1L2,\n    \"voltage1_L1L3\": value_voltage1_L1L3,\n    \"voltage1_L2L3\": value_voltage1_L2L3,\n    \"voltage1_L1N\": value_voltage1_L1N,\n    \"voltage1_L2N\": value_voltage1_L2N,\n    \"voltage1_L3N\": value_voltage1_L3N,\n    \"current1_L1\": value_current1_L1,\n    \"current1_L2\": value_current1_L2,\n    \"current1_L3\": value_current1_L3,\n    \"power1\": value_power1,\n    \"energy1\": value_energy1,\n    \"voltage2_L1L2\": value_voltage2_L1L2,\n    \"voltage2_L1L3\": value_voltage2_L1L3,\n    \"voltage2_L2L3\": value_voltage2_L2L3,\n    \"voltage2_L1N\": value_voltage2_L1N,\n    \"voltage2_L2N\": value_voltage2_L2N,\n    \"voltage2_L3N\": value_voltage2_L3N,\n    \"current2_L1\": value_current2_L1,\n    \"current2_L2\": value_current2_L2,\n    \"current2_L3\": value_current2_L3,\n    \"power2\": value_power2,\n    \"energy2\": value_energy2,\n    \"temperature\": heat_temp_actual,\n    \"light\": value_par,\n    \"soil_temperature\": soil_temperature,\n    \"soil_moisture\": soil_moisture,\n    \"led_zone1_rh\": value_zone1_operational_hours,\n    \"led_zone2_rh\": value_zone2_operational_hours,\n    \"hps_zone1_rh\": value_zone1_operational_hours,\n    \"hps_zone2_rh\": value_zone2_operational_hours,\n    \"togtime_end\": timer_end,\n    //\"system_time\": system_time,\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 940,
        "wires": [
            [
                "6dc7733fd1f6f6b8"
            ]
        ]
    },
    {
        "id": "3a1ad950420f845f",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "Heartbeat",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "240",
        "payloadType": "num",
        "x": 460,
        "y": 340,
        "wires": [
            [
                "8b6968dc3e31bbf6"
            ]
        ]
    },
    {
        "id": "8b6968dc3e31bbf6",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "Set Topic",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "startInterval",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 400,
        "wires": [
            [
                "e79f0896b3fb6380"
            ]
        ]
    },
    {
        "id": "e79f0896b3fb6380",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Start Heartbeat",
        "func": "// If the message topic is \"startInterval,\" retrieve the interval value from the global variable \"value_send\"\nif (msg.topic === \"startInterval\") {\n    const inputIntervalInSeconds = parseFloat(global.get(\"value_send\", \"file\"));\n\n    // Check if the interval value is valid and greater than 0\n    if (isNaN(inputIntervalInSeconds) || inputIntervalInSeconds <= 0) {\n        node.warn(\"Invalid interval value. Please set a valid positive number in the global variable 'value_send'.\");\n    } else {\n        // Store the interval ID in context to allow stopping it later\n        if (!context.get('intervalId')) {\n            context.set('intervalId', null);\n        }\n\n        // Clear any existing interval if it's set\n        if (context.get('intervalId') !== null) {\n            clearInterval(context.get('intervalId'));\n        }\n\n        // Create a new interval that triggers the output every inputIntervalInSeconds seconds\n        const intervalId = setInterval(() => {\n            node.send({ payload: true });\n        }, inputIntervalInSeconds * 1000);\n\n        // Store the new interval ID in context for later use\n        context.set('intervalId', intervalId);\n    }\n}\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 400,
        "wires": [
            [
                "46378aaebed89928"
            ]
        ]
    },
    {
        "id": "b81cfacfd12a128f",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 45",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1840,
        "y": 360,
        "wires": []
    },
    {
        "id": "883d9cad557f2a1c",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 46",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1840,
        "y": 400,
        "wires": []
    },
    {
        "id": "ed162bd876fb2d84",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 47",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1840,
        "y": 440,
        "wires": []
    },
    {
        "id": "46378aaebed89928",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "85c037acf85d680c",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get rig data variables",
        "func": "\nlet serial_number = global.get(\"deviceid\", \"file\");\nlet type = global.get(\"type\", \"file\");\nlet software_version = global.get(\"software_version\", \"file\");\nlet value_send = global.get(\"value_send\", \"file\");\nlet latitude = global.get(\"latitude\");\nlet longitude = global.get(\"longitude\");\nlet gsm_operator = global.get(\"gsm_operator\");\nlet network_type = global.get(\"network_type\");\nlet router_serial = global.get(\"router_serial\");\nlet imsi = global.get(\"imsi\");\nlet wan_ip = global.get(\"wan_ip\");\n\n\nmsg.rig_data = {\n    \"deviceid\": serial_number,\n    \"type\": type,\n    \"software_version\": software_version,\n    \"value_send\": value_send, \n    \"latitude\": latitude, \n    \"longitude\": longitude, \n    \"gsm_operator\": gsm_operator, \n    \"network_type\": network_type, \n    \"router_serial\": router_serial, \n    \"imsi\": imsi, \n    \"wan_ip\": wan_ip\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 480,
        "wires": [
            [
                "e1bb59b5e230a2be"
            ]
        ]
    },
    {
        "id": "460d2dd006113a0f",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create rig data JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    rig_data: msg.rig_data\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 480,
        "wires": [
            [
                "f7ffaab9eb2adf8b",
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "f7ffaab9eb2adf8b",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 49",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1840,
        "y": 480,
        "wires": []
    },
    {
        "id": "9e5d9aba210635ee",
        "type": "comment",
        "z": "5c958e75c18c11fa",
        "name": "DeviceID 10001",
        "info": "",
        "x": 320,
        "y": 120,
        "wires": []
    },
    {
        "id": "9fa2c4c8366ffbca",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "d": true,
        "name": "DeviceID",
        "func": "var jsonPayload = msg.payload;\nvar deviceID = jsonPayload.deviceid;\nglobal.set(\"deviceid\", deviceID);\nmsg.payload = deviceID;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "6ddcf690f3b9c818",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{   \"deviceid\": \"10001\" }",
        "payloadType": "json",
        "x": 830,
        "y": 120,
        "wires": [
            [
                "9fa2c4c8366ffbca"
            ]
        ]
    },
    {
        "id": "24cb5699561d6910",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 12",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1180,
        "y": 180,
        "wires": []
    },
    {
        "id": "58ed221a4b3c40f6",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "function 4",
        "func": "var deviceID = global.get(\"deviceid\");\nmsg.payload = deviceID;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 180,
        "wires": [
            [
                "24cb5699561d6910"
            ]
        ]
    },
    {
        "id": "be396f3cb417ca16",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 830,
        "y": 180,
        "wires": [
            [
                "58ed221a4b3c40f6"
            ]
        ]
    },
    {
        "id": "a6e5d78d36b3544c",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create setpoints JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    command_feedback: {\"command_ok\": true, \"command_fault\": \"\"},\n    setpoints: msg.setpoints\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 1020,
        "wires": [
            [
                "48fc3d1f31570839",
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "7d3d9bc0f790bcb7",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command_feedback\":{\"command_ok\":true,\"command_fault\":\"\"}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1020,
        "wires": [
            [
                "63bf0bede9532e29"
            ]
        ]
    },
    {
        "id": "9dd53b47671767cb",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 1020,
        "wires": [
            [
                "7d3d9bc0f790bcb7"
            ]
        ]
    },
    {
        "id": "b5b7875a010d5979",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get setpoints variables",
        "func": "//Heating\nlet heat_temp_sp = global.get(\"heat_temp_sp\", \"file\");\nlet heat_temp_min = global.get(\"heat_temp_min\", \"file\");\nlet heat_temp_max = global.get(\"heat_temp_max\", \"file\");\nlet heat_temp_hyst = global.get(\"heat_temp_hyst\", \"file\");\nvar time_toggle_sph = global.get(\"time_toggle_sph\");;\nvar time_toggle_spm = global.get(\"time_toggle_spm\");;\n\nmsg.setpoints = {\n    \"heat_temp_sp\": heat_temp_sp,\n    \"heat_temp_min\": heat_temp_min,\n    \"heat_temp_max\": heat_temp_max,\n    \"heat_temp_hyst\": heat_temp_hyst,\n    \"time_toggle_sph\": time_toggle_sph,\n    \"time_toggle_spm\": time_toggle_spm\n\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1020,
        "wires": [
            [
                "a6e5d78d36b3544c"
            ]
        ]
    },
    {
        "id": "c3064d1ad33f27eb",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "link in 28",
        "links": [
            "8c4d2eba08e22179",
            "60ef3136aed5618d"
        ],
        "x": 295,
        "y": 980,
        "wires": [
            [
                "7d3d9bc0f790bcb7"
            ]
        ]
    },
    {
        "id": "48fc3d1f31570839",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 90",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1780,
        "y": 1020,
        "wires": []
    },
    {
        "id": "d69230a60aabb6fa",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get setpoints variables",
        "func": "//Heating\nlet heat_temp_sp = global.get(\"heat_temp_sp\", \"file\");\nlet heat_temp_min = global.get(\"heat_temp_min\", \"file\");\nlet heat_temp_max = global.get(\"heat_temp_max\", \"file\");\nlet heat_temp_hyst = global.get(\"heat_temp_hyst\", \"file\");\nvar time_toggle_sph = global.get(\"time_toggle_sph\");;\nvar time_toggle_spm = global.get(\"time_toggle_spm\");;\n\nmsg.setpoints = {\n    \"heat_temp_sp\": heat_temp_sp,\n    \"heat_temp_min\": heat_temp_min,\n    \"heat_temp_max\": heat_temp_max,\n    \"heat_temp_hyst\": heat_temp_hyst,\n    \"time_toggle_sph\": time_toggle_sph,\n    \"time_toggle_spm\": time_toggle_spm\n\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 520,
        "wires": [
            [
                "22bbd6c933eca601"
            ]
        ]
    },
    {
        "id": "9788f24f1d78d129",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create setpoints JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    command_feedback: {\"command_ok\": true, \"command_fault\": \"\"},\n    setpoints: msg.setpoints\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1570,
        "y": 520,
        "wires": [
            [
                "63a3986de4a1f8d9",
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "63a3986de4a1f8d9",
        "type": "debug",
        "z": "5c958e75c18c11fa",
        "name": "debug 91",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1840,
        "y": 520,
        "wires": []
    },
    {
        "id": "2780273ff473c9a0",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "link in 35",
        "links": [
            "6618f66cd6a5e86b",
            "adabd8e9ca3e2dfb",
            "f4facc0ae7d07b3c"
        ],
        "x": 265,
        "y": 460,
        "wires": [
            [
                "f9769b1fdaf65b07"
            ]
        ]
    },
    {
        "id": "f9769b1fdaf65b07",
        "type": "rbe",
        "z": "5c958e75c18c11fa",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 450,
        "y": 440,
        "wires": [
            [
                "3da279a1afb32ded"
            ]
        ]
    },
    {
        "id": "3da279a1afb32ded",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 440,
        "wires": [
            [
                "b3f07ae1802fd0cc",
                "18f578bce05db740"
            ]
        ]
    },
    {
        "id": "baebebdc2edb32ff",
        "type": "mqtt out",
        "z": "5c958e75c18c11fa",
        "name": "Azure IoT Hub",
        "topic": "devices/99999/messages/events/",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "49292a711e42c921",
        "x": 2040,
        "y": 680,
        "wires": []
    },
    {
        "id": "8960979f0a58ae61",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::type",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "9a211918eebc1879",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "TLS LED 400",
        "payloadType": "str",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "8960979f0a58ae61"
            ]
        ]
    },
    {
        "id": "fe506c3d480b6098",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::deviceid",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "14c97b19dc52bcf1",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10001",
        "payloadType": "str",
        "x": 310,
        "y": 200,
        "wires": [
            [
                "fe506c3d480b6098"
            ]
        ]
    },
    {
        "id": "760a5d49972a77ed",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::software_version",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6511ba27a951497f",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3.0.0",
        "payloadType": "str",
        "x": 300,
        "y": 280,
        "wires": [
            [
                "760a5d49972a77ed"
            ]
        ]
    },
    {
        "id": "86edb4bea16e1eff",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Get rig data variables",
        "func": "\nlet serial_number = global.get(\"deviceid\", \"file\");\nlet type = global.get(\"type\", \"file\");\nlet software_version = global.get(\"software_version\", \"file\");\nlet value_send = global.get(\"value_send\", \"file\");\nlet latitude = global.get(\"latitude\");\nlet longitude = global.get(\"longitude\");\nlet gsm_operator = global.get(\"gsm_operator\");\nlet network_type = global.get(\"network_type\");\nlet router_serial = global.get(\"router_serial\");\nlet imsi = global.get(\"imsi\");\nlet wan_ip = global.get(\"wan_ip\");\n\n\nmsg.rig_data = {\n    \"deviceid\": serial_number,\n    \"type\": type,\n    \"software_version\": software_version,\n    \"value_send\": value_send, \n    \"latitude\": latitude, \n    \"longitude\": longitude, \n    \"gsm_operator\": gsm_operator, \n    \"network_type\": network_type, \n    \"router_serial\": router_serial, \n    \"imsi\": imsi, \n    \"wan_ip\": wan_ip\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1100,
        "wires": [
            [
                "e5eb79e772b06cb2"
            ]
        ]
    },
    {
        "id": "e5eb79e772b06cb2",
        "type": "function",
        "z": "5c958e75c18c11fa",
        "name": "Create rig data JSON Object",
        "func": "// Fetch the device ID from a global variable\nconst deviceID = global.get(\"deviceid\", \"file\");\n\n// Get the timestamp from the message\nconst timestamp = new Date().toISOString();\nconst messageid = msg.messageid;\n\n// Create the main JSON object\nconst wrappedObject = {\n    deviceid: deviceID,\n    timestamp: timestamp,\n    messageid: messageid,\n    rig_data: msg.rig_data\n};\n\n// Assign the main object to the message payload\nmsg.payload = wrappedObject;\n\n// Return the modified message\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 1100,
        "wires": [
            [
                "baebebdc2edb32ff"
            ]
        ]
    },
    {
        "id": "908846c9c578f5b0",
        "type": "change",
        "z": "5c958e75c18c11fa",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command_feedback\":{\"command_ok\":true,\"command_fault\":\"\"}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1100,
        "wires": [
            [
                "d8dcf3b22f5b87d9"
            ]
        ]
    },
    {
        "id": "9e2119270ea43dd1",
        "type": "inject",
        "z": "5c958e75c18c11fa",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 1100,
        "wires": [
            [
                "908846c9c578f5b0"
            ]
        ]
    },
    {
        "id": "c268430b89bb21f1",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "link in 38",
        "links": [
            "353986a45e4bb59e",
            "8c4d2eba08e22179"
        ],
        "x": 295,
        "y": 1060,
        "wires": [
            [
                "908846c9c578f5b0"
            ]
        ]
    },
    {
        "id": "5361efdd9f2f117e",
        "type": "link in",
        "z": "5c958e75c18c11fa",
        "name": "Heartbeat",
        "links": [
            "084a6d21376f614a"
        ],
        "x": 695,
        "y": 540,
        "wires": [
            [
                "0644a83ac15eefc3",
                "b3f07ae1802fd0cc",
                "18f578bce05db740",
                "85c037acf85d680c",
                "d69230a60aabb6fa"
            ]
        ]
    },
    {
        "id": "2e34f9e7ecfa37b8",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 1330,
        "y": 360,
        "wires": [
            [
                "7f59b925ba393cf2"
            ]
        ]
    },
    {
        "id": "8fe312644a698d31",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 1330,
        "y": 400,
        "wires": [
            [
                "7c47430c4742e0b3"
            ]
        ]
    },
    {
        "id": "3d923bec544da4c3",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 1330,
        "y": 440,
        "wires": [
            [
                "61054ed9cdc25191"
            ]
        ]
    },
    {
        "id": "b5c06c4418d28fb1",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 740,
        "y": 840,
        "wires": [
            [
                "08c06fa9208f394d"
            ]
        ]
    },
    {
        "id": "2d9fc96dafef8f2e",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 730,
        "y": 740,
        "wires": [
            [
                "6c1640c489db68a9"
            ]
        ]
    },
    {
        "id": "1e77602d38e8a1fa",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 730,
        "y": 940,
        "wires": [
            [
                "38c82fa554d85a9d"
            ]
        ]
    },
    {
        "id": "e1bb59b5e230a2be",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 1330,
        "y": 480,
        "wires": [
            [
                "460d2dd006113a0f"
            ]
        ]
    },
    {
        "id": "63bf0bede9532e29",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 730,
        "y": 1020,
        "wires": [
            [
                "b5b7875a010d5979"
            ]
        ]
    },
    {
        "id": "22bbd6c933eca601",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 1330,
        "y": 520,
        "wires": [
            [
                "9788f24f1d78d129"
            ]
        ]
    },
    {
        "id": "d8dcf3b22f5b87d9",
        "type": "uuid",
        "z": "5c958e75c18c11fa",
        "uuidVersion": "v4",
        "namespaceType": "",
        "namespace": "",
        "namespaceCustom": "",
        "name": "",
        "field": "messageid",
        "fieldType": "msg",
        "x": 730,
        "y": 1100,
        "wires": [
            [
                "86edb4bea16e1eff"
            ]
        ]
    },
    {
        "id": "2a0e772643a20a7a",
        "type": "json",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 310,
        "y": 640,
        "wires": [
            [
                "8b18e75b4ee195b5",
                "cc260e7c96ce87e7"
            ]
        ]
    },
    {
        "id": "66b0fc358adbb71d",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "allOn",
        "mode": "link",
        "links": [
            "a905dabdda9d3c73"
        ],
        "x": 1445,
        "y": 860,
        "wires": []
    },
    {
        "id": "8b784cf7eb569a73",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "allOff",
        "mode": "link",
        "links": [
            "2edbbe13f792909d"
        ],
        "x": 1445,
        "y": 900,
        "wires": []
    },
    {
        "id": "8b18e75b4ee195b5",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Commands",
        "func": "var message = JSON.parse(msg.payload);\n\n// Accessing the \"commands\" object from the parsed message\nvar commands = message.commands;\n\n// Extracting individual properties from the \"commands\" object\nvar manualMode = commands.manual;\nvar autoMode = commands.auto;\nvar defaultSettings = commands.default;\nvar userdefined1Settings = commands.user_defined1;\nvar userdefined2Settings = commands.user_defined2;\nvar userdefined3Settings = commands.user_defined3;\nvar requestStatus = commands.request_status;\nvar timetoggleKeepon = commands.time_toggle_keepon;\nvar timetoggleKeepoff = commands.time_toggle_keepoff;\nvar calendarOn = commands.calendaron;\nvar calendarOff = commands.calendaroff;\nvar hpszone1On = commands.hps_zone1_on;\nvar hpszone1Off = commands.hps_zone1_off;\nvar hpszone1Reset = commands.hps_zone1_reset;\nvar hpszone2On = commands.hps_zone2_on;\nvar hpszone2Off = commands.hps_zone2_off;\nvar hpszone2Reset = commands.hps_zone2_reset;\nvar ledzone1On = commands.led_zone1_on;\nvar ledzone1Off = commands.led_zone1_off;\nvar ledzone1Resetrh = commands.led_zone1_resetrh;\nvar ledzone1Dimup = commands.led_zone1_dimup;\nvar ledzone1Dimdown = commands.led_zone1_dimdown;\nvar ledzone2On = commands.led_zone2_on;\nvar ledzone2Off = commands.led_zone2_off;\nvar ledzone2Resetrh = commands.led_zone2_resetrh;\nvar ledzone2Dimup = commands.led_zone2_dimup;\nvar ledzone2Dimdown = commands.led_zone2_dimdown;\nvar allOn = commands.all_on;\nvar allOff = commands.all_off;\nvar dim = commands.dim;\nvar valueSend = commands.value_send;\nvar zone1Par = commands.zone1_par;\nvar zone1Temp = commands.zone1_temp;\nvar zone2Par = commands.zone2_par;\nvar zone2Temp = commands.zone2_temp;\nvar zone3Par = commands.zone3_par;\nvar zone3Temp = commands.zone3_temp;\nvar heatzone1 = commands.heat_zone1;\nvar heatzone2 = commands.heat_zone2;\nvar heatzone3 = commands.heat_zone3;\n\n// Create separate messages for each property\nvar manual_mode = { payload: manualMode };\nvar auto_mode = { payload: autoMode };\nvar default_settings = { payload: defaultSettings };\nvar user_defined1_settings = { payload: userdefined1Settings };\nvar user_defined2_settings = { payload: userdefined2Settings };\nvar user_defined3_settings = { payload: userdefined3Settings };\nvar request_status = { payload: requestStatus };\nvar time_toggle_keepon = { payload: timetoggleKeepon };\nvar time_toggle_keepoff = { payload: timetoggleKeepoff };\nvar calendaron = { payload: calendarOn };\nvar calendaroff = { payload: calendarOff };\nvar hps_zone1_on = { payload: hpszone1On };\nvar hps_zone1_off = { payload: hpszone1Off };\nvar hps_zone1_reset = { payload: hpszone1Reset };\nvar hps_zone2_on = { payload: hpszone2On };\nvar hps_zone2_off = { payload: hpszone2Off };\nvar hps_zone2_reset = { payload: hpszone2Reset };\nvar led_zone1_on = { payload:ledzone1On };\nvar led_zone1_off = { payload: ledzone1Off };\nvar led_zone1_resetrh = { payload: ledzone1Resetrh };\nvar led_zone1_dim_up = { payload: ledzone1Dimup };\nvar led_zone1_dim_down = { payload: ledzone1Dimdown };\nvar led_zone2_on = { payload: ledzone2On };\nvar led_zone2_off = { payload: ledzone2Off };\nvar led_zone2_resetrh = { payload: ledzone2Resetrh };\nvar led_zone2_dim_up = { payload: ledzone2Dimup };\nvar led_zone2_dim_down = { payload: ledzone2Dimdown };\nvar all_on = { payload: allOn };\nvar all_off = { payload: allOff };\nvar dim_set = { payload: dim };\nvar value_send = { payload: valueSend };\nvar zone1_par = { payload: zone1Par };\nvar zone1_temp = { payload: zone1Temp };\nvar zone2_par = { payload: zone2Par };\nvar zone2_temp = { payload: zone2Temp };\nvar zone3_par = { payload: zone3Par };\nvar zone3_temp = { payload: zone3Temp };\nvar heat_zone1 = { payload: heatzone1};\nvar heat_zone2 = { payload: heatzone2 };\nvar heat_zone3 = { payload: heatzone3 };\n\n//Outputs\n\nreturn [\n    manual_mode, \n    auto_mode, \n    default_settings, \n    user_defined1_settings, \n    user_defined2_settings, \n    user_defined3_settings, \n    request_status, \n    time_toggle_keepon, \n    time_toggle_keepoff, \n    calendaron, \n    calendaroff, \n    hps_zone1_on, \n    hps_zone1_off, \n    hps_zone1_reset,     \n    hps_zone2_on,\n    hps_zone2_off,\n    hps_zone2_reset,\n    led_zone1_on,\n    led_zone1_off,\n    led_zone1_resetrh,\n    led_zone1_dim_up,\n    led_zone1_dim_down,\n    led_zone2_on,\n    led_zone2_off,\n    led_zone2_resetrh,\n    led_zone2_dim_up,\n    led_zone2_dim_down,\n    all_on,\n    all_off,\n    dim_set,\n    value_send,\n    zone1_par,\n    zone1_temp,\n    zone2_par,\n    zone2_temp,\n    zone3_par,\n    zone3_temp,\n    heat_zone1,\n    heat_zone2,\n    heat_zone3\n    ];\n",
        "outputs": 40,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 640,
        "wires": [
            [
                "104a3be78d636928",
                "d8b43282cb7ed346"
            ],
            [
                "94fd95d373dd203b",
                "19f770f3165d8db1"
            ],
            [],
            [],
            [],
            [],
            [
                "87579f9c2a458f2f"
            ],
            [
                "c4453f5e0b082d8e"
            ],
            [
                "f69d9cdf93bdcd37"
            ],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [
                "2dbf4636bdd069ea"
            ],
            [
                "0931de0de90c864c"
            ],
            [
                "1e25dd56505f2bc3"
            ],
            [],
            [],
            [
                "f651ba305221e6fc"
            ],
            [
                "67cff214c4950d22"
            ],
            [
                "a48501b37e59a6e3"
            ],
            [],
            [],
            [
                "66b0fc358adbb71d"
            ],
            [
                "8b784cf7eb569a73"
            ],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [
                "ebef4b88ea0e36dd"
            ],
            [],
            []
        ],
        "outputLabels": [
            "manual",
            "auto",
            "default",
            "user_defined1",
            "user_defined2",
            "user_defined3",
            "request_status",
            "time_toggle_keepon",
            "time_toggle_keepoff",
            "calendaron",
            "calendaroff",
            "hps_zone1_on",
            "hps_zone1_off",
            "hps_zone1_reset",
            "hps_zone2_on",
            "hps_zone2_off",
            "hps_zone2_reset",
            "led_zone1_on",
            "led_zone1_off",
            "led_zone1_resetrh",
            "led_zone1_dimup",
            "led_zone1_dimdown",
            "led_zone2_on",
            "led_zone2_off",
            "led_zone2_resetrh",
            "led_zone2_dimup",
            "led_zone2_dimdown",
            "all_on",
            "all_off",
            "dim",
            "value_send",
            "zone1_par",
            "zone1_temp",
            "zone2_par",
            "zone2_temp",
            "zone3_par",
            "zone3_temp",
            "heat_zone1",
            "heat_zone2",
            "heat_zone3"
        ]
    },
    {
        "id": "87579f9c2a458f2f",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "all",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "rig_data",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "statuses",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "alarms",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "values",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "setpoints",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "schedules",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 1220,
        "y": 460,
        "wires": [
            [
                "8c4d2eba08e22179"
            ],
            [
                "353986a45e4bb59e"
            ],
            [
                "380a109b5b0f4ed7"
            ],
            [
                "6e157d869aaa1bdd"
            ],
            [
                "b9716e0db68d3549"
            ],
            [
                "60ef3136aed5618d"
            ],
            [
                "bd9270ae2a205639"
            ]
        ],
        "outputLabels": [
            "all",
            "rig_data",
            "statuses",
            "alarms",
            "values",
            "setpoints",
            "schedules"
        ]
    },
    {
        "id": "380a109b5b0f4ed7",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Statuses",
        "mode": "link",
        "links": [
            "9920de9808ae1c0d",
            "9018c60c68cb21f7"
        ],
        "x": 1445,
        "y": 420,
        "wires": []
    },
    {
        "id": "2dbf4636bdd069ea",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 1 On",
        "mode": "link",
        "links": [
            "cf3f497405a19b46"
        ],
        "x": 1445,
        "y": 620,
        "wires": []
    },
    {
        "id": "0931de0de90c864c",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 1 Off",
        "mode": "link",
        "links": [
            "04b913eb812ecddc"
        ],
        "x": 1445,
        "y": 660,
        "wires": []
    },
    {
        "id": "f651ba305221e6fc",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 2 On",
        "mode": "link",
        "links": [
            "c8b34e9b7c8d27a8"
        ],
        "x": 1445,
        "y": 740,
        "wires": []
    },
    {
        "id": "67cff214c4950d22",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 2 Off",
        "mode": "link",
        "links": [
            "1a0783ef556d8afe"
        ],
        "x": 1445,
        "y": 780,
        "wires": []
    },
    {
        "id": "6e157d869aaa1bdd",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Alarms",
        "mode": "link",
        "links": [
            "4409b52ab08955c6"
        ],
        "x": 1445,
        "y": 460,
        "wires": []
    },
    {
        "id": "b9716e0db68d3549",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Values",
        "mode": "link",
        "links": [
            "243d7c42c5b28334"
        ],
        "x": 1445,
        "y": 500,
        "wires": []
    },
    {
        "id": "60ef3136aed5618d",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Setpoints",
        "mode": "link",
        "links": [
            "c3064d1ad33f27eb"
        ],
        "x": 1445,
        "y": 540,
        "wires": []
    },
    {
        "id": "bd9270ae2a205639",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Schedules",
        "mode": "link",
        "links": [],
        "x": 1445,
        "y": 580,
        "wires": []
    },
    {
        "id": "353986a45e4bb59e",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request Rig Data",
        "mode": "link",
        "links": [
            "c268430b89bb21f1"
        ],
        "x": 1445,
        "y": 380,
        "wires": []
    },
    {
        "id": "8c4d2eba08e22179",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Request All",
        "mode": "link",
        "links": [
            "9018c60c68cb21f7",
            "4409b52ab08955c6",
            "243d7c42c5b28334",
            "c3064d1ad33f27eb",
            "c268430b89bb21f1"
        ],
        "x": 1445,
        "y": 340,
        "wires": []
    },
    {
        "id": "6d3260a9aa69da21",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Heartbeat",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::value_send",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 1100,
        "wires": [
            [
                "77c617b02a0b60e2"
            ]
        ]
    },
    {
        "id": "cc260e7c96ce87e7",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Setpoints",
        "func": "var message = JSON.parse(msg.payload);\n\n// Accessing the \"commands\" object from the parsed message\nvar setpoints = message.setpoints;\n\n// Extracting individual properties from the \"commands\" object\n//Heartbeat\nvar valueSend = setpoints.value_send;\n\n//Light\nvar ledZone1dim = setpoints.led_zone1_dim_man;\nvar ledZone2dim = setpoints.led_zone2_dim_man;\nvar lightHyst = setpoints.light_hyst;\n\n//Heat Temp\nvar heattempSp = setpoints.heat_sp;\nvar heattempMin = setpoints.heat_temp_min;\nvar heattempMax = setpoints.heat_temp_max;\nvar heattempHyst = setpoints.heat_temp_hyst;\n\n//Soil Temp\nvar soiltempSp = setpoints.soil_temp_sp;\nvar soiltempMin = setpoints.soil_temp_min;\nvar soiltempMax = setpoints.soil_temp_max;\nvar soiltempHyst = setpoints.soil_temp_hyst;\n\n//Soil Moisture\nvar soilmoistSp = setpoints.soil_moist_sp;\nvar soilmoistMin = setpoints.soil_moist_min;\nvar soilmoistMax = setpoints.soil_moist_max;\nvar soilmoistHyst = setpoints.soil_moist_hyst;\n\n//Soil Moisture\nvar co2ppmSp = setpoints.co2_ppm_sp;\nvar co2ppmMin = setpoints.co2_ppm_min;\nvar co2ppmMax = setpoints.co2_ppm_max;\nvar co2ppmHyst = setpoints.co2_ppm_hyst;\n\n//Time toggle\nvar timetoggleSph = setpoints.time_toggle_sph;\nvar timetoggleSpm = setpoints.time_toggle_spm;\n\n// Create separate messages for each property\nvar value_send = { payload: valueSend };\nvar led_zone1_dim_man = { payload: ledZone1dim };\nvar led_zone2_dim_man = { payload: ledZone2dim };\nvar light_hyst = { payload: lightHyst };\nvar heat_temp_sp = { payload: heattempSp };\nvar heat_temp_min = { payload: heattempMin };\nvar heat_temp_max = { payload: heattempMax };\nvar heat_temp_hyst = { payload: heattempHyst };\nvar soil_temp_sp = { payload: soiltempSp };\nvar soil_temp_min = { payload: soiltempMin };\nvar soil_temp_max = { payload: soiltempMax };\nvar soil_temp_hyst = { payload: soiltempHyst };\nvar soil_moist_sp = { payload: soilmoistSp };\nvar soil_moist_min = { payload: soilmoistMin };\nvar soil_moist_max = { payload: soilmoistMax };\nvar soil_moist_hyst = { payload: soilmoistHyst };\nvar co2_ppm_sp = { payload: co2ppmSp };\nvar co2_ppm_min = { payload: co2ppmMin };\nvar co2_ppm_max = { payload: co2ppmMax };\nvar co2_ppm_hyst = { payload: co2ppmHyst };\nvar time_toggle_sph = { payload: timetoggleSph };\nvar time_toggle_spm = { payload: timetoggleSpm };\n\n//Outputs\n\nreturn [\n    value_send,\n    led_zone1_dim_man,\n    led_zone2_dim_man,\n    light_hyst,\n    heat_temp_sp,\n    heat_temp_min,\n    heat_temp_max,\n    heat_temp_hyst,\n    soil_temp_sp,\n    soil_temp_min,\n    soil_temp_max,\n    soil_temp_hyst,\n    soil_moist_sp,\n    soil_moist_min,\n    soil_moist_max,\n    soil_moist_hyst,\n    co2_ppm_sp,\n    co2_ppm_min,\n    co2_ppm_max,\n    co2_ppm_hyst,\n    time_toggle_sph,\n    time_toggle_spm\n    ];\n",
        "outputs": 22,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 1460,
        "wires": [
            [
                "c30864065c5f957f"
            ],
            [
                "eafce30680e4cddc"
            ],
            [
                "db879ff26195a685"
            ],
            [
                "77986554ac3c7637"
            ],
            [
                "5853cd64e867062f"
            ],
            [
                "833ec1af53090fc8"
            ],
            [
                "7ecb0b99bc8d8395"
            ],
            [
                "a7ccdfc66071546c"
            ],
            [
                "6d3e8c3e7bfb38f9"
            ],
            [
                "d34456843be04bd7"
            ],
            [
                "a24279bfd6feeb48"
            ],
            [
                "129571701d5b193d"
            ],
            [
                "8b351663520ea291"
            ],
            [
                "7b499cb517eef412"
            ],
            [
                "a25224d13371515f"
            ],
            [
                "f0fcdc54117ae9d8"
            ],
            [
                "71e5e5495c2242a6"
            ],
            [
                "cefb589b7081a6d3"
            ],
            [
                "c06304e4ec2306f4"
            ],
            [
                "e9a186ed388a8ecb"
            ],
            [
                "579f6e8cd0378b28"
            ],
            [
                "7cfde749e01bf1a6"
            ]
        ],
        "outputLabels": [
            "value_send",
            "led_zone1_dim_man",
            "led_zone2_dim_man",
            "light_hyst",
            "heat_temp_sp",
            "heat_temp_min",
            "heat_temp_max",
            "heat_temp_hyst",
            "soil_temp_sp",
            "soil_temp_min",
            "soil_temp_max",
            "soil_temp_hyst",
            "soil_moist_sp",
            "soil_moist_min",
            "soil_moist_max",
            "soil_moist_hyst",
            "co2_ppm_sp",
            "co2_ppm_min",
            "co2_ppm_max",
            "co2_ppm_hyst",
            "time_toggle_sph",
            "time_toggle_spm"
        ]
    },
    {
        "id": "ebef4b88ea0e36dd",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "heat zones",
        "mode": "link",
        "links": [
            "0f9da4f6a0117415"
        ],
        "x": 1445,
        "y": 960,
        "wires": []
    },
    {
        "id": "eafce30680e4cddc",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 1 Dim",
        "mode": "link",
        "links": [
            "a04631e022506f34"
        ],
        "x": 1135,
        "y": 1140,
        "wires": []
    },
    {
        "id": "db879ff26195a685",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 2 Dim",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1180,
        "wires": []
    },
    {
        "id": "77986554ac3c7637",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Light Hysteresis",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1220,
        "wires": []
    },
    {
        "id": "5853cd64e867062f",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "heat_temp_sp",
        "mode": "link",
        "links": [
            "d1273705b095b51d"
        ],
        "x": 1135,
        "y": 1260,
        "wires": []
    },
    {
        "id": "833ec1af53090fc8",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "heat_temp_min",
        "mode": "link",
        "links": [
            "3bbc442d48d396d7"
        ],
        "x": 1135,
        "y": 1300,
        "wires": []
    },
    {
        "id": "7ecb0b99bc8d8395",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "heat_temp_max",
        "mode": "link",
        "links": [
            "87e91a34714bd2fd"
        ],
        "x": 1135,
        "y": 1340,
        "wires": []
    },
    {
        "id": "a7ccdfc66071546c",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "heat_temp_hyst",
        "mode": "link",
        "links": [
            "f2fde296498ae66c"
        ],
        "x": 1135,
        "y": 1380,
        "wires": []
    },
    {
        "id": "6d3e8c3e7bfb38f9",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_temp_sp",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1420,
        "wires": []
    },
    {
        "id": "d34456843be04bd7",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_temp_min",
        "mode": "link",
        "links": [
            "df30eda83482280e"
        ],
        "x": 1135,
        "y": 1460,
        "wires": []
    },
    {
        "id": "a24279bfd6feeb48",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_temp_max",
        "mode": "link",
        "links": [
            "38ce692ccb2b92a4",
            "87e91a34714bd2fd"
        ],
        "x": 1135,
        "y": 1500,
        "wires": []
    },
    {
        "id": "129571701d5b193d",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_temp_hyst",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1540,
        "wires": []
    },
    {
        "id": "8b351663520ea291",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_moist_sp",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1580,
        "wires": []
    },
    {
        "id": "7b499cb517eef412",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_moist_min",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1620,
        "wires": []
    },
    {
        "id": "a25224d13371515f",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_moist_max",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1660,
        "wires": []
    },
    {
        "id": "f0fcdc54117ae9d8",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "soil_moist_hyst",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1700,
        "wires": []
    },
    {
        "id": "71e5e5495c2242a6",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "co2_ppm_sp",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1740,
        "wires": []
    },
    {
        "id": "cefb589b7081a6d3",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "co2_ppm_min",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1780,
        "wires": []
    },
    {
        "id": "c06304e4ec2306f4",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "co2_ppm_max",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1820,
        "wires": []
    },
    {
        "id": "e9a186ed388a8ecb",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "co2_ppm_hyst",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1860,
        "wires": []
    },
    {
        "id": "c61c60c5829cf548",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Auto",
        "mode": "link",
        "links": [
            "8dbae981d000f6f4",
            "5a42cdc88bc06970",
            "f5b69c4af1250523"
        ],
        "x": 1365,
        "y": 280,
        "wires": []
    },
    {
        "id": "1e25dd56505f2bc3",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 1 Reset Counter",
        "mode": "link",
        "links": [
            "3f35148916fffce0"
        ],
        "x": 1445,
        "y": 700,
        "wires": []
    },
    {
        "id": "a48501b37e59a6e3",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "LED Zone 2 Reset Counter",
        "mode": "link",
        "links": [
            "cd4133df2856f757"
        ],
        "x": 1445,
        "y": 820,
        "wires": []
    },
    {
        "id": "e4b13e35db7eec59",
        "type": "inject",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Kick-start heartbeat",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 1150,
        "y": 1060,
        "wires": [
            [
                "77c617b02a0b60e2"
            ]
        ]
    },
    {
        "id": "a7d574fd1aba7882",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "function 20",
        "func": "// Convert hours to seconds and store in flow context\nif (msg.hasOwnProperty(\"hours\")) {\n    let hours = parseFloat(msg.hours);\n    if (!isNaN(hours)) {\n        // Save the converted value to flow context\n        flow.set(\"secondsFromHours\", hours * 3600);\n    } else {\n        node.error(\"Invalid input for hours\", msg);\n        return null; // Stop the flow if the input is invalid\n    }\n}\nreturn msg; // We don't need to output anything here, just store the value\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 1560,
        "wires": [
            [
                "082ce4f537151be2"
            ]
        ]
    },
    {
        "id": "579f6e8cd0378b28",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "hours",
        "rules": [
            {
                "t": "set",
                "p": "hours",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1560,
        "wires": [
            [
                "a7d574fd1aba7882"
            ]
        ]
    },
    {
        "id": "c4000ed4a20d4007",
        "type": "mqtt in",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Azure IoT Hub",
        "topic": "devices/99999/messages/devicebound/#",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "49292a711e42c921",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 640,
        "wires": [
            [
                "2a0e772643a20a7a",
                "01a5669e5a08b744"
            ]
        ]
    },
    {
        "id": "7cfde749e01bf1a6",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "minutes",
        "rules": [
            {
                "t": "set",
                "p": "minutes",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 1600,
        "wires": [
            [
                "70502131943693c1"
            ]
        ]
    },
    {
        "id": "70502131943693c1",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "function 21",
        "func": "// Convert minutes to seconds and store in flow context\nif (msg.hasOwnProperty(\"minutes\")) {\n    let minutes = parseFloat(msg.minutes);\n    if (!isNaN(minutes)) {\n        // Save the converted value to flow context\n        flow.set(\"secondsFromMinutes\", minutes * 60);\n    } else {\n        node.error(\"Invalid input for minutes\", msg);\n        return null; // Stop the flow if the input is invalid\n    }\n}\nreturn msg; // We don't need to output anything here, just store the value\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 1600,
        "wires": [
            [
                "082ce4f537151be2"
            ]
        ]
    },
    {
        "id": "01a5669e5a08b744",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 101",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 260,
        "y": 820,
        "wires": []
    },
    {
        "id": "32f4d5358bc57549",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Manual",
        "mode": "link",
        "links": [
            "5d841f47c278e5c5"
        ],
        "x": 1365,
        "y": 200,
        "wires": []
    },
    {
        "id": "104a3be78d636928",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1230,
        "y": 200,
        "wires": [
            [
                "32f4d5358bc57549"
            ]
        ]
    },
    {
        "id": "d8b43282cb7ed346",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1230,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "94fd95d373dd203b",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1230,
        "y": 280,
        "wires": [
            [
                "c61c60c5829cf548"
            ]
        ]
    },
    {
        "id": "19f770f3165d8db1",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1230,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "084a6d21376f614a",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Heartbeat",
        "mode": "link",
        "links": [
            "5361efdd9f2f117e"
        ],
        "x": 1535,
        "y": 1080,
        "wires": []
    },
    {
        "id": "77c617b02a0b60e2",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Interval",
        "func": "// Function to clear existing timers\nfunction clearTimers() {\n    var timerId = context.get('timerId');\n    var countdownTimerId = context.get('countdownTimerId');\n    if (timerId) {\n        clearInterval(timerId);\n        context.set('timerId', null);\n    }\n    if (countdownTimerId) {\n        clearInterval(countdownTimerId);\n        context.set('countdownTimerId', null);\n    }\n}\n\n// Function to start the timers\nfunction startTimers(interval) {\n    clearTimers();\n    var countdown = interval;\n    context.set('countdown', countdown);\n    updateStatus(countdown);\n\n    // Countdown timer\n    var countdownTimerId = setInterval(function () {\n        countdown -= 1;\n        context.set('countdown', countdown);\n        updateStatus(countdown);\n    }, 1000);\n    context.set('countdownTimerId', countdownTimerId);\n\n    // Main interval timer\n    var timerId = setInterval(function () {\n        node.send({ payload: true });\n        countdown = interval; // Reset countdown\n        context.set('countdown', countdown);\n        updateStatus(countdown);\n    }, interval * 1000);\n    context.set('timerId', timerId);\n}\n\n// Function to update the status below the node\nfunction updateStatus(countdown) {\n    node.status({ fill: \"blue\", shape: \"dot\", text: \"Next in: \" + countdown + \"s\" });\n    if (countdown <= 0) {\n        node.status({ fill: \"green\", shape: \"dot\", text: \"Sending message...\" });\n    }\n}\n\n// Retrieve the interval value (X) in seconds from the global context\nvar interval = global.get('value_send', 'file');\n\n// Check if the interval is not set or not a number\nif (typeof interval !== 'number' || interval <= 0) {\n    node.error(\"Interval is not set or invalid in global.value_send. Please set a positive number.\");\n    return null; // Stop the flow\n}\n\n// Check if the interval has changed or if this is the first run\nif (context.get('interval') !== interval || !context.get('timerId')) {\n    context.set('interval', interval);\n    startTimers(interval);\n}\n\n// On receiving any input message, start the timers\nif (msg.payload) {\n    startTimers(interval);\n}\n\n// Do not send a message immediately\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1080,
        "wires": [
            [
                "084a6d21376f614a"
            ]
        ],
        "info": "# Interval Function\r\nThis node sends a message in intervals. A message is sent every X seconds.\r\nX is set in global variable global.value_send.\r\nFlag displays the remaning time until next message is sent.\r\nOutput message is fixed to boolean true."
    },
    {
        "id": "082ce4f537151be2",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "function 22",
        "func": "// Retrieve the seconds from hours and minutes from the flow context\nlet secondsFromHours = flow.get(\"secondsFromHours\") || 0; // Default to 0 if not set\nlet secondsFromMinutes = flow.get(\"secondsFromMinutes\") || 0; // Default to 0 if not set\n\n// Sum the seconds from hours and minutes\nmsg.payload = secondsFromHours + secondsFromMinutes;\n\n// Optionally, clear the context values if they shouldn't persist beyond this point\nflow.set(\"secondsFromHours\", null);\nflow.set(\"secondsFromMinutes\", null);\n\nreturn msg; // Pass the message to the next node\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1750,
        "y": 1580,
        "wires": [
            [
                "b234806125d51d89"
            ]
        ]
    },
    {
        "id": "12f9dc023e428193",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 115",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2490,
        "y": 1480,
        "wires": []
    },
    {
        "id": "65de2088a1197d77",
        "type": "rbe",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 2170,
        "y": 1440,
        "wires": [
            [
                "12f9dc023e428193"
            ]
        ]
    },
    {
        "id": "c30864065c5f957f",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Filter",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "120",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "240",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "480",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "960",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1920",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3840",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 930,
        "y": 1100,
        "wires": [
            [
                "6d3260a9aa69da21"
            ],
            [
                "6d3260a9aa69da21"
            ],
            [
                "6d3260a9aa69da21"
            ],
            [
                "6d3260a9aa69da21"
            ],
            [
                "6d3260a9aa69da21"
            ],
            [
                "6d3260a9aa69da21"
            ]
        ],
        "info": "Filter to avoid corrupt payload interfereing with the heartbeat"
    },
    {
        "id": "c4453f5e0b082d8e",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Activate",
        "rules": [
            {
                "t": "set",
                "p": "activate",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1400,
        "wires": [
            [
                "edc226e913f22d60"
            ]
        ]
    },
    {
        "id": "b234806125d51d89",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "time",
        "rules": [
            {
                "t": "set",
                "p": "time",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1930,
        "y": 1580,
        "wires": [
            [
                "097936c4e3fd5b2e",
                "c656071896d90470"
            ]
        ]
    },
    {
        "id": "2d5dec55ddad315d",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Countdown",
        "func": "// Retrieve existing state from context\nlet countdown = context.get('countdown') || 0;\nlet intervalId = context.get('intervalId') || null;\nlet isActive = context.get('isActive') || false;\nlet endTime = context.get('endTime') || null;\nlet previousIsActive = context.get('previousIsActive') || false; // Track the previous state\n\n// Helper function to send the status to the appropriate outputs\nfunction updateStatus() {\n    node.status({\n        fill: isActive ? \"green\" : \"grey\",\n        shape: isActive ? \"dot\" : \"ring\",\n        text: isActive ? `${countdown} seconds remaining` : \"Inactive\"\n    });\n\n    // Construct an array with messages for each output\n    let messages = [\n        { payload: isActive },    // output 1: isActive\n        { payload: countdown },   // output 2: countdown\n        { payload: endTime }      // output 3: endTime\n    ];\n\n    // Send the messages to the outputs\n    node.send(messages);\n}\n\n// Helper function to start the countdown\nfunction startCountdown() {\n    isActive = true;\n    endTime = Date.now() + countdown * 1000; // set the endTime at the start of the countdown\n    intervalId = setInterval(function () {\n        countdown -= 1;\n        if (countdown <= 0) {\n            clearInterval(intervalId);\n            intervalId = null;\n            isActive = false;\n            countdown = 0;\n            endTime = null; // reset endTime when countdown ends\n        }\n        context.set('isActive', isActive);\n        context.set('countdown', countdown);\n        context.set('intervalId', intervalId);\n        context.set('endTime', endTime);\n        updateStatus();\n    }, 1000);\n}\n\n// If the activate command is received\nif (msg.hasOwnProperty('activate')) {\n    if (msg.activate && !isActive) {\n        // If not already active, start the countdown\n        startCountdown();\n    } else if (!msg.activate && isActive) {\n        // If active, stop the countdown\n        clearInterval(intervalId);\n        intervalId = null;\n        isActive = false;\n        endTime = null; // reset endTime when countdown is stopped\n    }\n    context.set('intervalId', intervalId);\n    context.set('isActive', isActive);\n    context.set('endTime', endTime);\n    updateStatus();\n    return; // Exit the function after handling activation/deactivation\n}\n\n// If the time is set\nif (msg.hasOwnProperty('time')) {\n    // Update the countdown duration\n    countdown = Number(msg.time) || 0;\n    context.set('countdown', countdown);\n\n    // If the countdown is active, reset and start with the new value\n    if (isActive) {\n        clearInterval(intervalId);\n        startCountdown(); // this will set a new endTime\n    } else {\n        // If inactive, just update the time and endTime should remain null\n        endTime = null;\n    }\n    context.set('endTime', endTime);\n    updateStatus();\n}\n\n// Always send an update on the status when a message is received\nupdateStatus();\n",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2010,
        "y": 1740,
        "wires": [
            [
                "7c7961b28b141a86"
            ],
            [
                "d1365cb6e24589bb"
            ],
            [
                "9c1991e4afee9481"
            ]
        ]
    },
    {
        "id": "e590af62c71c185e",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 116",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2490,
        "y": 1660,
        "wires": []
    },
    {
        "id": "905afc5d428f3515",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 118",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2490,
        "y": 1800,
        "wires": []
    },
    {
        "id": "9c1991e4afee9481",
        "type": "rbe",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 2190,
        "y": 1800,
        "wires": [
            [
                "905afc5d428f3515"
            ]
        ]
    },
    {
        "id": "f69d9cdf93bdcd37",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Activate",
        "rules": [
            {
                "t": "set",
                "p": "activate",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1740,
        "wires": [
            [
                "2d5dec55ddad315d"
            ]
        ]
    },
    {
        "id": "7f56ddbc9483c70f",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2270,
        "y": 1640,
        "wires": [
            [
                "e590af62c71c185e"
            ]
        ]
    },
    {
        "id": "7c24b8b2a54af35f",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2270,
        "y": 1680,
        "wires": [
            [
                "e590af62c71c185e"
            ]
        ]
    },
    {
        "id": "47d2946ece749c46",
        "type": "inject",
        "z": "ebc3b5acb2fcbb4e",
        "name": "payload true",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 2290,
        "y": 1940,
        "wires": [
            [
                "dc29c3cc058e5282"
            ]
        ]
    },
    {
        "id": "57c16e56eb48f82b",
        "type": "inject",
        "z": "ebc3b5acb2fcbb4e",
        "name": "payload false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 2290,
        "y": 1980,
        "wires": [
            [
                "dc29c3cc058e5282"
            ]
        ]
    },
    {
        "id": "dc29c3cc058e5282",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Check lighting status",
        "func": "var lighting = flow.get('lighting') || false;\nif(lighting === true) {\n    return msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2710,
        "y": 1940,
        "wires": [
            [
                "6f3974ccf10eae34"
            ]
        ]
    },
    {
        "id": "6f3974ccf10eae34",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 122",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 2920,
        "y": 1960,
        "wires": []
    },
    {
        "id": "ebf3059878bdb8ee",
        "type": "change",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Set lighting",
        "rules": [
            {
                "t": "set",
                "p": "lighting",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2400,
        "y": 2040,
        "wires": [
            [
                "dc29c3cc058e5282"
            ]
        ]
    },
    {
        "id": "2ac7750ea4f5ac8f",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "KeepOn True",
        "mode": "link",
        "links": [
            "45e0572812ad6655"
        ],
        "x": 2545,
        "y": 1280,
        "wires": []
    },
    {
        "id": "954acb919ed4ddfb",
        "type": "link out",
        "z": "ebc3b5acb2fcbb4e",
        "name": "KeepOn False",
        "mode": "link",
        "links": [
            "203eefdd249d0f85"
        ],
        "x": 2545,
        "y": 1320,
        "wires": []
    },
    {
        "id": "d1365cb6e24589bb",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 125",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2490,
        "y": 1740,
        "wires": []
    },
    {
        "id": "245df059f749fcb9",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 129",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2490,
        "y": 1420,
        "wires": []
    },
    {
        "id": "9fc0dd76bed45dcf",
        "type": "debug",
        "z": "ebc3b5acb2fcbb4e",
        "name": "debug 130",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 2490,
        "y": 1360,
        "wires": []
    },
    {
        "id": "097936c4e3fd5b2e",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1930,
        "y": 1500,
        "wires": [
            [
                "edc226e913f22d60"
            ]
        ]
    },
    {
        "id": "edc226e913f22d60",
        "type": "function",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Countdown",
        "func": "// Retrieve existing state from context\nlet countdown = context.get('countdown') || 0;\nlet intervalId = context.get('intervalId') || null;\nlet isActive = context.get('isActive') || false;\nlet endTime = context.get('endTime') || null;\n\n// Helper function to send the status to the appropriate outputs\nfunction updateStatus() {\n    node.status({\n        fill: isActive ? \"green\" : \"grey\",\n        shape: isActive ? \"dot\" : \"ring\",\n        text: isActive ? `${countdown} seconds remaining` : \"Inactive\"\n    });\n    node.send([\n        { payload: isActive },    // output 1: isActive\n        { payload: countdown },   // output 2: countdown\n        { payload: endTime }      // output 3: endTime (remains constant until reset)\n    ]);\n}\n\n// Helper function to start the countdown\nfunction startCountdown() {\n    isActive = true;\n    endTime = Date.now() + countdown * 1000; // set the endTime at the start of the countdown\n    intervalId = setInterval(function () {\n        countdown -= 1;\n        if (countdown <= 0) {\n            clearInterval(intervalId);\n            intervalId = null;\n            isActive = false;\n            countdown = 0;\n            endTime = null; // reset endTime when countdown ends\n        }\n        context.set('isActive', isActive);\n        context.set('countdown', countdown);\n        context.set('intervalId', intervalId);\n        context.set('endTime', endTime);\n        updateStatus();\n    }, 1000);\n}\n\n// If the activate command is received\nif (msg.hasOwnProperty('activate')) {\n    if (msg.activate && !isActive) {\n        // If not already active, start the countdown\n        startCountdown();\n    } else if (!msg.activate && isActive) {\n        // If active, stop the countdown\n        clearInterval(intervalId);\n        intervalId = null;\n        isActive = false;\n        endTime = null; // reset endTime when countdown is stopped\n    }\n    context.set('intervalId', intervalId);\n    context.set('isActive', isActive);\n    context.set('endTime', endTime);\n    updateStatus();\n    return; // Exit the function after handling activation/deactivation\n}\n\n// If the time is set\nif (msg.hasOwnProperty('time')) {\n    // Update the countdown duration\n    countdown = Number(msg.time) || 0;\n    context.set('countdown', countdown);\n\n    // If the countdown is active, reset and start with the new value\n    if (isActive) {\n        clearInterval(intervalId);\n        startCountdown(); // this will set a new endTime\n    } else {\n        // If inactive, just update the time and endTime should remain null\n        endTime = null;\n    }\n    context.set('endTime', endTime);\n    updateStatus();\n}\n\n// Always send an update on the status when a message is received\nupdateStatus();\n",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1990,
        "y": 1380,
        "wires": [
            [
                "9fc0dd76bed45dcf",
                "91754f4b46b3daa6"
            ],
            [
                "245df059f749fcb9"
            ],
            [
                "65de2088a1197d77"
            ]
        ]
    },
    {
        "id": "c656071896d90470",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1930,
        "y": 1640,
        "wires": [
            [
                "2d5dec55ddad315d"
            ]
        ]
    },
    {
        "id": "1c0e980a50f8d09d",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2330,
        "y": 1280,
        "wires": [
            [
                "2ac7750ea4f5ac8f"
            ]
        ]
    },
    {
        "id": "3635d7b2eabcc354",
        "type": "switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2330,
        "y": 1320,
        "wires": [
            [
                "954acb919ed4ddfb"
            ]
        ]
    },
    {
        "id": "91754f4b46b3daa6",
        "type": "rbe",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 2150,
        "y": 1320,
        "wires": [
            [
                "1c0e980a50f8d09d",
                "3635d7b2eabcc354"
            ]
        ]
    },
    {
        "id": "7c7961b28b141a86",
        "type": "rbe",
        "z": "ebc3b5acb2fcbb4e",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 2130,
        "y": 1660,
        "wires": [
            [
                "7f56ddbc9483c70f",
                "7c24b8b2a54af35f"
            ]
        ]
    },
    {
        "id": "0aeae5a28a063dc5",
        "type": "ui_switch",
        "z": "ebc3b5acb2fcbb4e",
        "name": "Lighting",
        "label": "Lighting",
        "tooltip": "",
        "group": "6906c99d758d2e40",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 2210,
        "y": 2040,
        "wires": [
            [
                "ebf3059878bdb8ee"
            ]
        ]
    }
]